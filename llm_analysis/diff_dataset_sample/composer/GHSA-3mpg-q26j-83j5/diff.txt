--- a/src/CodeFile.php
+++ b/src/CodeFile.php
@@ -5,23 +5,23 @@
  * @license http://www.yiiframework.com/license/
  */
 namespace yii\gii;
 use Yii;
 use yii\base\BaseObject;
 use yii\gii\components\DiffRendererHtmlInline;
 use yii\helpers\Html;
 /**
  * CodeFile represents a code file to be generated.
  *
- * @property-read string $relativePath The code file path relative to the application base path. This property
- * is read-only.
- * @property-read string $type The code file extension (e.g. php, txt). This property is read-only.
+ * @property string $relativePath The code file path relative to the application base path. This property is
+ * read-only.
+ * @property string $type The code file extension (e.g. php, txt). This property is read-only.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
  */
 class CodeFile extends BaseObject
 {
     /**
      * The code file is new.
      */
     const OP_CREATE = 'create';

--- a/src/Generator.php
+++ b/src/Generator.php
@@ -17,24 +17,24 @@
  * A generator instance is responsible for taking user inputs, validating them,
  * and using them to generate the corresponding code based on a set of code template files.
  *
  * A generator class typically needs to implement the following methods:
  *
  * - [[getName()]]: returns the name of the generator
  * - [[getDescription()]]: returns the detailed description of the generator
  * - [[generate()]]: generates the code based on the current user input and the specified code template files.
  *   This is the place where main code generation code resides.
  *
- * @property-read string $description The detailed description of the generator. This property is read-only.
- * @property-read string $stickyDataFile The file path that stores the sticky attribute values. This property
- * is read-only.
- * @property-read string $templatePath The root path of the template files that are currently being used. This
+ * @property string $description The detailed description of the generator. This property is read-only.
+ * @property string $stickyDataFile The file path that stores the sticky attribute values. This property is
+ * read-only.
+ * @property string $templatePath The root path of the template files that are currently being used. This
  * property is read-only.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
  */
 abstract class Generator extends Model
 {
     /**
      * @var array a list of available code templates. The array keys are the template names,
      * and the array values are the corresponding template paths or path aliases.
@@ -351,26 +351,22 @@
             } elseif (!is_dir($path)) {
                 $this->addError($attribute, "Please make sure the directory containing this class exists: $path");
             }
         }
     }
     /**
      * Checks if message category is not empty when I18N is enabled.
      */
     public function validateMessageCategory()
     {
-        if ($this->enableI18N) {
-            if (empty($this->messageCategory)) {
-                $this->addError('messageCategory', "Message Category cannot be blank.");
-            } elseif (!preg_match('~\w+~', $this->messageCategory)) {
-                $this->addError('messageCategory', "Message Category is not valid. It should contain only alphanumeric characters and _.");
-            }
+        if ($this->enableI18N && empty($this->messageCategory)) {
+            $this->addError('messageCategory', "Message Category cannot be blank.");
         }
     }
     /**
      * @param string $value the attribute to be validated
      * @return bool whether the value is a reserved PHP keyword.
      */
     public function isReservedKeyword($value)
     {
         static $keywords = [
             '__class__',
@@ -410,21 +406,20 @@
             'endwhile',
             'eval',
             'exception',
             'exit',
             'extends',
             'final',
             'finally',
             'for',
             'foreach',
             'function',
-            'fn',
             'global',
             'goto',
             'if',
             'implements',
             'include',
             'include_once',
             'instanceof',
             'insteadof',
             'interface',
             'isset',
@@ -446,21 +441,20 @@
             'switch',
             'this',
             'throw',
             'trait',
             'try',
             'unset',
             'use',
             'var',
             'while',
             'xor',
-            'yield'
         ];
         return in_array(strtolower($value), $keywords, true);
     }
     /**
      * Generates a string depending on enableI18N property
      *
      * @param string $string the text be generated
      * @param array $placeholders the placeholders to use by `Yii::t()`
      * @return string
      */

--- a/src/assets/js/gii.js
+++ b/src/assets/js/gii.js
@@ -179,42 +179,34 @@
             initFilterRows();
             $('#model-generator #generator-tablename').change(function () {
                 var show = ($(this).val().indexOf('*') === -1);
                 $('.field-generator-modelclass').toggle(show);
                 if ($('#generator-generatequery').is(':checked')) {
                     $('.field-generator-queryclass').toggle(show);
                 }
                 $('.field-generator-caseinsensitive').toggle(!show);
             }).change();
             $('#model-generator #generator-tablename').on('blur', function () {
-                var $this = $(this);
-                var $modelClass = $('#generator-modelclass');
-                var tableName = $this.val();
-                var tablePrefix = $this.data('table-prefix') || '';
+                var tableName = $(this).val();
+                var tablePrefix = $(this).attr('table_prefix') || '';
                 if (tablePrefix.length) {
                     if (tableName.slice(0, tablePrefix.length) === tablePrefix) {
                         tableName = tableName.slice(tablePrefix.length);
                     }
                 }
-                if ($modelClass.val() === '' && tableName && tableName.indexOf('*') === -1) {
-                    ajaxRequest = $.ajax({
-                        type: 'POST',
-                        cache: false,
-                        url: $this.data('action'),
-                        data: $('#model-generator').serializeArray(),
-                        success: function (response) {
-                            $modelClass.val(response).blur();
-                        },
-                        error: function (XMLHttpRequest, textStatus, errorThrown) {
-                            $modal.find('.modal-body').html('<div class="error">' + XMLHttpRequest.responseText + '</div>');
-                        }
+                if ($('#generator-modelclass').val() === '' && tableName && tableName.indexOf('*') === -1) {
+                    var modelClass = '';
+                    $.each(tableName.split(/\.|\_/), function() {
+                        if(this.length>0)
+                            modelClass+=this.substring(0,1).toUpperCase()+this.substring(1);
                     });
+                    $('#generator-modelclass').val(modelClass).blur();
                 }
             });
             $('#model-generator #generator-modelclass').on('blur', function () {
                 var modelClass = $(this).val();
                 if (modelClass !== '') {
                     var queryClass = $('#generator-queryclass').val();
                     if (queryClass === '') {
                         queryClass = modelClass + 'Query';
                         $('#generator-queryclass').val(queryClass);
                     }

--- a/src/generators/controller/Generator.php
+++ b/src/generators/controller/Generator.php
@@ -6,26 +6,25 @@
  */
 namespace yii\gii\generators\controller;
 use Yii;
 use yii\gii\CodeFile;
 use yii\helpers\Html;
 use yii\helpers\Inflector;
 use yii\helpers\StringHelper;
 /**
  * This generator will generate a controller and one or a few action view files.
  *
- * @property-read array $actionIDs An array of action IDs entered by the user. This property is read-only.
- * @property-read string $controllerFile The controller class file path. This property is read-only.
- * @property-read string $controllerID The controller ID. This property is read-only.
- * @property-read string $controllerNamespace The namespace of the controller class. This property is
- * read-only.
- * @property-read string $controllerSubPath The controller sub path. This property is read-only.
+ * @property array $actionIDs An array of action IDs entered by the user. This property is read-only.
+ * @property string $controllerFile The controller class file path. This property is read-only.
+ * @property string $controllerID The controller ID. This property is read-only.
+ * @property string $controllerNamespace The namespace of the controller class. This property is read-only.
+ * @property string $controllerSubPath The controller sub path. This property is read-only.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
  */
 class Generator extends \yii\gii\Generator
 {
     /**
      * @var string the controller class name
      */
     public $controllerClass;

--- a/src/generators/crud/Generator.php
+++ b/src/generators/crud/Generator.php
@@ -9,27 +9,27 @@
 use yii\db\ActiveRecord;
 use yii\db\BaseActiveRecord;
 use yii\db\Schema;
 use yii\gii\CodeFile;
 use yii\helpers\Inflector;
 use yii\helpers\VarDumper;
 use yii\web\Controller;
 /**
  * Generates CRUD
  *
- * @property-read array $columnNames Model column names. This property is read-only.
- * @property-read string $controllerID The controller ID (without the module ID prefix). This property is
+ * @property array $columnNames Model column names. This property is read-only.
+ * @property string $controllerID The controller ID (without the module ID prefix). This property is
  * read-only.
- * @property-read string $nameAttribute This property is read-only.
- * @property-read array $searchAttributes Searchable attributes. This property is read-only.
- * @property-read bool|\yii\db\TableSchema $tableSchema This property is read-only.
- * @property-read string $viewPath The controller view path. This property is read-only.
+ * @property string $nameAttribute This property is read-only.
+ * @property array $searchAttributes Searchable attributes. This property is read-only.
+ * @property bool|\yii\db\TableSchema $tableSchema This property is read-only.
+ * @property string $viewPath The controller view path. This property is read-only.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
  */
 class Generator extends \yii\gii\Generator
 {
     public $modelClass;
     public $controllerClass;
     public $viewPath;
     public $baseControllerClass = 'yii\web\Controller';

--- a/src/generators/crud/default/controller.php
+++ b/src/generators/crud/default/controller.php
@@ -14,79 +14,65 @@
 }
 /* @var $class ActiveRecordInterface */
 $class = $generator->modelClass;
 $pks = $class::primaryKey();
 $urlParams = $generator->generateUrlParams();
 $actionParams = $generator->generateActionParams();
 $actionParamComments = $generator->generateActionParamComments();
 echo "<?php\n";
 ?>
 namespace <?= StringHelper::dirname(ltrim($generator->controllerClass, '\\')) ?>;
+use Yii;
 use <?= ltrim($generator->modelClass, '\\') ?>;
 <?php if (!empty($generator->searchModelClass)): ?>
 use <?= ltrim($generator->searchModelClass, '\\') . (isset($searchModelAlias) ? " as $searchModelAlias" : "") ?>;
 <?php else: ?>
 use yii\data\ActiveDataProvider;
 <?php endif; ?>
 use <?= ltrim($generator->baseControllerClass, '\\') ?>;
 use yii\web\NotFoundHttpException;
 use yii\filters\VerbFilter;
 /**
  * <?= $controllerClass ?> implements the CRUD actions for <?= $modelClass ?> model.
  */
 class <?= $controllerClass ?> extends <?= StringHelper::basename($generator->baseControllerClass) . "\n" ?>
 {
     /**
-     * @inheritDoc
+     * {@inheritdoc}
      */
     public function behaviors()
     {
-        return array_merge(
-            parent::behaviors(),
-            [
-                'verbs' => [
-                    'class' => VerbFilter::className(),
-                    'actions' => [
-                        'delete' => ['POST'],
-                    ],
+        return [
+            'verbs' => [
+                'class' => VerbFilter::className(),
+                'actions' => [
+                    'delete' => ['POST'],
                 ],
-            ]
-        );
+            ],
+        ];
     }
     /**
      * Lists all <?= $modelClass ?> models.
      * @return mixed
      */
     public function actionIndex()
     {
 <?php if (!empty($generator->searchModelClass)): ?>
         $searchModel = new <?= isset($searchModelAlias) ? $searchModelAlias : $searchModelClass ?>();
-        $dataProvider = $searchModel->search($this->request->queryParams);
+        $dataProvider = $searchModel->search(Yii::$app->request->queryParams);
         return $this->render('index', [
             'searchModel' => $searchModel,
             'dataProvider' => $dataProvider,
         ]);
 <?php else: ?>
         $dataProvider = new ActiveDataProvider([
             'query' => <?= $modelClass ?>::find(),
-            /*
-            'pagination' => [
-                'pageSize' => 50
-            ],
-            'sort' => [
-                'defaultOrder' => [
-<?php foreach ($pks as $pk): ?>
-                    <?= "'$pk' => SORT_DESC,\n" ?>
-<?php endforeach; ?>
-                ]
-            ],
-            */
         ]);
         return $this->render('index', [
             'dataProvider' => $dataProvider,
         ]);
 <?php endif; ?>
     }
     /**
      * Displays a single <?= $modelClass ?> model.
      * <?= implode("\n     * ", $actionParamComments) . "\n" ?>
      * @return mixed
@@ -99,42 +85,38 @@
         ]);
     }
     /**
      * Creates a new <?= $modelClass ?> model.
      * If creation is successful, the browser will be redirected to the 'view' page.
      * @return mixed
      */
     public function actionCreate()
     {
         $model = new <?= $modelClass ?>();
-        if ($this->request->isPost) {
-            if ($model->load($this->request->post()) && $model->save()) {
-                return $this->redirect(['view', <?= $urlParams ?>]);
-            }
-        } else {
-            $model->loadDefaultValues();
+        if ($model->load(Yii::$app->request->post()) && $model->save()) {
+            return $this->redirect(['view', <?= $urlParams ?>]);
         }
         return $this->render('create', [
             'model' => $model,
         ]);
     }
     /**
      * Updates an existing <?= $modelClass ?> model.
      * If update is successful, the browser will be redirected to the 'view' page.
      * <?= implode("\n     * ", $actionParamComments) . "\n" ?>
      * @return mixed
      * @throws NotFoundHttpException if the model cannot be found
      */
     public function actionUpdate(<?= $actionParams ?>)
     {
         $model = $this->findModel(<?= $actionParams ?>);
-        if ($this->request->isPost && $model->load($this->request->post()) && $model->save()) {
+        if ($model->load(Yii::$app->request->post()) && $model->save()) {
             return $this->redirect(['view', <?= $urlParams ?>]);
         }
         return $this->render('update', [
             'model' => $model,
         ]);
     }
     /**
      * Deletes an existing <?= $modelClass ?> model.
      * If deletion is successful, the browser will be redirected to the 'index' page.
      * <?= implode("\n     * ", $actionParamComments) . "\n" ?>

--- a/src/generators/crud/default/views/index.php
+++ b/src/generators/crud/default/views/index.php
@@ -1,15 +1,17 @@
 <?php
 use yii\helpers\Inflector;
 use yii\helpers\StringHelper;
 /* @var $this yii\web\View */
 /* @var $generator yii\gii\generators\crud\Generator */
+$urlParams = $generator->generateUrlParams();
+$nameAttribute = $generator->getNameAttribute();
 echo "<?php\n";
 ?>
 use yii\helpers\Html;
 use <?= $generator->indexWidgetType === 'grid' ? "yii\\grid\\GridView" : "yii\\widgets\\ListView" ?>;
 <?= $generator->enablePjax ? 'use yii\widgets\Pjax;' : '' ?>
 /* @var $this yii\web\View */
 <?= !empty($generator->searchModelClass) ? "/* @var \$searchModel " . ltrim($generator->searchModelClass, '\\') . " */\n" : '' ?>
 /* @var $dataProvider yii\data\ActiveDataProvider */
 $this->title = <?= $generator->generateString(Inflector::pluralize(Inflector::camel2words(StringHelper::basename($generator->modelClass)))) ?>;
 $this->params['breadcrumbs'][] = $this->title;
@@ -50,16 +52,16 @@
 }
 ?>
             ['class' => 'yii\grid\ActionColumn'],
         ],
     ]); ?>
 <?php else: ?>
     <?= "<?= " ?>ListView::widget([
         'dataProvider' => $dataProvider,
         'itemOptions' => ['class' => 'item'],
         'itemView' => function ($model, $key, $index, $widget) {
-            return Html::a(Html::encode($model-><?= $generator->getNameAttribute() ?>), ['view', <?= $generator->generateUrlParams() ?>]);
+            return Html::a(Html::encode($model-><?= $nameAttribute ?>), ['view', <?= $urlParams ?>]);
         },
     ]) ?>
 <?php endif; ?>
 <?= $generator->enablePjax ? "    <?php Pjax::end(); ?>\n" : '' ?>
 </div>

--- a/src/generators/extension/Generator.php
+++ b/src/generators/extension/Generator.php
@@ -3,23 +3,23 @@
  * @link http://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
  * @license http://www.yiiframework.com/license/
  */
 namespace yii\gii\generators\extension;
 use Yii;
 use yii\gii\CodeFile;
 /**
  * This generator will generate the skeleton files needed by an extension.
  *
- * @property-read string $keywordsArrayJson A json encoded array with the given keywords. This property is
+ * @property string $keywordsArrayJson A json encoded array with the given keywords. This property is
  * read-only.
- * @property-read bool $outputPath The directory that contains the module class. This property is read-only.
+ * @property bool $outputPath The directory that contains the module class. This property is read-only.
  *
  * @author Tobias Munk <schmunk@usrbin.de>
  * @since 2.0
  */
 class Generator extends \yii\gii\Generator
 {
     public $vendorName;
     public $packageName = "yii2-";
     public $namespace;
     public $type = "yii2-extension";

--- a/src/generators/form/Generator.php
+++ b/src/generators/form/Generator.php
@@ -4,22 +4,21 @@
  * @copyright Copyright (c) 2008 Yii Software LLC
  * @license http://www.yiiframework.com/license/
  */
 namespace yii\gii\generators\form;
 use Yii;
 use yii\base\Model;
 use yii\gii\CodeFile;
 /**
  * This generator will generate an action view file based on the specified model class.
  *
- * @property-read array $modelAttributes List of safe attributes of [[modelClass]]. This property is
- * read-only.
+ * @property array $modelAttributes List of safe attributes of [[modelClass]]. This property is read-only.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
  */
 class Generator extends \yii\gii\Generator
 {
     public $modelClass;
     public $viewPath = '@app/views';
     public $viewName;
     public $scenarioName;

--- a/src/generators/form/default/form.php
+++ b/src/generators/form/default/form.php
@@ -1,25 +1,24 @@
 <?php
 /**
  * This is the template for generating an action view file.
  */
 /* @var $this yii\web\View */
 /* @var $generator yii\gii\generators\form\Generator */
-$class = str_replace('/', '-', trim($generator->viewName, '_'));
 echo "<?php\n";
 ?>
 use yii\helpers\Html;
 use yii\widgets\ActiveForm;
 /* @var $this yii\web\View */
 /* @var $model <?= ltrim($generator->modelClass, '\\') ?> */
 /* @var $form ActiveForm */
 <?= "?>" ?>
-<div class="<?= $class ?>">
+<div class="<?= str_replace('/', '-', trim($generator->viewName, '_')) ?>">
     <?= "<?php " ?>$form = ActiveForm::begin(); ?>
     <?php foreach ($generator->getModelAttributes() as $attribute): ?>
     <?= "<?= " ?>$form->field($model, '<?= $attribute ?>') ?>
     <?php endforeach; ?>
         <div class="form-group">
             <?= "<?= " ?>Html::submitButton(<?= $generator->generateString('Submit') ?>, ['class' => 'btn btn-primary']) ?>
         </div>
     <?= "<?php " ?>ActiveForm::end(); ?>
-</div><!-- <?= $class ?> -->
+</div><!-- <?= str_replace('/', '-', trim($generator->viewName, '-')) ?> -->

--- a/src/generators/model/Generator.php
+++ b/src/generators/model/Generator.php
@@ -937,29 +937,20 @@
             $this->classNames[$fullTableName] = Inflector::camelize(Inflector::camel2words($schemaName.$className));
         } else {
             $this->classNames[$fullTableName] = Inflector::id2camel($schemaName.$className, '_');
         }
         if ($this->singularize) {
             $this->classNames[$fullTableName] = Inflector::singularize($this->classNames[$fullTableName]);
         }
         return $this->classNames[$fullTableName];
     }
     /**
-     * Action to generate class name.
-     * @return string
-     * @since 2.2.2
-     */
-    public function actionGenerateClassName()
-    {
-        return $this->generateClassName($this->tableName);
-    }
-    /**
      * Generates a query class name from the specified model class name.
      * @param string $modelClassName model class name
      * @return string generated class name
      */
     protected function generateQueryClassName($modelClassName)
     {
         $queryClassName = $this->queryClass;
         if (empty($queryClassName) || strpos($this->tableName, '*') !== false) {
             $queryClassName = $modelClassName . 'Query';
         }

--- a/src/generators/model/form.php
+++ b/src/generators/model/form.php
@@ -1,37 +1,31 @@
 <?php
 use yii\gii\generators\model\Generator;
-use yii\helpers\Url;
 /* @var $this yii\web\View */
 /* @var $form yii\widgets\ActiveForm */
 /* @var $generator yii\gii\generators\model\Generator */
+echo $form->field($generator, 'tableName')->textInput(['table_prefix' => $generator->getTablePrefix()]);
+echo $form->field($generator, 'modelClass');
+echo $form->field($generator, 'standardizeCapitals')->checkbox();
+echo $form->field($generator, 'singularize')->checkbox();
+echo $form->field($generator, 'ns');
+echo $form->field($generator, 'baseClass');
 echo $form->field($generator, 'db');
 echo $form->field($generator, 'useTablePrefix')->checkbox();
-echo $form->field($generator, 'useSchemaName')->checkbox();
-echo $form->field($generator, 'tableName')->textInput([
-    'data' => [
-        'table-prefix' => $generator->getTablePrefix(), 
-        'action' => Url::to(['default/action', 'id' => 'model', 'name' => 'GenerateClassName'])
-    ]
-]);
-echo $form->field($generator, 'standardizeCapitals')->checkbox();
-echo $form->field($generator, 'singularize')->checkbox();
-echo $form->field($generator, 'modelClass');
-echo $form->field($generator, 'ns');
-echo $form->field($generator, 'baseClass');
 echo $form->field($generator, 'generateRelations')->dropDownList([
     Generator::RELATIONS_NONE => 'No relations',
     Generator::RELATIONS_ALL => 'All relations',
     Generator::RELATIONS_ALL_INVERSE => 'All relations with inverse',
 ]);
 echo $form->field($generator, 'generateJunctionRelationMode')->dropDownList([
     Generator::JUNCTION_RELATION_VIA_TABLE => 'Via Table',
     Generator::JUNCTION_RELATION_VIA_MODEL => 'Via Model',
 ]);
 echo $form->field($generator, 'generateRelationsFromCurrentSchema')->checkbox();
 echo $form->field($generator, 'generateLabelsFromComments')->checkbox();
 echo $form->field($generator, 'generateQuery')->checkbox();
 echo $form->field($generator, 'queryNs');
 echo $form->field($generator, 'queryClass');
 echo $form->field($generator, 'queryBaseClass');
 echo $form->field($generator, 'enableI18N')->checkbox();
 echo $form->field($generator, 'messageCategory');
+echo $form->field($generator, 'useSchemaName')->checkbox();

--- a/src/generators/module/Generator.php
+++ b/src/generators/module/Generator.php
@@ -5,23 +5,22 @@
  * @license http://www.yiiframework.com/license/
  */
 namespace yii\gii\generators\module;
 use yii\gii\CodeFile;
 use yii\helpers\Html;
 use Yii;
 use yii\helpers\StringHelper;
 /**
  * This generator will generate the skeleton code needed by a module.
  *
- * @property-read string $controllerNamespace The controller namespace of the module. This property is
- * read-only.
- * @property-read bool $modulePath The directory that contains the module class. This property is read-only.
+ * @property string $controllerNamespace The controller namespace of the module. This property is read-only.
+ * @property bool $modulePath The directory that contains the module class. This property is read-only.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
  */
 class Generator extends \yii\gii\Generator
 {
     public $moduleClass;
     public $moduleID;
     /**
      * {@inheritdoc}

--- a/src/views/default/view/files.php
+++ b/src/views/default/view/files.php
@@ -72,21 +72,21 @@
                         echo $file->operation;
                     }
                     ?>
                 </td>
                 <?php if ($fileChangeExists): ?>
                 <td class="check">
                     <?php
                     if ($file->operation === CodeFile::OP_SKIP) {
                         echo '&nbsp;';
                     } else {
-                        echo Html::checkbox("answers[{$file->id}]", isset($answers) ? isset($answers[$file->id]) : ($file->operation === CodeFile::OP_CREATE));
+                        echo Html::checkBox("answers[{$file->id}]", isset($answers) ? isset($answers[$file->id]) : ($file->operation === CodeFile::OP_CREATE));
                     }
                     ?>
                 </td>
                 <?php endif; ?>
             </tr>
             <?php endforeach; ?>
         </tbody>
     </table>
     <div class="modal fade" id="preview-modal" tabindex="-1" role="dialog">
         <div class="modal-dialog modal-lg">
