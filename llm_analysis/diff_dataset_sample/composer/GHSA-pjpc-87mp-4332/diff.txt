--- a/.ddev/mautic-setup.sh
+++ b/.ddev/mautic-setup.sh
@@ -1,12 +1,12 @@
 setup_mautic() {
-    [ -z "${MAUTIC_URL}" ] && MAUTIC_URL="https://${DDEV_HOSTNAME}/index_dev.php"
+    [ -z "${MAUTIC_URL}" ] && MAUTIC_URL="https://${DDEV_HOSTNAME}"
     [ -z "${PHPMYADMIN_URL}" ] && PHPMYADMIN_URL="https://${DDEV_HOSTNAME}:8037"
     [ -z "${MAILHOG_URL}" ] && MAILHOG_URL="https://${DDEV_HOSTNAME}:8026"
     printf "Installing Mautic Composer dependencies...\n"
     composer install
     cp ./.ddev/local.config.php.dist ./app/config/local.php
     cp ./.env.dist ./.env
     printf "Installing Mautic...\n"
     php bin/console mautic:install "${MAUTIC_URL}" \
         --mailer_from_name="DDEV" --mailer_from_email="mautic@ddev.local" \
         --mailer_transport="smtp" --mailer_host="localhost" --mailer_port="1025"

--- a/Gruntfile.js
+++ b/Gruntfile.js
@@ -16,23 +16,20 @@
             }
         },
         less: {
             files: {
                 src: ['<%= mautic.bundleAssets %>/*.less', '<%= mautic.pluginAssets %>/*.less', '<%= mautic.bundleAssets %>/*/*.less', '<%= mautic.bundleAssets %>/../builder/*.less'],
                 expand: true,
                 rename: function (dest, src) {
                     return dest + src.replace('.less', '.css')
                 },
                 dest: ''
-            },
-            options: {
-                javascriptEnabled: true
             }
         },
         remove: {
             default_options: {
                 trace: true,
                 fileList: ['<%= mautic.rootAssets %>/app.css', '<%= mautic.rootAssets %>/libraries.css'],
                 tasks: ['remove'],
                 dest: ''
             }
         }

--- a/app/assets/js/mautic-form-src.js
+++ b/app/assets/js/mautic-form-src.js
@@ -98,28 +98,26 @@
                 typeof MauticFormCallback[formId][event] == 'function'
             ) {
                 if (typeof data == 'undefined') {
                     data = null;
                 }
                 return MauticFormCallback[formId][event](data);
             }
             return null;
         };
         Form.prepareForms = function() {
-            if (Core.debug()) console.log('Preparing forms found on the page');
             var forms = document.getElementsByTagName('form');
             for (var i = 0, n = forms.length; i < n; i++) {
                 var formId = forms[i].getAttribute('data-mautic-form');
                 if (formId !== null) {
                     Form.prepareMessengerForm(formId);
                     Form.prepareValidation(formId);
-                    Form.prepareShowOn(formId);
                     Form.preparePagination(formId);
                 }
             }
         };
         Form.prepareMessengerForm = function(formId) {
             var theForm = document.getElementById('mauticform_' + formId);
             if (!theForm.getAttribute('onsubmit')) {
                 theForm.onsubmit = function (event) {
                     event.preventDefault();
                     Core.validateForm(formId, true);
@@ -153,103 +151,20 @@
                 var theForm = document.getElementById('mauticform_' + formId);
                 var validations = theForm.querySelectorAll('[data-validate]');
                 [].forEach.call(validations, function (container) {
                     var alias = container.getAttribute('data-validate');
                     window.MauticFormValidations[formId][alias] = {
                         type: container.getAttribute('data-validation-type'),
                         name: alias,
                         multiple: container.getAttribute('data-validate-multiple'),
                     }
                 });
-            }
-        };
-        Form.prepareShowOn = function (formId) {
-            var theForm = document.getElementById('mauticform_' + formId);
-            var showOnDataAttribute = 'data-mautic-form-show-on';
-            var parents = {};
-            var showOn = theForm.querySelectorAll('['+showOnDataAttribute+']');
-            [].forEach.call(showOn, function (container) {
-                var condition = container.getAttribute(showOnDataAttribute);
-                var returnArray = condition.split(':');
-                var idOnChangeElem  = "mauticform_" + formId+"_"+returnArray[0];
-                var elemToShow = container.getAttribute('id');
-                var elemShowOnValues = (returnArray[1]).split('|');
-                if(!parents[idOnChangeElem]){
-                    parents[idOnChangeElem] = {};
-                }
-                parents[idOnChangeElem][elemToShow] = elemShowOnValues;
-            });
-            Object.keys(parents).forEach(function(key) {
-                var containerElement = document.getElementById(key);
-                Form.doShowOn(parents, key, Form.getSelectedValues(containerElement));
-                containerElement.onchange = function (evt) {
-                    var selectElement = evt.target;
-                    Form.doShowOn(parents, key, Form.getSelectedValues(evt.currentTarget));
-                }
-            });
-        };
-        Form.doShowOn = function (parents, key, selectedValues) {
-            Object.keys((parents[key])).forEach(function(key2) {
-                Form.hideField(document.getElementById(key2));
-            });
-            Object.keys((parents[key])).forEach(function(key2) {
-                [].forEach.call(selectedValues, function (selectedValue) {
-                    var el = document.getElementById(key2);
-                    if (selectedValue) {
-                        if (el.getAttribute('data-mautic-form-expr') == 'notIn') {
-                            if (!(parents[key][key2]).includes(selectedValue)) {
-                                Form.showField(el, selectedValue);
-                            }
-                        }
-                        else if ((parents[key][key2]).includes(selectedValue) || ((parents[key][key2]).includes('*'))) {
-                            Form.showField(el, selectedValue);
-                        }
-                    }
-                })
-            });
-        };
-        Form.hideField = function(element) {
-            element.style.display = 'none';
-            element.setAttribute('data-validate-disable', 1);
-        }
-        Form.showField = function(element, selectedValue) {
-            element.style.display = 'block';
-            element.removeAttribute('data-validate-disable');
-            Form.filterOptGroups(element, selectedValue);
-        }
-        Form.getSelectedValues = function(containerElement) {
-            if (containerElement.querySelectorAll('input[type=checkbox], input[type=radio]').length) {
-                return Array.from(containerElement.querySelectorAll('input:checked'))
-                    .map(option => option.value);
-            }else if(containerElement.querySelectorAll('select').length){
-                return Array.from(containerElement.querySelectorAll('option:checked'))
-                    .map(option => option.value);
-            }
-        }
-        Form.filterOptGroups = function(selectElement, optGroupValue) {
-            var optGroups = selectElement.querySelectorAll('optgroup');
-            var optGroupCount = optGroups.length;
-            if (!optGroupCount) {
-                return;
-            }
-            var optGroupFound = false;
-            for (var index = 0; index < optGroupCount; ++index) {
-                var optGroup = optGroups[index];
-                if (optGroup.getAttribute('label') !== optGroupValue) {
-                    optGroup.style.display = 'none';
-                } else {
-                    optGroup.style.display = 'block';
-                    optGroupFound = true;
-                }
-            }
-            if (false === optGroupFound) {
-                Form.hideField(selectElement);
             }
         };
         Form.preparePagination = function(formId) {
             var theForm        = document.getElementById('mauticform_'+formId);
             var pages          = theForm.querySelectorAll('[data-mautic-form-page]');
             var lastPageNumber = pages.length;
             [].forEach.call(pages, function (page) {
                 var pageNumber       = parseInt(page.getAttribute('data-mautic-form-page'));
                 var pageBreak        = theForm.querySelector('[data-mautic-form-pagebreak="'+pageNumber+'"]');
                 if (pageNumber > 1) {
@@ -387,24 +302,20 @@
                     if (formValid && submitForm) {
                         theForm.submit();
                     } else {
                         Form.getPageForField(formId, firstInvalidField);
                         validator.enableSubmitButton();
                     }
                     return formValid;
                 },
                 validateField: function(theForm, fieldKey) {
                     var field = MauticFormValidations[formId][fieldKey];
-                    var containerId = Form.getFieldContainerId(formId, fieldKey);
-                    if (document.getElementById(containerId).getAttribute('data-validate-disable')) {
-                        return true;
-                    }
                     var valid = Form.customCallbackHandler(formId, 'onValidateField', {fieldKey: fieldKey, field: field});
                     if (valid === null) {
                         var name = 'mauticform[' + field.name + ']';
                         if (field.multiple == 'true' || field.type == 'checkboxgrp') {
                             name = name + '[]';
                         }
                         var valid = true;
                         if (typeof theForm.elements[name] != 'undefined') {
                             switch (field.type) {
                                 case 'radiogrp':
@@ -416,20 +327,21 @@
                                     valid = validator.validateOptions(elOptions);
                                     break;
                                 case 'email':
                                     valid = validator.validateEmail(theForm.elements[name].value);
                                     break;
                                 default:
                                     valid = (theForm.elements[name].value != '')
                                     break;
                             }
                         }
+                        var containerId = Form.getFieldContainerId(formId, fieldKey);
                         if (!valid) {
                             validator.markError(containerId, valid);
                         } else {
                             validator.clearError(containerId);
                         }
                     }
                     return valid;
                 },
                 validateOptions: function(elOptions) {
                     if (typeof elOptions === 'undefined') {
@@ -555,21 +467,20 @@
                             container.innerHTML = message;
                         } else if (message) {
                             alert(message);
                         }
                     }
                 },
                 resetForm: function () {
                     this.clearErrors();
                     Form.switchPage(document.getElementById('mauticform_' + formId), 1);
                     document.getElementById('mauticform_' + formId).reset();
-                    Form.prepareShowOn(formId); // Hides conditional fields again.
                 },
                 disableSubmitButton: function() {
                     if (!Form.customCallbackHandler(formId, 'onSubmitButtonDisable')) {
                         var submitButton = document.getElementById('mauticform_' + formId).querySelector('.mauticform-button');
                         if (submitButton) {
                             MauticLang.submitMessage = submitButton.innerHTML;
                             submitButton.innerHTML = MauticLang.submittingMessage;
                             submitButton.disabled = 'disabled';
                         }
                     }
@@ -716,47 +627,38 @@
         Core.getMauticBaseUrl = function() {
             return config.mautic_base_url;
         };
         Core.initialize = function(base_url) {
             Profiler.startTime();
             if (Core.debug()) console.log('SDK initialized');
             if (typeof(config.mautic_base_url) == 'undefined') Core.setMauticBaseUrl(base_url);
             if (Core.debug()) console.log('Automatic setup mautic_base_url as: ' + config.mautic_base_url);
             Modal.loadStyle();
             document.addEventListener("DOMContentLoaded", function(e){
-                if (Core.debug()) console.log('DOMContentLoaded dispatched as DOM is ready');
+                if (Core.debug()) console.log('DOM is ready');
                 Form.initialize();
             });
         };
         Core.openModal = function(options){
             Modal.open(options);
         };
         Core.onLoad = function() {
-            if (Core.debug()) console.log('Object onLoad called');
-            Core.setupForms();
-        };
-        Core.setupForms = function() {
-            if (Core.debug()) console.log('DOM ready state is ' + document.readyState);
-            if ("complete" !== document.readyState) {
-                setTimeout(function () { Core.setupForms(); }, 1);
-                return;
-            }
             Form.prepareForms();
             Form.registerFormMessenger();
         };
         return Core;
     }
     if (typeof(MauticSDK) === 'undefined') {
         window.MauticSDK = define_library();
         var sjs = document.getElementsByTagName('script'), tjs = sjs.length;
         for (var i = 0; i < sjs.length; i++) {
             if (!sjs[i].hasAttribute('src') || sjs[i].getAttribute("src").indexOf('mautic-form-src.js') == -1) continue;
             var sParts = sjs[i].getAttribute("src").split("?");
-            if (sParts[1] && sParts[1].indexOf("=") !== -1) MauticSDK.setConfig(MauticSDK.parseToObject(sParts[1]));
+            if (sParts[1]) MauticSDK.setConfig(MauticSDK.parseToObject(sParts[1]));
             MauticSDK.initialize(sParts[0]);
             break;
         }
     }
     if (typeof window.MauticFormValidations == 'undefined') {
         window.MauticFormValidations = {};
     }
 })( window );

--- a/app/assets/scaffold/files/Gruntfile.js
+++ b/app/assets/scaffold/files/Gruntfile.js
@@ -16,23 +16,20 @@
             }
         },
         less: {
             files: {
                 src: ['<%= mautic.bundleAssets %>/*.less', '<%= mautic.pluginAssets %>/*.less', '<%= mautic.bundleAssets %>/*/*.less', '<%= mautic.bundleAssets %>/../builder/*.less'],
                 expand: true,
                 rename: function (dest, src) {
                     return dest + src.replace('.less', '.css')
                 },
                 dest: ''
-            },
-            options: {
-                javascriptEnabled: true
             }
         },
         remove: {
             default_options: {
                 trace: true,
                 fileList: ['<%= mautic.rootAssets %>/app.css', '<%= mautic.rootAssets %>/libraries.css'],
                 tasks: ['remove'],
                 dest: ''
             }
         }

--- a/app/assets/scaffold/files/autoload.php
+++ b/app/assets/scaffold/files/autoload.php
@@ -1,2 +1,10 @@
 <?php
-return require __DIR__.'/vendor/autoload.php';
+if ('cli' !== PHP_SAPI && file_exists(dirname(__DIR__).'/../var/bootstrap.php.cache')) {
+    require_once dirname(__DIR__).'/../var/bootstrap.php.cache';
+}
+use Composer\Autoload\ClassLoader;
+use Doctrine\Common\Annotations\AnnotationRegistry;
+/** @var ClassLoader $loader */
+$loader = require dirname(__DIR__).'/autoload.php';
+AnnotationRegistry::registerLoader([$loader, 'loadClass']);
+return $loader;

--- a//dev/null
+++ b/app/autoload.php
@@ -0,0 +1,10 @@
+<?php
+if ('cli' !== PHP_SAPI && file_exists(dirname(__DIR__).'/var/bootstrap.php.cache')) {
+    require_once dirname(__DIR__).'/var/bootstrap.php.cache';
+}
+use Composer\Autoload\ClassLoader;
+use Doctrine\Common\Annotations\AnnotationRegistry;
+/** @var ClassLoader $loader */
+$loader = require dirname(__DIR__).'/vendor/autoload.php';
+AnnotationRegistry::registerLoader([$loader, 'loadClass']);
+return $loader;

--- a/app/bundles/ApiBundle/ApiEvents.php
+++ b/app/bundles/ApiBundle/ApiEvents.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle;
 /**
  * Class ApiEvents.
  */
 final class ApiEvents
 {
     /**
      * The mautic.client_pre_save event is thrown right before an API client is persisted.
      *
      * The event listener receives a Mautic\ApiBundle\Event\ClientEvent instance.

--- a/app/bundles/ApiBundle/Config/config.php
+++ b/app/bundles/ApiBundle/Config/config.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 return [
     'routes' => [
         'public' => [
             'fos_oauth_server_token' => [
                 'path'       => '/oauth/v2/token',
                 'controller' => 'fos_oauth_server.controller.token:tokenAction',
                 'method'     => 'GET|POST',
             ],
             'fos_oauth_server_authorize' => [
                 'path'       => '/oauth/v2/authorize',

--- a/app/bundles/ApiBundle/Controller/ClientController.php
+++ b/app/bundles/ApiBundle/Controller/ClientController.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\Controller;
 use Mautic\ApiBundle\Model\ClientModel;
 use Mautic\CoreBundle\Controller\FormController;
 use Mautic\CoreBundle\Factory\PageHelperFactoryInterface;
 use OAuth2\OAuth2;
 use Symfony\Component\HttpFoundation\JsonResponse;
 use Symfony\Component\HttpFoundation\RedirectResponse;
 use Symfony\Component\HttpFoundation\Response;
 class ClientController extends FormController
 {

--- a/app/bundles/ApiBundle/Controller/CommonApiController.php
+++ b/app/bundles/ApiBundle/Controller/CommonApiController.php
@@ -1,21 +1,28 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\Controller;
 use Doctrine\ORM\Mapping\ClassMetadata;
 use Doctrine\ORM\Tools\Pagination\Paginator;
 use FOS\RestBundle\Controller\AbstractFOSRestController;
 use FOS\RestBundle\View\View;
 use JMS\Serializer\Exclusion\ExclusionStrategyInterface;
 use Mautic\ApiBundle\ApiEvents;
 use Mautic\ApiBundle\Event\ApiEntityEvent;
 use Mautic\ApiBundle\Helper\BatchIdToEntityHelper;
-use Mautic\ApiBundle\Helper\EntityResultHelper;
 use Mautic\ApiBundle\Serializer\Exclusion\ParentChildrenExclusionStrategy;
 use Mautic\ApiBundle\Serializer\Exclusion\PublishDetailsExclusionStrategy;
 use Mautic\CategoryBundle\Entity\Category;
 use Mautic\CoreBundle\Controller\FormErrorMessagesTrait;
 use Mautic\CoreBundle\Controller\MauticController;
 use Mautic\CoreBundle\Factory\MauticFactory;
 use Mautic\CoreBundle\Form\RequestTrait;
 use Mautic\CoreBundle\Helper\CoreParametersHelper;
 use Mautic\CoreBundle\Helper\InputHelper;
 use Mautic\CoreBundle\Model\AbstractCommonModel;
@@ -624,26 +631,25 @@
             array_merge(
                 [
                     'csrf_protection'    => false,
                     'allow_extra_fields' => true,
                 ],
                 $this->getEntityFormOptions()
             )
         );
     }
     /**
-     * @param mixed[] $parameters
-     * @param mixed[] $errors
-     * @param bool    $prepareForSerialization
-     * @param string  $requestIdColumn
-     * @param null    $model
-     * @param bool    $returnWithOriginalKeys
+     * @param        $parameters
+     * @param bool   $prepareForSerialization
+     * @param string $requestIdColumn
+     * @param null   $model
+     * @param bool   $returnWithOriginalKeys
      *
      * @return array|mixed
      */
     protected function getBatchEntities($parameters, &$errors, $prepareForSerialization = false, $requestIdColumn = 'id', $model = null, $returnWithOriginalKeys = true)
     {
         $idHelper = new BatchIdToEntityHelper($parameters, $requestIdColumn);
         if (!$idHelper->hasIds()) {
             return [];
         }
         $model    = ($model) ? $model : $this->model;
@@ -669,23 +675,20 @@
                 $this->prepareEntityResultsToArray($entities);
         if ($idHelper->hasErrors()) {
             foreach ($idHelper->getErrors() as $key => $error) {
                 $this->setBatchError($key, $error, Response::HTTP_BAD_REQUEST, $errors);
             }
         }
         if ($returnWithOriginalKeys) {
             if ($entities instanceof Paginator) {
                 $entities = $entities->getIterator()->getArrayCopy();
             }
-            if ($entities instanceof \ArrayObject) {
-                $entities = $entities->getArrayCopy();
-            }
             return $idHelper->orderByOriginalKey($entities);
         }
         $return = [];
         foreach ($entities as $entity) {
             $return[$entity->getId()] = $entity;
         }
         return $return;
     }
     /**
      * Get the default properties of an entity and parents.
@@ -788,36 +791,33 @@
     protected function prepareEntitiesForView($results)
     {
         return $this->prepareEntityResultsToArray(
             $results,
             function ($entity) {
                 $this->preSerializeEntity($entity);
             }
         );
     }
     /**
-     * @param array<mixed[]> $results
-     * @param callable|null  $callback
+     * @param      $results
+     * @param null $callback
      *
      * @return array($entities, $totalCount)
      */
     protected function prepareEntityResultsToArray($results, $callback = null)
     {
         if (is_array($results) && isset($results['count'])) {
             $totalCount = $results['count'];
             $results    = $results['results'];
         } else {
             $totalCount = count($results);
         }
-        /**
-         * @var EntityResultHelper
-         */
         $entityResultHelper = $this->get('mautic.api.helper.entity_result');
         $entities = $entityResultHelper->getArray($results, $callback);
         return [$entities, $totalCount];
     }
     /**
      * Convert posted parameters into what the form needs in order to successfully bind.
      *
      * @param mixed[] $parameters
      * @param object  $entity
      * @param string  $action

--- a/app/bundles/ApiBundle/Controller/oAuth2/AuthorizeController.php
+++ b/app/bundles/ApiBundle/Controller/oAuth2/AuthorizeController.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\Controller\oAuth2;
 use FOS\OAuthServerBundle\Event\OAuthEvent;
 use FOS\OAuthServerBundle\Form\Handler\AuthorizeFormHandler;
 use FOS\OAuthServerBundle\Model\ClientManagerInterface;
 use OAuth2\OAuth2;
 use Symfony\Bundle\FrameworkBundle\Templating\EngineInterface;
 use Symfony\Component\EventDispatcher\EventDispatcherInterface;
 use Symfony\Component\Form\Form;
 use Symfony\Component\HttpFoundation\Request;
 use Symfony\Component\HttpFoundation\RequestStack;

--- a/app/bundles/ApiBundle/Controller/oAuth2/SecurityController.php
+++ b/app/bundles/ApiBundle/Controller/oAuth2/SecurityController.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\Controller\oAuth2;
 use Mautic\CoreBundle\Controller\CommonController;
 use Symfony\Component\HttpFoundation\Request;
 use Symfony\Component\HttpFoundation\Response;
 use Symfony\Component\Security\Core\Exception as Exception;
 use Symfony\Component\Security\Core\Security;
 class SecurityController extends CommonController
 {
     /**
      * @return \Symfony\Component\HttpFoundation\Response

--- a/app/bundles/ApiBundle/DependencyInjection/Factory/ApiFactory.php
+++ b/app/bundles/ApiBundle/DependencyInjection/Factory/ApiFactory.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\DependencyInjection\Factory;
 use Symfony\Bundle\SecurityBundle\DependencyInjection\Security\Factory\SecurityFactoryInterface;
 use Symfony\Component\Config\Definition\Builder\NodeDefinition;
 use Symfony\Component\DependencyInjection\ChildDefinition;
 use Symfony\Component\DependencyInjection\ContainerBuilder;
 use Symfony\Component\DependencyInjection\Reference;
 /**
  * Class ApiFactory.
  */
 class ApiFactory implements SecurityFactoryInterface

--- a/app/bundles/ApiBundle/Entity/oAuth2/AccessToken.php
+++ b/app/bundles/ApiBundle/Entity/oAuth2/AccessToken.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\Entity\oAuth2;
 use Doctrine\ORM\Mapping as ORM;
 use FOS\OAuthServerBundle\Model\AccessToken as BaseAccessToken;
 use FOS\OAuthServerBundle\Model\ClientInterface;
 use Mautic\CoreBundle\Doctrine\Mapping\ClassMetadataBuilder;
 use Symfony\Component\Security\Core\User\UserInterface;
 /**
  * Class AccessToken.
  */
 class AccessToken extends BaseAccessToken

--- a/app/bundles/ApiBundle/Entity/oAuth2/AuthCode.php
+++ b/app/bundles/ApiBundle/Entity/oAuth2/AuthCode.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\Entity\oAuth2;
 use Doctrine\ORM\Mapping as ORM;
 use FOS\OAuthServerBundle\Model\AuthCode as BaseAuthCode;
 use FOS\OAuthServerBundle\Model\ClientInterface;
 use Mautic\CoreBundle\Doctrine\Mapping\ClassMetadataBuilder;
 use Symfony\Component\Security\Core\User\UserInterface;
 /**
  * Class AuthCode.
  */
 class AuthCode extends BaseAuthCode

--- a/app/bundles/ApiBundle/Entity/oAuth2/Client.php
+++ b/app/bundles/ApiBundle/Entity/oAuth2/Client.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\Entity\oAuth2;
 use Doctrine\Common\Collections\ArrayCollection;
 use Doctrine\ORM\Mapping as ORM;
 use FOS\OAuthServerBundle\Model\Client as BaseClient;
 use Mautic\CoreBundle\Doctrine\Mapping\ClassMetadataBuilder;
 use Mautic\UserBundle\Entity\Role;
 use Mautic\UserBundle\Entity\User;
 use OAuth2\OAuth2;
 use Symfony\Component\Validator\Constraints as Assert;
 use Symfony\Component\Validator\Mapping\ClassMetadata;

--- a/app/bundles/ApiBundle/Entity/oAuth2/ClientRepository.php
+++ b/app/bundles/ApiBundle/Entity/oAuth2/ClientRepository.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\Entity\oAuth2;
 use Doctrine\ORM\Tools\Pagination\Paginator;
 use Mautic\CoreBundle\Entity\CommonRepository;
 use Mautic\UserBundle\Entity\User;
 /**
  * ClientRepository.
  */
 class ClientRepository extends CommonRepository
 {
     /**

--- a/app/bundles/ApiBundle/Entity/oAuth2/RefreshToken.php
+++ b/app/bundles/ApiBundle/Entity/oAuth2/RefreshToken.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\Entity\oAuth2;
 use Doctrine\ORM\Mapping as ORM;
 use FOS\OAuthServerBundle\Model\ClientInterface;
 use FOS\OAuthServerBundle\Model\RefreshToken as BaseRefreshToken;
 use Mautic\CoreBundle\Doctrine\Mapping\ClassMetadataBuilder;
 use Symfony\Component\Security\Core\User\UserInterface;
 /**
  * Class RefreshToken.
  */
 class RefreshToken extends BaseRefreshToken

--- a/app/bundles/ApiBundle/Event/ApiEntityEvent.php
+++ b/app/bundles/ApiBundle/Event/ApiEntityEvent.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2019 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\Event;
 use Mautic\CoreBundle\Event\CommonEvent;
 use Symfony\Component\HttpFoundation\Request;
 class ApiEntityEvent extends CommonEvent
 {
     /**
      * @var object
      */
     protected $entity;
     /**

--- a/app/bundles/ApiBundle/Event/ClientEvent.php
+++ b/app/bundles/ApiBundle/Event/ClientEvent.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\Event;
 use Mautic\ApiBundle\Entity\oAuth2\Client;
 use Mautic\CoreBundle\Event\CommonEvent;
 /**
  * Class ClientEvent.
  */
 class ClientEvent extends CommonEvent
 {
     private string $apiMode;
     public function __construct(Client $client, $isNew = false)

--- a/app/bundles/ApiBundle/EventListener/ApiSubscriber.php
+++ b/app/bundles/ApiBundle/EventListener/ApiSubscriber.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\EventListener;
 use Mautic\ApiBundle\Helper\RequestHelper;
 use Mautic\CoreBundle\Helper\CoreParametersHelper;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 use Symfony\Component\HttpFoundation\JsonResponse;
 use Symfony\Component\HttpKernel\Event\FilterResponseEvent;
 use Symfony\Component\HttpKernel\Event\GetResponseEvent;
 use Symfony\Component\HttpKernel\Exception\AccessDeniedHttpException;
 use Symfony\Component\HttpKernel\KernelEvents;
 use Symfony\Component\Translation\TranslatorInterface;

--- a/app/bundles/ApiBundle/EventListener/ClientSubscriber.php
+++ b/app/bundles/ApiBundle/EventListener/ClientSubscriber.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2019 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\EventListener;
 use Mautic\ApiBundle\ApiEvents;
 use Mautic\ApiBundle\Event as Events;
 use Mautic\CoreBundle\Helper\IpLookupHelper;
 use Mautic\CoreBundle\Model\AuditLogModel;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 class ClientSubscriber implements EventSubscriberInterface
 {
     /**
      * @var IpLookupHelper

--- a/app/bundles/ApiBundle/EventListener/ConfigSubscriber.php
+++ b/app/bundles/ApiBundle/EventListener/ConfigSubscriber.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\EventListener;
 use Mautic\ApiBundle\Form\Type\ConfigType;
 use Mautic\ConfigBundle\ConfigEvents;
 use Mautic\ConfigBundle\Event\ConfigBuilderEvent;
 use Mautic\ConfigBundle\Event\ConfigEvent;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 class ConfigSubscriber implements EventSubscriberInterface
 {
     /**
      * @return array

--- a/app/bundles/ApiBundle/EventListener/OAuthEventListener.php
+++ b/app/bundles/ApiBundle/EventListener/OAuthEventListener.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\EventListener;
 use Doctrine\ORM\EntityManager;
 use FOS\OAuthServerBundle\Event\OAuthEvent;
 use Mautic\CoreBundle\Security\Permissions\CorePermissions;
 use Symfony\Component\Security\Core\Exception\AccessDeniedException;
 use Symfony\Component\Translation\TranslatorInterface;
 class OAuthEventListener
 {
     /**
      * @var \Doctrine\ORM\EntityManager

--- a/app/bundles/ApiBundle/EventListener/RateLimitGenerateKeySubscriber.php
+++ b/app/bundles/ApiBundle/EventListener/RateLimitGenerateKeySubscriber.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\EventListener;
 use Mautic\CoreBundle\Helper\CoreParametersHelper;
 use Noxlogic\RateLimitBundle\Events\GenerateKeyEvent;
 use Noxlogic\RateLimitBundle\Events\RateLimitEvents;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 class RateLimitGenerateKeySubscriber implements EventSubscriberInterface
 {
     /**
      * @var CoreParametersHelper
      */

--- a/app/bundles/ApiBundle/EventListener/SearchSubscriber.php
+++ b/app/bundles/ApiBundle/EventListener/SearchSubscriber.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\EventListener;
 use Mautic\ApiBundle\Model\ClientModel;
 use Mautic\CoreBundle\CoreEvents;
 use Mautic\CoreBundle\Event as MauticEvents;
 use Mautic\CoreBundle\Helper\TemplatingHelper;
 use Mautic\CoreBundle\Security\Permissions\CorePermissions;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 class SearchSubscriber implements EventSubscriberInterface
 {
     /**

--- a/app/bundles/ApiBundle/Form/Type/ClientType.php
+++ b/app/bundles/ApiBundle/Form/Type/ClientType.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\Form\Type;
 use Mautic\ApiBundle\Form\Validator\Constraints\OAuthCallback;
 use Mautic\CoreBundle\Form\DataTransformer as Transformers;
 use Mautic\CoreBundle\Form\EventListener\CleanFormSubscriber;
 use Mautic\CoreBundle\Form\EventListener\FormExitSubscriber;
 use Mautic\CoreBundle\Form\Type\FormButtonsType;
 use Symfony\Component\Form\AbstractType;
 use Symfony\Component\Form\Extension\Core\Type\ChoiceType;
 use Symfony\Component\Form\Extension\Core\Type\TextType;
 use Symfony\Component\Form\FormBuilderInterface;

--- a/app/bundles/ApiBundle/Form/Type/ConfigType.php
+++ b/app/bundles/ApiBundle/Form/Type/ConfigType.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\Form\Type;
 use Mautic\CoreBundle\Form\Type\YesNoButtonGroupType;
 use Symfony\Component\Form\AbstractType;
 use Symfony\Component\Form\Extension\Core\Type\NumberType;
 use Symfony\Component\Form\FormBuilderInterface;
 use Symfony\Component\Validator\Constraints\NotBlank;
 /**
  * Class ConfigType.
  */
 class ConfigType extends AbstractType

--- a/app/bundles/ApiBundle/Form/Validator/Constraints/OAuthCallback.php
+++ b/app/bundles/ApiBundle/Form/Validator/Constraints/OAuthCallback.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\Form\Validator\Constraints;
 use Symfony\Component\Validator\Constraint;
 class OAuthCallback extends Constraint
 {
     public $message = 'The callback URL is invalid.';
     public function validatedBy()
     {
         return OAuthCallbackValidator::class;
     }
 }

--- a/app/bundles/ApiBundle/Form/Validator/Constraints/OAuthCallbackValidator.php
+++ b/app/bundles/ApiBundle/Form/Validator/Constraints/OAuthCallbackValidator.php
@@ -1,11 +1,29 @@
 <?php
+/*
+ * Modified from \Symfony\Component\Validator\Constraints\UrlValidator.
+ *
+ * This file is part of the Symfony package.
+ *
+ * (c) Fabien Potencier <fabien@symfony.com>
+ *
+ * For the full copyright and license information, please view the LICENSE
+ * file that was distributed with this source code.
+ *
+ *
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\Form\Validator\Constraints;
 use Symfony\Component\Form\Exception\UnexpectedTypeException;
 use Symfony\Component\Validator\Constraint;
 use Symfony\Component\Validator\ConstraintValidator;
 class OAuthCallbackValidator extends ConstraintValidator
 {
     const PATTERN = '~^[0-9a-z].*://(.*?)(:[0-9]+)?(/?|/\S+)$~ixu';
     /**
      * @param mixed $value
      */

--- a/app/bundles/ApiBundle/Helper/BatchIdToEntityHelper.php
+++ b/app/bundles/ApiBundle/Helper/BatchIdToEntityHelper.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2019 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\Helper;
 class BatchIdToEntityHelper
 {
     /**
      * @var array
      */
     private $ids = [];
     /**
      * @var array
      */

--- a/app/bundles/ApiBundle/Helper/EntityResultHelper.php
+++ b/app/bundles/ApiBundle/Helper/EntityResultHelper.php
@@ -1,32 +1,40 @@
 <?php
+/*
+ * @copyright   2019 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\Helper;
 use Doctrine\ORM\Tools\Pagination\Paginator;
 class EntityResultHelper
 {
     /**
-     * @param array<mixed>|Paginator<mixed> $results
-     * @param callable|null                 $callback
+     * @param mixed  $results
+     * @param string $callback
      *
-     * @return array<mixed>|\ArrayObject<int,mixed>
+     * @return array
      */
     public function getArray($results, $callback = null)
     {
         $entities = [];
         foreach ($results as $key => $entityRow) {
             $entities[$key] = $this->getEntityData($entityRow);
             if (is_callable($callback)) {
                 $callback($entities[$key]);
             }
         }
         if ($this->isKeyedById($results) && empty($entities)) {
-            $entities = new \ArrayObject();
+            $entities = [];
         }
         return $entities;
     }
     /**
      * @param mixed $entityRow
      *
      * @return mixed
      */
     private function getEntityData($entityRow)
     {
@@ -56,19 +64,22 @@
     {
         foreach ($object as $key => $value) {
             if (0 === $key) {
                 continue;
             }
             $object[0]->$key = $value;
         }
         return $object[0];
     }
     /**
-     * @param array<mixed>|Paginator<mixed> $results
+     * @param mixed $results
      *
      * @return bool
      */
     private function isKeyedById($results)
     {
-        return !$results instanceof Paginator;
+        if ($results instanceof Paginator) {
+            return false;
+        }
+        return true;
     }
 }

--- a/app/bundles/ApiBundle/Helper/RequestHelper.php
+++ b/app/bundles/ApiBundle/Helper/RequestHelper.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2019 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\Helper;
 use Symfony\Component\HttpFoundation\Request;
 class RequestHelper
 {
     public static function hasBasicAuth(Request $request): bool
     {
         return 0 === strpos(strtolower($request->headers->get('Authorization')), 'basic');
     }
     public static function isApiRequest(Request $request): bool
     {

--- a/app/bundles/ApiBundle/MauticApiBundle.php
+++ b/app/bundles/ApiBundle/MauticApiBundle.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle;
 use Mautic\ApiBundle\DependencyInjection\Compiler\SerializerPass;
 use Mautic\ApiBundle\DependencyInjection\Factory\ApiFactory;
 use Symfony\Component\DependencyInjection\ContainerBuilder;
 use Symfony\Component\HttpKernel\Bundle\Bundle;
 /**
  * Class MauticApiBundle.
  */
 class MauticApiBundle extends Bundle
 {

--- a/app/bundles/ApiBundle/Model/ClientModel.php
+++ b/app/bundles/ApiBundle/Model/ClientModel.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\Model;
 use Mautic\ApiBundle\ApiEvents;
 use Mautic\ApiBundle\Entity\oAuth2\Client;
 use Mautic\ApiBundle\Event\ClientEvent;
 use Mautic\ApiBundle\Form\Type\ClientType;
 use Mautic\CoreBundle\Model\FormModel;
 use Mautic\UserBundle\Entity\User;
 use Symfony\Component\EventDispatcher\Event;
 use Symfony\Component\HttpFoundation\RequestStack;
 use Symfony\Component\HttpFoundation\Session\Session;

--- a/app/bundles/ApiBundle/Security/OAuth2/Firewall/OAuthListener.php
+++ b/app/bundles/ApiBundle/Security/OAuth2/Firewall/OAuthListener.php
@@ -1,8 +1,16 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\Security\OAuth2\Firewall;
 /**
  * Class OAuthListener.
  */
 class OAuthListener extends \FOS\OAuthServerBundle\Security\Firewall\OAuthListener
 {
 }

--- a/app/bundles/ApiBundle/Security/Permissions/ApiPermissions.php
+++ b/app/bundles/ApiBundle/Security/Permissions/ApiPermissions.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\Security\Permissions;
 use Mautic\CoreBundle\Security\Permissions\AbstractPermissions;
 use Mautic\UserBundle\Form\Type\PermissionListType;
 use Symfony\Component\Form\FormBuilderInterface;
 /**
  * Class ApiPermissions.
  */
 class ApiPermissions extends AbstractPermissions
 {
     /**

--- a/app/bundles/ApiBundle/Serializer/Driver/AnnotationDriver.php
+++ b/app/bundles/ApiBundle/Serializer/Driver/AnnotationDriver.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\Serializer\Driver;
 use JMS\Serializer\Metadata\ClassMetadata;
 use JMS\Serializer\Metadata\Driver\AnnotationDriver as BaseAnnotationDriver;
 use Metadata\ClassMetadata as BaseClassMetadata;
 class AnnotationDriver extends BaseAnnotationDriver
 {
     public function loadMetadataForClass(\ReflectionClass $class): ?BaseClassMetadata
     {
         return new ClassMetadata($class->getName());
     }

--- a/app/bundles/ApiBundle/Serializer/Driver/ApiMetadataDriver.php
+++ b/app/bundles/ApiBundle/Serializer/Driver/ApiMetadataDriver.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2015 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\Serializer\Driver;
 use JMS\Serializer\Metadata\ClassMetadata;
 use JMS\Serializer\Metadata\PropertyMetadata;
 use Metadata\ClassMetadata as BaseClassMetadata;
 use Metadata\Driver\DriverInterface;
 use ReflectionClass;
 use ReflectionException;
 class ApiMetadataDriver implements DriverInterface
 {
     /**

--- a/app/bundles/ApiBundle/Serializer/Exclusion/FieldExclusionStrategy.php
+++ b/app/bundles/ApiBundle/Serializer/Exclusion/FieldExclusionStrategy.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2016 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\Serializer\Exclusion;
 use JMS\Serializer\Context;
 use JMS\Serializer\Exclusion\ExclusionStrategyInterface;
 use JMS\Serializer\Metadata\ClassMetadata;
 use JMS\Serializer\Metadata\PropertyMetadata;
 /**
  * Exclude specific fields at a specific level.
  */
 class FieldExclusionStrategy implements ExclusionStrategyInterface
 {

--- a/app/bundles/ApiBundle/Serializer/Exclusion/FieldInclusionStrategy.php
+++ b/app/bundles/ApiBundle/Serializer/Exclusion/FieldInclusionStrategy.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2016 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\Serializer\Exclusion;
 use JMS\Serializer\Context;
 use JMS\Serializer\Exclusion\ExclusionStrategyInterface;
 use JMS\Serializer\Metadata\ClassMetadata;
 use JMS\Serializer\Metadata\PropertyMetadata;
 /**
  * Class FieldInclusionStrategy.
  *
  * Include specific fields at a specific level
  */

--- a/app/bundles/ApiBundle/Serializer/Exclusion/ParentChildrenExclusionStrategy.php
+++ b/app/bundles/ApiBundle/Serializer/Exclusion/ParentChildrenExclusionStrategy.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2016 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\Serializer\Exclusion;
 /**
  * Class ParentChildrenExclusionStrategy.
  *
  * Only include the first level of a children/parent of an entity that relates to itself
  */
 class ParentChildrenExclusionStrategy extends FieldExclusionStrategy
 {
     /**
      * ParentChildrenExclusionStrategy constructor.

--- a/app/bundles/ApiBundle/Serializer/Exclusion/PublishDetailsExclusionStrategy.php
+++ b/app/bundles/ApiBundle/Serializer/Exclusion/PublishDetailsExclusionStrategy.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\ApiBundle\Serializer\Exclusion;
 /**
  * Class PublishDetailsExclusionStrategy.
  *
  * Only include FormEntity properties for the top level entity and not the associated entities
  */
 class PublishDetailsExclusionStrategy extends FieldExclusionStrategy
 {
     /**
      * PublishDetailsExclusionStrategy constructor.

--- a/app/bundles/AssetBundle/AssetEvents.php
+++ b/app/bundles/AssetBundle/AssetEvents.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle;
 /**
  * Events available for AssetBundle.
  */
 final class AssetEvents
 {
     /**
      * The mautic.asset_on_load event is dispatched when a public asset is downloaded, publicly viewed, or redirected to (remote).
      *
      * The event listener receives a

--- a/app/bundles/AssetBundle/Config/config.php
+++ b/app/bundles/AssetBundle/Config/config.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 return [
     'routes' => [
         'main' => [
             'mautic_asset_index' => [
                 'path'       => '/assets/{page}',
                 'controller' => 'MauticAssetBundle:Asset:index',
             ],
             'mautic_asset_remote' => [
                 'path'       => '/assets/remote',
                 'controller' => 'MauticAssetBundle:Asset:remote',

--- a/app/bundles/AssetBundle/Controller/AjaxController.php
+++ b/app/bundles/AssetBundle/Controller/AjaxController.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\Controller;
 use Gaufrette\Filesystem;
 use Mautic\AssetBundle\AssetEvents;
 use Mautic\AssetBundle\Event\RemoteAssetBrowseEvent;
 use Mautic\CoreBundle\Controller\AjaxController as CommonAjaxController;
 use Mautic\CoreBundle\Helper\InputHelper;
 use Symfony\Component\HttpFoundation\Request;
 /**
  * Class AjaxController.
  */

--- a/app/bundles/AssetBundle/Controller/Api/AssetApiController.php
+++ b/app/bundles/AssetBundle/Controller/Api/AssetApiController.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\Controller\Api;
 use Mautic\ApiBundle\Controller\CommonApiController;
 use Symfony\Component\HttpFoundation\Response;
 use Symfony\Component\HttpKernel\Event\FilterControllerEvent;
 /**
  * Class AssetApiController.
  */
 class AssetApiController extends CommonApiController
 {
     public function initialize(FilterControllerEvent $event)

--- a/app/bundles/AssetBundle/Controller/AssetController.php
+++ b/app/bundles/AssetBundle/Controller/AssetController.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\Controller;
 use Mautic\CoreBundle\Controller\FormController;
 use Mautic\CoreBundle\Form\Type\DateRangeType;
 use Mautic\CoreBundle\Helper\FileHelper;
 use Symfony\Component\HttpFoundation\JsonResponse;
 use Symfony\Component\HttpFoundation\Response;
 class AssetController extends FormController
 {
     /**
      * @param int $page

--- a/app/bundles/AssetBundle/Controller/PublicController.php
+++ b/app/bundles/AssetBundle/Controller/PublicController.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\Controller;
 use Mautic\CoreBundle\Controller\FormController as CommonFormController;
 use Symfony\Component\HttpFoundation\RedirectResponse;
 use Symfony\Component\HttpFoundation\Response;
 class PublicController extends CommonFormController
 {
     /**
      * @param string $slug
      *
      * @return Response

--- a/app/bundles/AssetBundle/Controller/UploadController.php
+++ b/app/bundles/AssetBundle/Controller/UploadController.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\Controller;
 use Oneup\UploaderBundle\Controller\DropzoneController;
 use Oneup\UploaderBundle\Uploader\Response\EmptyResponse;
 use Symfony\Component\HttpFoundation\File\Exception\UploadException;
 use Symfony\Component\HttpFoundation\JsonResponse;
 use Symfony\Component\HttpFoundation\Request;
 class UploadController extends DropzoneController
 {
     public function upload(): JsonResponse
     {

--- a/app/bundles/AssetBundle/DataFixtures/ORM/LoadAssetData.php
+++ b/app/bundles/AssetBundle/DataFixtures/ORM/LoadAssetData.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\DataFixtures\ORM;
 use Doctrine\Common\DataFixtures\AbstractFixture;
 use Doctrine\Common\DataFixtures\OrderedFixtureInterface;
 use Doctrine\Persistence\ObjectManager;
 use Mautic\AssetBundle\Entity\Asset;
 class LoadAssetData extends AbstractFixture implements OrderedFixtureInterface
 {
     public function load(ObjectManager $manager): void
     {
         $asset = new Asset();

--- a/app/bundles/AssetBundle/Entity/Asset.php
+++ b/app/bundles/AssetBundle/Entity/Asset.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\Entity;
 use Doctrine\DBAL\Types\Types;
 use Doctrine\ORM\Mapping as ORM;
 use Mautic\ApiBundle\Serializer\Driver\ApiMetadataDriver;
 use Mautic\CoreBundle\Doctrine\Mapping\ClassMetadataBuilder;
 use Mautic\CoreBundle\Entity\FormEntity;
 use Mautic\CoreBundle\Helper\FileHelper;
 use Symfony\Component\Filesystem\Filesystem;
 use Symfony\Component\HttpFoundation\File\Exception\FileNotFoundException;
 use Symfony\Component\HttpFoundation\File\File;

--- a/app/bundles/AssetBundle/Entity/AssetRepository.php
+++ b/app/bundles/AssetBundle/Entity/AssetRepository.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic, Na. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\Entity;
 use Doctrine\ORM\NonUniqueResultException;
 use Doctrine\ORM\NoResultException;
 use Doctrine\ORM\Tools\Pagination\Paginator;
 use Mautic\CoreBundle\Entity\CommonRepository;
 /**
  * Class AssetRepository.
  */
 class AssetRepository extends CommonRepository
 {

--- a/app/bundles/AssetBundle/Entity/Download.php
+++ b/app/bundles/AssetBundle/Entity/Download.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\Entity;
 use Doctrine\ORM\Mapping as ORM;
 use Mautic\CoreBundle\Doctrine\Mapping\ClassMetadataBuilder;
 use Mautic\EmailBundle\Entity\Email;
 /**
  * Class Download.
  */
 class Download
 {
     /**

--- a/app/bundles/AssetBundle/Entity/DownloadRepository.php
+++ b/app/bundles/AssetBundle/Entity/DownloadRepository.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\Entity;
 use Mautic\CoreBundle\Entity\CommonRepository;
 use Mautic\CoreBundle\Helper\Chart\PieChart;
 use Mautic\CoreBundle\Helper\DateTimeHelper;
 use Mautic\LeadBundle\Entity\TimelineTrait;
 /**
  * Class DownloadRepository.
  */
 class DownloadRepository extends CommonRepository
 {

--- a/app/bundles/AssetBundle/ErrorHandler/DropzoneErrorHandler.php
+++ b/app/bundles/AssetBundle/ErrorHandler/DropzoneErrorHandler.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\ErrorHandler;
 use Exception;
 use Oneup\UploaderBundle\Uploader\ErrorHandler\ErrorHandlerInterface;
 use Oneup\UploaderBundle\Uploader\Response\AbstractResponse;
 class DropzoneErrorHandler implements ErrorHandlerInterface
 {
     public function addException(AbstractResponse $response, Exception $exception): void
     {
         $response['error'] = $exception->getMessage();
     }

--- a/app/bundles/AssetBundle/Event/AssetEvent.php
+++ b/app/bundles/AssetBundle/Event/AssetEvent.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\Event;
 use Mautic\AssetBundle\Entity\Asset;
 use Mautic\CoreBundle\Event\CommonEvent;
 /**
  * Class AssetEvent.
  */
 class AssetEvent extends CommonEvent
 {
     /**
      * @param bool $isNew

--- a/app/bundles/AssetBundle/Event/AssetLoadEvent.php
+++ b/app/bundles/AssetBundle/Event/AssetLoadEvent.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2016 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\Event;
 use Mautic\AssetBundle\Entity\Download;
 use Mautic\CoreBundle\Event\CommonEvent;
 /**
  * Class AssetLoadEvent.
  */
 class AssetLoadEvent extends CommonEvent
 {
     /**
      * @var bool

--- a/app/bundles/AssetBundle/Event/RemoteAssetBrowseEvent.php
+++ b/app/bundles/AssetBundle/Event/RemoteAssetBrowseEvent.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\Event;
 use Gaufrette\Adapter;
 use Mautic\CoreBundle\Event\CommonEvent;
 use Mautic\PluginBundle\Integration\AbstractIntegration;
 use Mautic\PluginBundle\Integration\UnifiedIntegrationInterface;
 /**
  * Class RemoteAssetBrowseEvent.
  */
 class RemoteAssetBrowseEvent extends CommonEvent
 {

--- a/app/bundles/AssetBundle/EventListener/AssetSubscriber.php
+++ b/app/bundles/AssetBundle/EventListener/AssetSubscriber.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\EventListener;
 use Mautic\AssetBundle\AssetEvents;
 use Mautic\AssetBundle\Event as Events;
 use Mautic\CoreBundle\Helper\IpLookupHelper;
 use Mautic\CoreBundle\Model\AuditLogModel;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 class AssetSubscriber implements EventSubscriberInterface
 {
     /**
      * @var IpLookupHelper

--- a/app/bundles/AssetBundle/EventListener/BuilderSubscriber.php
+++ b/app/bundles/AssetBundle/EventListener/BuilderSubscriber.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\EventListener;
 use Mautic\AssetBundle\Helper\TokenHelper;
 use Mautic\CoreBundle\Event\BuilderEvent;
 use Mautic\CoreBundle\Helper\BuilderTokenHelperFactory;
 use Mautic\CoreBundle\Security\Permissions\CorePermissions;
 use Mautic\EmailBundle\EmailEvents;
 use Mautic\EmailBundle\Event\EmailSendEvent;
 use Mautic\LeadBundle\Tracker\ContactTracker;
 use Mautic\PageBundle\Event\PageDisplayEvent;
 use Mautic\PageBundle\PageEvents;

--- a/app/bundles/AssetBundle/EventListener/CampaignSubscriber.php
+++ b/app/bundles/AssetBundle/EventListener/CampaignSubscriber.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\EventListener;
 use Mautic\AssetBundle\AssetEvents;
 use Mautic\AssetBundle\Event\AssetLoadEvent;
 use Mautic\AssetBundle\Form\Type\CampaignEventAssetDownloadType;
 use Mautic\CampaignBundle\CampaignEvents;
 use Mautic\CampaignBundle\Event\CampaignBuilderEvent;
 use Mautic\CampaignBundle\Event\CampaignExecutionEvent;
 use Mautic\CampaignBundle\Executioner\RealTimeExecutioner;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 class CampaignSubscriber implements EventSubscriberInterface

--- a/app/bundles/AssetBundle/EventListener/ConfigSubscriber.php
+++ b/app/bundles/AssetBundle/EventListener/ConfigSubscriber.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\EventListener;
 use Mautic\AssetBundle\Form\Type\ConfigType;
 use Mautic\ConfigBundle\ConfigEvents;
 use Mautic\ConfigBundle\Event\ConfigBuilderEvent;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 class ConfigSubscriber implements EventSubscriberInterface
 {
     /**
      * @return array
      */

--- a/app/bundles/AssetBundle/EventListener/DashboardSubscriber.php
+++ b/app/bundles/AssetBundle/EventListener/DashboardSubscriber.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\EventListener;
 use Mautic\AssetBundle\Model\AssetModel;
 use Mautic\DashboardBundle\Event\WidgetDetailEvent;
 use Mautic\DashboardBundle\EventListener\DashboardSubscriber as MainDashboardSubscriber;
 use Symfony\Component\Routing\RouterInterface;
 class DashboardSubscriber extends MainDashboardSubscriber
 {
     /**
      * Define the name of the bundle/category of the widget(s).
      *

--- a/app/bundles/AssetBundle/EventListener/DetermineWinnerSubscriber.php
+++ b/app/bundles/AssetBundle/EventListener/DetermineWinnerSubscriber.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2019 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\EventListener;
 use Doctrine\ORM\EntityManagerInterface;
 use Mautic\AssetBundle\AssetEvents;
 use Mautic\AssetBundle\Entity\Download;
 use Mautic\CoreBundle\Event\DetermineWinnerEvent;
 use Mautic\EmailBundle\Entity\Email;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 use Symfony\Component\Translation\TranslatorInterface;
 class DetermineWinnerSubscriber implements EventSubscriberInterface
 {

--- a/app/bundles/AssetBundle/EventListener/EmailSubscriber.php
+++ b/app/bundles/AssetBundle/EventListener/EmailSubscriber.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\EventListener;
 use Mautic\AssetBundle\AssetEvents;
 use Mautic\EmailBundle\EmailEvents;
 use Mautic\EmailBundle\Event\EmailBuilderEvent;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 class EmailSubscriber implements EventSubscriberInterface
 {
     /**
      * {@inheritdoc}
      */

--- a/app/bundles/AssetBundle/EventListener/FormSubscriber.php
+++ b/app/bundles/AssetBundle/EventListener/FormSubscriber.php
@@ -1,20 +1,28 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\EventListener;
 use Doctrine\ORM\NonUniqueResultException;
 use Doctrine\ORM\NoResultException;
 use Mautic\AssetBundle\Entity\Asset;
 use Mautic\AssetBundle\Form\Type\FormSubmitActionDownloadFileType;
 use Mautic\AssetBundle\Model\AssetModel;
 use Mautic\CoreBundle\Helper\CoreParametersHelper;
 use Mautic\CoreBundle\Helper\TemplatingHelper;
-use Mautic\CoreBundle\Helper\ThemeHelperInterface;
+use Mautic\CoreBundle\Helper\ThemeHelper;
 use Mautic\CoreBundle\Templating\Helper\AnalyticsHelper;
 use Mautic\CoreBundle\Templating\Helper\AssetsHelper;
 use Mautic\FormBundle\Entity\Form;
 use Mautic\FormBundle\Event\FormBuilderEvent;
 use Mautic\FormBundle\Event\SubmissionEvent;
 use Mautic\FormBundle\FormEvents;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 use Symfony\Component\HttpFoundation\Response;
 use Symfony\Component\Translation\TranslatorInterface;
 class FormSubscriber implements EventSubscriberInterface
@@ -29,37 +37,37 @@
     protected $translator;
     /**
      * @var AnalyticsHelper
      */
     private $analyticsHelper;
     /**
      * @var AssetsHelper
      */
     private $assetsHelper;
     /**
-     * @var ThemeHelperInterface
+     * @var ThemeHelper
      */
     private $themeHelper;
     /**
      * @var TemplatingHelper
      */
     private $templatingHelper;
     /**
      * @var CoreParametersHelper
      */
     private $coreParametersHelper;
     public function __construct(
         AssetModel $assetModel,
         TranslatorInterface $translator,
         AnalyticsHelper $analyticsHelper,
         AssetsHelper $assetsHelper,
-        ThemeHelperInterface $themeHelper,
+        ThemeHelper $themeHelper,
         TemplatingHelper $templatingHelper,
         CoreParametersHelper $coreParametersHelper
     ) {
         $this->assetModel           = $assetModel;
         $this->translator           = $translator;
         $this->analyticsHelper      = $analyticsHelper;
         $this->assetsHelper         = $assetsHelper;
         $this->themeHelper          = $themeHelper;
         $this->templatingHelper     = $templatingHelper;
         $this->coreParametersHelper = $coreParametersHelper;

--- a/app/bundles/AssetBundle/EventListener/LeadSubscriber.php
+++ b/app/bundles/AssetBundle/EventListener/LeadSubscriber.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\EventListener;
 use Mautic\AssetBundle\Entity\DownloadRepository;
 use Mautic\AssetBundle\Model\AssetModel;
 use Mautic\LeadBundle\Event\LeadChangeEvent;
 use Mautic\LeadBundle\Event\LeadMergeEvent;
 use Mautic\LeadBundle\Event\LeadTimelineEvent;
 use Mautic\LeadBundle\LeadEvents;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 use Symfony\Component\Routing\RouterInterface;
 use Symfony\Component\Translation\TranslatorInterface;

--- a/app/bundles/AssetBundle/EventListener/PageSubscriber.php
+++ b/app/bundles/AssetBundle/EventListener/PageSubscriber.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\EventListener;
 use Mautic\AssetBundle\AssetEvents;
 use Mautic\PageBundle\Event\PageBuilderEvent;
 use Mautic\PageBundle\PageEvents;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 class PageSubscriber implements EventSubscriberInterface
 {
     /**
      * {@inheritdoc}
      */

--- a/app/bundles/AssetBundle/EventListener/PointSubscriber.php
+++ b/app/bundles/AssetBundle/EventListener/PointSubscriber.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\EventListener;
 use Mautic\AssetBundle\AssetEvents;
 use Mautic\AssetBundle\Event\AssetLoadEvent;
 use Mautic\AssetBundle\Form\Type\PointActionAssetDownloadType;
 use Mautic\PointBundle\Event\PointBuilderEvent;
 use Mautic\PointBundle\Model\PointModel;
 use Mautic\PointBundle\PointEvents;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 class PointSubscriber implements EventSubscriberInterface
 {

--- a/app/bundles/AssetBundle/EventListener/ReportSubscriber.php
+++ b/app/bundles/AssetBundle/EventListener/ReportSubscriber.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\EventListener;
 use Mautic\AssetBundle\Entity\DownloadRepository;
 use Mautic\CoreBundle\Helper\Chart\LineChart;
 use Mautic\LeadBundle\Model\CompanyReportData;
 use Mautic\ReportBundle\Event\ReportBuilderEvent;
 use Mautic\ReportBundle\Event\ReportGeneratorEvent;
 use Mautic\ReportBundle\Event\ReportGraphEvent;
 use Mautic\ReportBundle\ReportEvents;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 class ReportSubscriber implements EventSubscriberInterface

--- a/app/bundles/AssetBundle/EventListener/SearchSubscriber.php
+++ b/app/bundles/AssetBundle/EventListener/SearchSubscriber.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\EventListener;
 use Mautic\AssetBundle\Model\AssetModel;
 use Mautic\CoreBundle\CoreEvents;
 use Mautic\CoreBundle\Event as MauticEvents;
 use Mautic\CoreBundle\Helper\TemplatingHelper;
 use Mautic\CoreBundle\Helper\UserHelper;
 use Mautic\CoreBundle\Security\Permissions\CorePermissions;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 class SearchSubscriber implements EventSubscriberInterface
 {

--- a/app/bundles/AssetBundle/EventListener/StatsSubscriber.php
+++ b/app/bundles/AssetBundle/EventListener/StatsSubscriber.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\EventListener;
 use Doctrine\ORM\EntityManager;
 use Mautic\AssetBundle\Entity\Download;
 use Mautic\CoreBundle\EventListener\CommonStatsSubscriber;
 use Mautic\CoreBundle\Security\Permissions\CorePermissions;
 class StatsSubscriber extends CommonStatsSubscriber
 {
     public function __construct(CorePermissions $security, EntityManager $entityManager)
     {
         parent::__construct($security, $entityManager);

--- a/app/bundles/AssetBundle/EventListener/UploadSubscriber.php
+++ b/app/bundles/AssetBundle/EventListener/UploadSubscriber.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\EventListener;
 use Mautic\AssetBundle\Model\AssetModel;
 use Mautic\CoreBundle\Exception\FileInvalidException;
 use Mautic\CoreBundle\Helper\CoreParametersHelper;
 use Mautic\CoreBundle\Validator\FileUploadValidator;
 use Oneup\UploaderBundle\Event\PostUploadEvent;
 use Oneup\UploaderBundle\Event\ValidationEvent;
 use Oneup\UploaderBundle\Uploader\Exception\ValidationException;
 use Oneup\UploaderBundle\UploadEvents;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;

--- a/app/bundles/AssetBundle/Form/Type/AssetListType.php
+++ b/app/bundles/AssetBundle/Form/Type/AssetListType.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\Form\Type;
 use Mautic\AssetBundle\Model\AssetModel;
 use Mautic\CoreBundle\Helper\UserHelper;
 use Mautic\CoreBundle\Security\Permissions\CorePermissions;
 use Symfony\Component\Form\AbstractType;
 use Symfony\Component\Form\Extension\Core\Type\ChoiceType;
 use Symfony\Component\OptionsResolver\OptionsResolver;
 class AssetListType extends AbstractType
 {
     /**

--- a/app/bundles/AssetBundle/Form/Type/AssetType.php
+++ b/app/bundles/AssetBundle/Form/Type/AssetType.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\Form\Type;
 use Mautic\AssetBundle\Entity\Asset;
 use Mautic\AssetBundle\Model\AssetModel;
 use Mautic\CategoryBundle\Form\Type\CategoryListType;
 use Mautic\CoreBundle\Form\EventListener\CleanFormSubscriber;
 use Mautic\CoreBundle\Form\EventListener\FormExitSubscriber;
 use Mautic\CoreBundle\Form\Type\ButtonGroupType;
 use Mautic\CoreBundle\Form\Type\FormButtonsType;
 use Mautic\CoreBundle\Form\Type\YesNoButtonGroupType;
 use Symfony\Component\Form\AbstractType;

--- a/app/bundles/AssetBundle/Form/Type/CampaignEventAssetDownloadType.php
+++ b/app/bundles/AssetBundle/Form/Type/CampaignEventAssetDownloadType.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\Form\Type;
 use Symfony\Component\Form\AbstractType;
 use Symfony\Component\Form\FormBuilderInterface;
 class CampaignEventAssetDownloadType extends AbstractType
 {
     public function buildForm(FormBuilderInterface $builder, array $options)
     {
         $builder->add(
             'assets',
             AssetListType::class,

--- a/app/bundles/AssetBundle/Form/Type/ConfigType.php
+++ b/app/bundles/AssetBundle/Form/Type/ConfigType.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\Form\Type;
 use Mautic\CoreBundle\Form\DataTransformer\ArrayStringTransformer;
 use Symfony\Component\Form\AbstractType;
 use Symfony\Component\Form\Extension\Core\Type\TextType;
 use Symfony\Component\Form\FormBuilderInterface;
 use Symfony\Component\Validator\Constraints\NotBlank;
 class ConfigType extends AbstractType
 {
     public function buildForm(FormBuilderInterface $builder, array $options)
     {

--- a/app/bundles/AssetBundle/Form/Type/FormSubmitActionDownloadFileType.php
+++ b/app/bundles/AssetBundle/Form/Type/FormSubmitActionDownloadFileType.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\Form\Type;
 use Mautic\CategoryBundle\Form\Type\CategoryListType;
 use Symfony\Component\Form\AbstractType;
 use Symfony\Component\Form\FormBuilderInterface;
 class FormSubmitActionDownloadFileType extends AbstractType
 {
     public function buildForm(FormBuilderInterface $builder, array $options)
     {
         $builder->add(
             'asset',

--- a/app/bundles/AssetBundle/Form/Type/PointActionAssetDownloadType.php
+++ b/app/bundles/AssetBundle/Form/Type/PointActionAssetDownloadType.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\Form\Type;
 use Symfony\Component\Form\AbstractType;
 use Symfony\Component\Form\FormBuilderInterface;
 class PointActionAssetDownloadType extends AbstractType
 {
     public function buildForm(FormBuilderInterface $builder, array $options)
     {
         $builder->add(
             'assets',
             AssetListType::class,

--- a/app/bundles/AssetBundle/Helper/PointActionHelper.php
+++ b/app/bundles/AssetBundle/Helper/PointActionHelper.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\Helper;
 /**
  * Class PointActionHelper.
  */
 class PointActionHelper
 {
     /**
      * @param $eventDetails
      * @param $action
      *

--- a/app/bundles/AssetBundle/Helper/TokenHelper.php
+++ b/app/bundles/AssetBundle/Helper/TokenHelper.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2016 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\Helper;
 use Mautic\AssetBundle\Model\AssetModel;
 class TokenHelper
 {
     /**
      * @var AssetModel
      */
     protected $model;
     public function __construct(AssetModel $model)
     {

--- a/app/bundles/AssetBundle/MauticAssetBundle.php
+++ b/app/bundles/AssetBundle/MauticAssetBundle.php
@@ -1,9 +1,17 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle;
 use Symfony\Component\HttpKernel\Bundle\Bundle;
 /**
  * Class MauticAssetBundle.
  */
 class MauticAssetBundle extends Bundle
 {
 }

--- a/app/bundles/AssetBundle/Model/AssetModel.php
+++ b/app/bundles/AssetBundle/Model/AssetModel.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\Model;
 use Doctrine\ORM\PersistentCollection;
 use Mautic\AssetBundle\AssetEvents;
 use Mautic\AssetBundle\Entity\Asset;
 use Mautic\AssetBundle\Entity\Download;
 use Mautic\AssetBundle\Event\AssetEvent;
 use Mautic\AssetBundle\Event\AssetLoadEvent;
 use Mautic\AssetBundle\Form\Type\AssetType;
 use Mautic\CategoryBundle\Model\CategoryModel;
 use Mautic\CoreBundle\Helper\Chart\ChartQuery;

--- a/app/bundles/AssetBundle/Security/Permissions/AssetPermissions.php
+++ b/app/bundles/AssetBundle/Security/Permissions/AssetPermissions.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\AssetBundle\Security\Permissions;
 use Mautic\CoreBundle\Helper\CoreParametersHelper;
 use Mautic\CoreBundle\Security\Permissions\AbstractPermissions;
 use Symfony\Component\Form\FormBuilderInterface;
 class AssetPermissions extends AbstractPermissions
 {
     public function __construct(CoreParametersHelper $coreParametersHelper)
     {
         parent::__construct($coreParametersHelper->all());
     }

--- a/app/bundles/AssetBundle/Views/Public/download.html.php
+++ b/app/bundles/AssetBundle/Views/Public/download.html.php
@@ -1 +1,8 @@
 <?php
+/*
+ * @package     Mautic
+ * @copyright   2015 Mautic Contributors. All rights reserved.
+ * @author      Mautic
+ * @link        http://mautic.org
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */

--- a/app/bundles/CacheBundle/Cache/Adapter/FilesystemTagAwareAdapter.php
+++ b/app/bundles/CacheBundle/Cache/Adapter/FilesystemTagAwareAdapter.php
@@ -1,12 +1,20 @@
 <?php
 declare(strict_types=1);
+/*
+ * @copyright   2018 Mautic. All rights reserved
+ * @author      Mautic
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CacheBundle\Cache\Adapter;
 use Symfony\Component\Cache\Adapter\TagAwareAdapter;
 class FilesystemTagAwareAdapter extends TagAwareAdapter
 {
     public function __construct(?string $prefix, int $lifetime = 0)
     {
         $prefix = 'app_cache_'.$prefix;
         parent::__construct(
             new \Symfony\Component\Cache\Adapter\FilesystemAdapter($prefix, $lifetime),
             new \Symfony\Component\Cache\Adapter\FilesystemAdapter($prefix.'_tags')

--- a/app/bundles/CacheBundle/Cache/Adapter/MemcachedTagAwareAdapter.php
+++ b/app/bundles/CacheBundle/Cache/Adapter/MemcachedTagAwareAdapter.php
@@ -1,12 +1,18 @@
 <?php
 declare(strict_types=1);
+/*
+ * @copyright   2018 Mautic. All rights reserved
+ *
+ * @link        https://mautic.org
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CacheBundle\Cache\Adapter;
 use Mautic\CacheBundle\Exceptions\InvalidArgumentException;
 use Symfony\Component\Cache\Adapter\MemcachedAdapter;
 use Symfony\Component\Cache\Adapter\TagAwareAdapter;
 class MemcachedTagAwareAdapter extends TagAwareAdapter
 {
     public function __construct(array $servers, string $namespace, int $lifetime)
     {
         if (!isset($servers['servers'])) {
             throw new InvalidArgumentException('Invalid memcached configuration. No servers specified.');

--- a/app/bundles/CacheBundle/Cache/Adapter/RedisTagAwareAdapter.php
+++ b/app/bundles/CacheBundle/Cache/Adapter/RedisTagAwareAdapter.php
@@ -1,12 +1,19 @@
 <?php
 declare(strict_types=1);
+/*
+ * @copyright   2018 Mautic. All rights reserved
+ *
+ * @link        https://mautic.org
+ * @created     12.9.18
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CacheBundle\Cache\Adapter;
 use Mautic\CacheBundle\Exceptions\InvalidArgumentException;
 use Mautic\CoreBundle\Helper\PRedisConnectionHelper;
 use Symfony\Component\Cache\Adapter\RedisAdapter;
 use Symfony\Component\Cache\Adapter\TagAwareAdapter;
 class RedisTagAwareAdapter extends TagAwareAdapter
 {
     public function __construct(array $servers, string $namespace, int $lifetime)
     {
         if (!isset($servers['dsn'])) {

--- a/app/bundles/CacheBundle/Cache/CacheProvider.php
+++ b/app/bundles/CacheBundle/Cache/CacheProvider.php
@@ -1,12 +1,19 @@
 <?php
 declare(strict_types=1);
+/*
+ * @copyright   2018 Mautic Inc. All rights reserved
+ * @author      Mautic
+ *
+ * @link        https://mautic.org
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CacheBundle\Cache;
 use Mautic\CoreBundle\Helper\CoreParametersHelper;
 use Psr\Cache\CacheItemInterface;
 use Psr\Cache\InvalidArgumentException as Psr6CacheInterface;
 use Symfony\Component\Cache\Adapter\TagAwareAdapterInterface;
 use Symfony\Component\Cache\CacheItem;
 use Symfony\Component\Cache\Exception\InvalidArgumentException;
 use Symfony\Component\Cache\Simple\Psr6Cache;
 use Symfony\Component\DependencyInjection\ContainerInterface;
 /**

--- a/app/bundles/CacheBundle/Cache/CacheProviderInterface.php
+++ b/app/bundles/CacheBundle/Cache/CacheProviderInterface.php
@@ -1,12 +1,20 @@
 <?php
 declare(strict_types=1);
+/*
+ * @copyright   2019 Mautic. All rights reserved
+ * @author      Mautic.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CacheBundle\Cache;
 use Symfony\Component\Cache\Adapter\TagAwareAdapterInterface;
 use Symfony\Component\Cache\Simple\Psr6Cache;
 interface CacheProviderInterface extends TagAwareAdapterInterface
 {
     /**
      * @return Psr6Cache
      */
     public function getSimpleCache();
 }

--- a/app/bundles/CacheBundle/Command/ClearCacheCommand.php
+++ b/app/bundles/CacheBundle/Command/ClearCacheCommand.php
@@ -1,12 +1,20 @@
 <?php
 declare(strict_types=1);
+/*
+ * @copyright   2020 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CacheBundle\Command;
 use Mautic\CacheBundle\Cache\CacheProvider;
 use Symfony\Bundle\FrameworkBundle\Command\ContainerAwareCommand;
 use Symfony\Component\Console\Input\InputInterface;
 use Symfony\Component\Console\Output\OutputInterface;
 /**
  * CLI Command to clear the application cache.
  */
 class ClearCacheCommand extends ContainerAwareCommand
 {

--- a/app/bundles/CacheBundle/Config/config.php
+++ b/app/bundles/CacheBundle/Config/config.php
@@ -1,12 +1,20 @@
 <?php
 declare(strict_types=1);
+/*
+ * @copyright   2020 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 return [
     'routes'   => [
         'main'   => [],
         'public' => [],
         'api'    => [],
     ],
     'menu'     => [],
     'services' => [
         'events'    => [
             'mautic.cache.clear_cache_subscriber' => [

--- a/app/bundles/CacheBundle/EventListener/CacheClearSubscriber.php
+++ b/app/bundles/CacheBundle/EventListener/CacheClearSubscriber.php
@@ -1,12 +1,20 @@
 <?php
 declare(strict_types=1);
+/*
+ * @copyright   2020 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CacheBundle\EventListener;
 use Mautic\CacheBundle\Cache\CacheProvider;
 use Psr\Log\LoggerInterface;
 use Symfony\Component\Cache\Adapter\AdapterInterface;
 use Symfony\Component\HttpKernel\CacheClearer\CacheClearerInterface;
 class CacheClearSubscriber implements CacheClearerInterface
 {
     /**
      * @var CacheProvider
      */

--- a/app/bundles/CacheBundle/Exceptions/InvalidArgumentException.php
+++ b/app/bundles/CacheBundle/Exceptions/InvalidArgumentException.php
@@ -1,6 +1,13 @@
 <?php
 declare(strict_types=1);
+/*
+ * @copyright   2018 Mautic. All rights reserved
+ * @author      Mautic
+ *
+ * @link        https://mautic.org
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CacheBundle\Exceptions;
 class InvalidArgumentException extends \Symfony\Component\Cache\Exception\InvalidArgumentException
 {
 }

--- a/app/bundles/CacheBundle/MauticCacheBundle.php
+++ b/app/bundles/CacheBundle/MauticCacheBundle.php
@@ -1,7 +1,15 @@
 <?php
 declare(strict_types=1);
+/*
+ * @copyright   2020 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CacheBundle;
 use Symfony\Component\HttpKernel\Bundle\Bundle;
 class MauticCacheBundle extends Bundle
 {
 }

--- a/app/bundles/CalendarBundle/CalendarEvents.php
+++ b/app/bundles/CalendarBundle/CalendarEvents.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CalendarBundle;
 /**
  * Class CalendarEvents.
  *
  * Events available for CalendarBundle
  */
 final class CalendarEvents
 {
     /**
      * The mautic.calendar_on_generate event is thrown when generating a calendar view.

--- a/app/bundles/CalendarBundle/Config/config.php
+++ b/app/bundles/CalendarBundle/Config/config.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 return [
     'routes' => [
         'main' => [
             'mautic_calendar_index' => [
                 'path'       => '/calendar',
                 'controller' => 'MauticCalendarBundle:Default:index',
             ],
             'mautic_calendar_action' => [
                 'path'       => '/calendar/{objectAction}',
                 'controller' => 'MauticCalendarBundle:Default:execute',

--- a/app/bundles/CalendarBundle/Controller/AjaxController.php
+++ b/app/bundles/CalendarBundle/Controller/AjaxController.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CalendarBundle\Controller;
 use Mautic\CoreBundle\Controller\AjaxController as CommonAjaxController;
 use Symfony\Component\HttpFoundation\Request;
 use Symfony\Component\HttpFoundation\Response;
 /**
  * Class AjaxController.
  */
 class AjaxController extends CommonAjaxController
 {
     /**

--- a/app/bundles/CalendarBundle/Controller/DefaultController.php
+++ b/app/bundles/CalendarBundle/Controller/DefaultController.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CalendarBundle\Controller;
 use Mautic\CoreBundle\Controller\FormController;
 use Symfony\Component\HttpFoundation\JsonResponse;
 /**
  * Class DefaultController.
  */
 class DefaultController extends FormController
 {
     /**
      * Generates the default view.

--- a/app/bundles/CalendarBundle/Event/CalendarGeneratorEvent.php
+++ b/app/bundles/CalendarBundle/Event/CalendarGeneratorEvent.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CalendarBundle\Event;
 use Symfony\Component\EventDispatcher\Event;
 /**
  * Class CalendarGeneratorEvent.
  */
 class CalendarGeneratorEvent extends Event
 {
     /**
      * @var array
      */

--- a/app/bundles/CalendarBundle/Event/EventGeneratorEvent.php
+++ b/app/bundles/CalendarBundle/Event/EventGeneratorEvent.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CalendarBundle\Event;
 use Symfony\Component\EventDispatcher\Event;
 /**
  * Class EventGeneratorEvent.
  */
 class EventGeneratorEvent extends Event
 {
     /**
      * @var string
      */

--- a/app/bundles/CalendarBundle/MauticCalendarBundle.php
+++ b/app/bundles/CalendarBundle/MauticCalendarBundle.php
@@ -1,9 +1,17 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CalendarBundle;
 use Symfony\Component\HttpKernel\Bundle\Bundle;
 /**
  * Class MauticCalendarBundle.
  */
 class MauticCalendarBundle extends Bundle
 {
 }

--- a/app/bundles/CalendarBundle/Model/CalendarModel.php
+++ b/app/bundles/CalendarBundle/Model/CalendarModel.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CalendarBundle\Model;
 use Mautic\CalendarBundle\CalendarEvents;
 use Mautic\CalendarBundle\Event\CalendarGeneratorEvent;
 use Mautic\CalendarBundle\Event\EventGeneratorEvent;
 use Mautic\CoreBundle\Model\FormModel;
 /**
  * Class CalendarModel.
  */
 class CalendarModel extends FormModel
 {

--- a/app/bundles/CampaignBundle/CampaignEvents.php
+++ b/app/bundles/CampaignBundle/CampaignEvents.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle;
 /**
  * Class CampaignEvents
  * Events available for CampaignBundle.
  */
 final class CampaignEvents
 {
     /**
      * The mautic.campaign_pre_save event is dispatched right before a form is persisted.
      *

--- a/app/bundles/CampaignBundle/Command/ExecuteEventCommand.php
+++ b/app/bundles/CampaignBundle/Command/ExecuteEventCommand.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2018 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Command;
 use Mautic\CampaignBundle\Executioner\ScheduledExecutioner;
 use Mautic\CoreBundle\Templating\Helper\FormatterHelper;
 use Symfony\Component\Console\Command\Command;
 use Symfony\Component\Console\Input\InputInterface;
 use Symfony\Component\Console\Input\InputOption;
 use Symfony\Component\Console\Output\OutputInterface;
 use Symfony\Component\Translation\TranslatorInterface;
 /**
  * Class TriggerCampaignCommand.

--- a/app/bundles/CampaignBundle/Command/SummarizeCommand.php
+++ b/app/bundles/CampaignBundle/Command/SummarizeCommand.php
@@ -1,12 +1,20 @@
 <?php
 declare(strict_types=1);
+/*
+ * @copyright   2018 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Command;
 use Doctrine\DBAL\DBALException;
 use Mautic\CampaignBundle\Model\SummaryModel;
 use Mautic\CoreBundle\Command\ModeratedCommand;
 use Symfony\Component\Console\Input\InputInterface;
 use Symfony\Component\Console\Input\InputOption;
 use Symfony\Component\Console\Output\OutputInterface;
 use Symfony\Component\Translation\TranslatorInterface;
 class SummarizeCommand extends ModeratedCommand
 {

--- a/app/bundles/CampaignBundle/Command/TriggerCampaignCommand.php
+++ b/app/bundles/CampaignBundle/Command/TriggerCampaignCommand.php
@@ -1,25 +1,30 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Command;
-use Exception;
 use Mautic\CampaignBundle\CampaignEvents;
 use Mautic\CampaignBundle\Entity\Campaign;
 use Mautic\CampaignBundle\Entity\CampaignRepository;
 use Mautic\CampaignBundle\Event\CampaignTriggerEvent;
 use Mautic\CampaignBundle\Executioner\ContactFinder\Limiter\ContactLimiter;
 use Mautic\CampaignBundle\Executioner\InactiveExecutioner;
 use Mautic\CampaignBundle\Executioner\KickoffExecutioner;
 use Mautic\CampaignBundle\Executioner\ScheduledExecutioner;
 use Mautic\CoreBundle\Command\ModeratedCommand;
 use Mautic\CoreBundle\Templating\Helper\FormatterHelper;
-use Mautic\LeadBundle\Helper\SegmentCountCacheHelper;
-use Mautic\LeadBundle\Model\ListModel;
 use Psr\Log\LoggerInterface;
 use Symfony\Component\Console\Input\InputInterface;
 use Symfony\Component\Console\Input\InputOption;
 use Symfony\Component\Console\Output\NullOutput;
 use Symfony\Component\Console\Output\OutputInterface;
 use Symfony\Component\EventDispatcher\EventDispatcher;
 use Symfony\Component\EventDispatcher\EventDispatcherInterface;
 use Symfony\Component\Translation\TranslatorInterface;
 class TriggerCampaignCommand extends ModeratedCommand
 {
@@ -73,51 +78,39 @@
      */
     private $scheduleOnly = false;
     /**
      * @var ContactLimiter
      */
     private $limiter;
     /**
      * @var Campaign
      */
     private $campaign;
-    /**
-     * @var ListModel
-     */
-    private $listModel;
-    /**
-     * @var SegmentCountCacheHelper
-     */
-    private $segmentCountCacheHelper;
     public function __construct(
         CampaignRepository $campaignRepository,
         EventDispatcherInterface $dispatcher,
         TranslatorInterface $translator,
         KickoffExecutioner $kickoffExecutioner,
         ScheduledExecutioner $scheduledExecutioner,
         InactiveExecutioner $inactiveExecutioner,
         LoggerInterface $logger,
-        FormatterHelper $formatterHelper,
-        ListModel $listModel,
-        SegmentCountCacheHelper $segmentCountCacheHelper
+        FormatterHelper $formatterHelper
     ) {
         parent::__construct();
-        $this->campaignRepository        = $campaignRepository;
-        $this->dispatcher                = $dispatcher;
-        $this->translator                = $translator;
-        $this->kickoffExecutioner        = $kickoffExecutioner;
-        $this->scheduledExecutioner      = $scheduledExecutioner;
-        $this->inactiveExecutioner       = $inactiveExecutioner;
-        $this->logger                    = $logger;
-        $this->formatterHelper           = $formatterHelper;
-        $this->listModel                 = $listModel;
-        $this->segmentCountCacheHelper   = $segmentCountCacheHelper;
+        $this->campaignRepository   = $campaignRepository;
+        $this->dispatcher           = $dispatcher;
+        $this->translator           = $translator;
+        $this->kickoffExecutioner   = $kickoffExecutioner;
+        $this->scheduledExecutioner = $scheduledExecutioner;
+        $this->inactiveExecutioner  = $inactiveExecutioner;
+        $this->logger               = $logger;
+        $this->formatterHelper      = $formatterHelper;
     }
     /**
      * {@inheritdoc}
      */
     protected function configure()
     {
         $this
             ->setName('mautic:campaigns:trigger')
             ->setDescription('Trigger timed events for published campaigns.')
             ->addOption(
@@ -196,21 +189,21 @@
                 '-l',
                 InputOption::VALUE_OPTIONAL,
                 'Set batch size of contacts to process per round. Defaults to 100.',
                 100
             );
         parent::configure();
     }
     /**
      * @return int|null
      *
-     * @throws Exception
+     * @throws \Exception
      */
     protected function execute(InputInterface $input, OutputInterface $output)
     {
         $quiet              = $input->getOption('quiet');
         $this->output       = $quiet ? new NullOutput() : $output;
         $this->kickoffOnly  = $input->getOption('kickoff-only');
         $this->scheduleOnly = $input->getOption('scheduled-only');
         $this->inactiveOnly = $input->getOption('inactive-only');
         $batchLimit    = $input->getOption('batch-limit');
         $campaignLimit = $input->getOption('campaign-limit');
@@ -261,21 +254,21 @@
             /** @var CampaignTriggerEvent $event */
             $event = $this->dispatcher->dispatch(
                 CampaignEvents::CAMPAIGN_ON_TRIGGER,
                 new CampaignTriggerEvent($campaign)
             );
             return $event->shouldTrigger();
         }
         return true;
     }
     /**
-     * @throws Exception
+     * @throws \Exception
      */
     private function triggerCampaign(Campaign $campaign)
     {
         if (!$campaign->isPublished()) {
             return;
         }
         if (!$this->dispatchTriggerEvent($campaign)) {
             return;
         }
         $this->campaign = $campaign;
@@ -286,27 +279,25 @@
                 $this->executeKickoff();
             }
             $this->limiter->resetBatchMinContactId();
             if (!$this->inactiveOnly && !$this->kickoffOnly) {
                 $this->executeScheduled();
             }
             $this->limiter->resetBatchMinContactId();
             if (!$this->scheduleOnly && !$this->kickoffOnly) {
                 $this->executeInactive();
             }
-        } catch (Exception $exception) {
+        } catch (\Exception $exception) {
             if ('prod' !== MAUTIC_ENV) {
                 throw $exception;
             }
             $this->logger->error('CAMPAIGN: '.$exception->getMessage());
-        } finally {
-            $this->updateCampaignSegmentContactCount($campaign);
         }
         if ('test' !== MAUTIC_ENV) {
             $this->campaignRepository->detachEntity($campaign);
         }
     }
     /**
      * @throws \Mautic\CampaignBundle\Executioner\Dispatcher\Exception\LogNotProcessedException
      * @throws \Mautic\CampaignBundle\Executioner\Dispatcher\Exception\LogPassedAndFailedException
      * @throws \Mautic\CampaignBundle\Executioner\Exception\CannotProcessEventException
      * @throws \Mautic\CampaignBundle\Executioner\Scheduler\Exception\NotSchedulableException
@@ -335,22 +326,11 @@
      * @throws \Mautic\CampaignBundle\Executioner\Dispatcher\Exception\LogPassedAndFailedException
      * @throws \Mautic\CampaignBundle\Executioner\Exception\CannotProcessEventException
      * @throws \Mautic\CampaignBundle\Executioner\Scheduler\Exception\NotSchedulableException
      */
     private function executeInactive()
     {
         $this->output->writeln('<comment>'.$this->translator->trans('mautic.campaign.trigger.negative').'</comment>');
         $counter = $this->inactiveExecutioner->execute($this->campaign, $this->limiter, $this->output);
         $this->writeCounts($this->output, $this->translator, $counter);
     }
-    /**
-     * @throws Exception
-     */
-    private function updateCampaignSegmentContactCount(Campaign $campaign): void
-    {
-        $segmentIds = $this->campaignRepository->getCampaignListIds((int) $campaign->getId());
-        foreach ($segmentIds as $segmentId) {
-            $totalLeadCount = $this->listModel->getRepository()->getLeadCount($segmentId);
-            $this->segmentCountCacheHelper->setSegmentContactCount($segmentId, (int) $totalLeadCount);
-        }
-    }
 }

--- a/app/bundles/CampaignBundle/Command/UpdateLeadCampaignsCommand.php
+++ b/app/bundles/CampaignBundle/Command/UpdateLeadCampaignsCommand.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Command;
 use Mautic\CampaignBundle\Entity\Campaign;
 use Mautic\CampaignBundle\Entity\CampaignRepository;
 use Mautic\CampaignBundle\Executioner\ContactFinder\Limiter\ContactLimiter;
 use Mautic\CampaignBundle\Membership\MembershipBuilder;
 use Mautic\CoreBundle\Command\ModeratedCommand;
 use Mautic\CoreBundle\Templating\Helper\FormatterHelper;
 use Psr\Log\LoggerInterface;
 use Symfony\Component\Console\Input\InputInterface;
 use Symfony\Component\Console\Input\InputOption;

--- a/app/bundles/CampaignBundle/Command/ValidateEventCommand.php
+++ b/app/bundles/CampaignBundle/Command/ValidateEventCommand.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Command;
 use Mautic\CampaignBundle\Executioner\ContactFinder\Limiter\ContactLimiter;
 use Mautic\CampaignBundle\Executioner\InactiveExecutioner;
 use Mautic\CoreBundle\Templating\Helper\FormatterHelper;
 use Symfony\Component\Console\Command\Command;
 use Symfony\Component\Console\Input\InputInterface;
 use Symfony\Component\Console\Input\InputOption;
 use Symfony\Component\Console\Output\OutputInterface;
 use Symfony\Component\Translation\TranslatorInterface;
 /**
@@ -71,21 +79,21 @@
      */
     protected function execute(InputInterface $input, OutputInterface $output)
     {
         defined('MAUTIC_CAMPAIGN_SYSTEM_TRIGGERED') or define('MAUTIC_CAMPAIGN_SYSTEM_TRIGGERED', 1);
         $decisionId = $input->getOption('decision-id');
         $contactId  = $input->getOption('contact-id');
         $contactIds = $this->formatterHelper->simpleCsvToArray($input->getOption('contact-ids'), 'int');
         if (!$contactIds && !$contactId) {
             $output->writeln(
                 "\n".
-                '<comment>'.$this->translator->trans('mautic.campaign.trigger.events_executed', ['%count%' => 0])
+                '<comment>'.$this->translator->trans('mautic.campaign.trigger.events_executed', ['%events%' => 0])
                 .'</comment>'
             );
             return 0;
         }
         $limiter = new ContactLimiter(null, $contactId, null, null, $contactIds);
         $counter = $this->inactiveExecution->validate($decisionId, $limiter, $output);
         $this->writeCounts($output, $this->translator, $counter);
         return 0;
     }
 }

--- a/app/bundles/CampaignBundle/Command/WriteCountTrait.php
+++ b/app/bundles/CampaignBundle/Command/WriteCountTrait.php
@@ -1,27 +1,37 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Command;
 use Mautic\CampaignBundle\Executioner\Result\Counter;
 use Symfony\Component\Console\Output\OutputInterface;
 use Symfony\Component\Translation\TranslatorInterface;
 trait WriteCountTrait
 {
     private function writeCounts(OutputInterface $output, TranslatorInterface $translator, Counter $counter): void
     {
         $output->writeln('');
         $output->writeln(
-            '<comment>'.$translator->trans(
+            '<comment>'.$translator->transChoice(
                 'mautic.campaign.trigger.events_executed',
-                ['%count%' => $counter->getTotalExecuted()]
+                $counter->getTotalExecuted(),
+                ['%events%' => $counter->getTotalExecuted()]
             )
             .'</comment>'
         );
         $output->writeln(
-            '<comment>'.$translator->trans(
+            '<comment>'.$translator->transChoice(
                 'mautic.campaign.trigger.events_scheduled',
-                ['%count%' => $counter->getTotalScheduled()]
+                $counter->getTotalScheduled(),
+                ['%events%' => $counter->getTotalScheduled()]
             )
             .'</comment>'
         );
         $output->writeln('');
     }
 }

--- a/app/bundles/CampaignBundle/Config/config.php
+++ b/app/bundles/CampaignBundle/Config/config.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 return [
     'routes' => [
         'main' => [
             'mautic_campaignevent_action'  => [
                 'path'       => '/campaigns/events/{objectAction}/{objectId}',
                 'controller' => 'MauticCampaignBundle:Event:execute',
             ],
             'mautic_campaignsource_action' => [
                 'path'       => '/campaigns/sources/{objectAction}/{objectId}',
                 'controller' => 'MauticCampaignBundle:Source:execute',
@@ -556,22 +564,20 @@
                 'class'     => \Mautic\CampaignBundle\Command\TriggerCampaignCommand::class,
                 'arguments' => [
                     'mautic.campaign.repository.campaign',
                     'event_dispatcher',
                     'translator',
                     'mautic.campaign.executioner.kickoff',
                     'mautic.campaign.executioner.scheduled',
                     'mautic.campaign.executioner.inactive',
                     'monolog.logger.mautic',
                     'mautic.helper.template.formatter',
-                    'mautic.lead.model.list',
-                    'mautic.helper.segment.count.cache',
                 ],
                 'tag' => 'console.command',
             ],
             'mautic.campaign.command.execute' => [
                 'class'     => \Mautic\CampaignBundle\Command\ExecuteEventCommand::class,
                 'arguments' => [
                     'mautic.campaign.executioner.scheduled',
                     'translator',
                     'mautic.helper.template.formatter',
                 ],

--- a/app/bundles/CampaignBundle/Controller/AjaxController.php
+++ b/app/bundles/CampaignBundle/Controller/AjaxController.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Controller;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Mautic\CampaignBundle\Model\EventLogModel;
 use Mautic\CoreBundle\Controller\AjaxController as CommonAjaxController;
 use Mautic\CoreBundle\Helper\InputHelper;
 use Symfony\Component\HttpFoundation\Request;
 /**
  * Class AjaxController.
  */
 class AjaxController extends CommonAjaxController

--- a/app/bundles/CampaignBundle/Controller/Api/CampaignApiController.php
+++ b/app/bundles/CampaignBundle/Controller/Api/CampaignApiController.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Controller\Api;
 use Mautic\ApiBundle\Controller\CommonApiController;
 use Mautic\CampaignBundle\Entity\Campaign;
 use Mautic\CampaignBundle\Membership\MembershipManager;
 use Mautic\CoreBundle\Helper\InputHelper;
 use Mautic\LeadBundle\Controller\LeadAccessTrait;
 use Symfony\Component\HttpFoundation\Response;
 use Symfony\Component\HttpKernel\Event\FilterControllerEvent;
 class CampaignApiController extends CommonApiController
 {

--- a/app/bundles/CampaignBundle/Controller/Api/EventApiController.php
+++ b/app/bundles/CampaignBundle/Controller/Api/EventApiController.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Controller\Api;
 use Mautic\ApiBundle\Controller\CommonApiController;
 use Mautic\ApiBundle\Serializer\Exclusion\FieldExclusionStrategy;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\LeadBundle\Controller\LeadAccessTrait;
 use Symfony\Component\HttpKernel\Event\FilterControllerEvent;
 /**
  * Class EventApiController.
  */
 class EventApiController extends CommonApiController

--- a/app/bundles/CampaignBundle/Controller/Api/EventLogApiController.php
+++ b/app/bundles/CampaignBundle/Controller/Api/EventLogApiController.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Controller\Api;
 use Mautic\ApiBundle\Controller\CommonApiController;
 use Mautic\ApiBundle\Serializer\Exclusion\FieldInclusionStrategy;
 use Mautic\CampaignBundle\Entity\Campaign;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\CampaignBundle\Model\EventLogModel;
 use Mautic\CampaignBundle\Model\EventModel;
 use Mautic\LeadBundle\Controller\LeadAccessTrait;
 use Mautic\LeadBundle\Entity\Lead;
 use Symfony\Component\HttpFoundation\Response;

--- a/app/bundles/CampaignBundle/Controller/CampaignController.php
+++ b/app/bundles/CampaignBundle/Controller/CampaignController.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Controller;
 use Doctrine\DBAL\Cache\CacheException;
 use Mautic\CampaignBundle\Entity\Campaign;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Mautic\CampaignBundle\Entity\LeadEventLogRepository;
 use Mautic\CampaignBundle\Entity\Summary;
 use Mautic\CampaignBundle\Entity\SummaryRepository;
 use Mautic\CampaignBundle\EventCollector\EventCollector;
 use Mautic\CampaignBundle\EventListener\CampaignActionJumpToEventSubscriber;
@@ -831,23 +839,23 @@
             unset($event['children']);
             unset($event['parent']);
             unset($event['log']);
             $label = false;
             switch ($event['triggerMode']) {
                 case 'interval':
                     $label = $translator->trans(
                         'mautic.campaign.connection.trigger.interval.label'.('no' == $event['decisionPath'] ? '_inaction' : ''),
                         [
                             '%number%' => $event['triggerInterval'],
-                            '%unit%'   => $translator->trans(
+                            '%unit%'   => $translator->transChoice(
                                 'mautic.campaign.event.intervalunit.'.$event['triggerIntervalUnit'],
-                                ['%count%' => $event['triggerInterval']]
+                                $event['triggerInterval']
                             ),
                         ]
                     );
                     break;
                 case 'date':
                     $label = $translator->trans(
                         'mautic.campaign.connection.trigger.date.label'.('no' == $event['decisionPath'] ? '_inaction' : ''),
                         [
                             '%full%' => $dateHelper->toFull($event['triggerDate']),
                             '%time%' => $dateHelper->toTime($event['triggerDate']),

--- a/app/bundles/CampaignBundle/Controller/EventController.php
+++ b/app/bundles/CampaignBundle/Controller/EventController.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Controller;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\CampaignBundle\EventCollector\EventCollector;
 use Mautic\CampaignBundle\Form\Type\EventType;
 use Mautic\CoreBundle\Controller\FormController as CommonFormController;
 use Symfony\Component\HttpFoundation\JsonResponse;
 class EventController extends CommonFormController
 {
     private $supportedEventTypes = [
         Event::TYPE_DECISION,
@@ -131,23 +139,23 @@
             $translator = $this->translator;
             if ('interval' == $event['triggerMode']) {
                 $label = 'mautic.campaign.connection.trigger.interval.label';
                 if ('no' == $anchorName) {
                     $label .= '_inaction';
                 }
                 $passthroughVars['label'] = $translator->trans(
                     $label,
                     [
                         '%number%' => $event['triggerInterval'],
-                        '%unit%'   => $translator->trans(
+                        '%unit%'   => $translator->transChoice(
                             'mautic.campaign.event.intervalunit.'.$event['triggerIntervalUnit'],
-                            ['%count%' => $event['triggerInterval']]
+                            $event['triggerInterval']
                         ),
                     ]
                 );
             } elseif ('date' == $event['triggerMode']) {
                 /** @var \Mautic\CoreBundle\Templating\Helper\DateHelper $dh */
                 $dh    = $this->factory->getHelper('template.date');
                 $label = 'mautic.campaign.connection.trigger.date.label';
                 if ('no' == $anchorName) {
                     $label .= '_inaction';
                 }
@@ -308,23 +316,23 @@
             ]);
             if (Event::TRIGGER_MODE_INTERVAL === $event['triggerMode']) {
                 $label = 'mautic.campaign.connection.trigger.interval.label';
                 if (Event::PATH_INACTION === $event['anchor']) {
                     $label .= '_inaction';
                 }
                 $passthroughVars['label'] = $this->translator->trans(
                     $label,
                     [
                         '%number%' => $event['triggerInterval'],
-                        '%unit%'   => $this->translator->trans(
+                        '%unit%'   => $this->translator->transChoice(
                             'mautic.campaign.event.intervalunit.'.$event['triggerIntervalUnit'],
-                            ['%count%' => $event['triggerInterval']]
+                            $event['triggerInterval']
                         ),
                     ]
                 );
             }
             if (Event::TRIGGER_MODE_DATE === $event['triggerMode']) {
                 $label = 'mautic.campaign.connection.trigger.date.label';
                 if (Event::PATH_INACTION === $event['anchor']) {
                     $label .= '_inaction';
                 }
                 /** @var \Mautic\CoreBundle\Templating\Helper\DateHelper $dh */

--- a/app/bundles/CampaignBundle/Controller/SourceController.php
+++ b/app/bundles/CampaignBundle/Controller/SourceController.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Controller;
 use Mautic\CampaignBundle\Form\Type\CampaignLeadSourceType;
 use Mautic\CoreBundle\Controller\FormController as CommonFormController;
 use Symfony\Component\HttpFoundation\JsonResponse;
 class SourceController extends CommonFormController
 {
     private $supportedSourceTypes = ['lists', 'forms'];
     /**
      * @param int $objectId
      *

--- a/app/bundles/CampaignBundle/DataFixtures/ORM/CampaignData.php
+++ b/app/bundles/CampaignBundle/DataFixtures/ORM/CampaignData.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2020 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\DataFixtures\ORM;
 use Doctrine\Common\DataFixtures\AbstractFixture;
 use Doctrine\Common\DataFixtures\OrderedFixtureInterface;
 use Doctrine\Persistence\ObjectManager;
 use Mautic\CampaignBundle\Entity\Campaign;
 class CampaignData extends AbstractFixture implements OrderedFixtureInterface
 {
     public function load(ObjectManager $manager)
     {
         $campaign = new Campaign();

--- a/app/bundles/CampaignBundle/Entity/Campaign.php
+++ b/app/bundles/CampaignBundle/Entity/Campaign.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Entity;
 use Doctrine\Common\Collections\ArrayCollection;
 use Doctrine\Common\Collections\Criteria;
 use Doctrine\ORM\Mapping as ORM;
 use Mautic\ApiBundle\Serializer\Driver\ApiMetadataDriver;
 use Mautic\CoreBundle\Doctrine\Mapping\ClassMetadataBuilder;
 use Mautic\CoreBundle\Entity\FormEntity;
 use Mautic\CoreBundle\Entity\PublishStatusIconAttributesInterface;
 use Mautic\FormBundle\Entity\Form;
 use Mautic\LeadBundle\Entity\Lead as Contact;

--- a/app/bundles/CampaignBundle/Entity/CampaignRepository.php
+++ b/app/bundles/CampaignBundle/Entity/CampaignRepository.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Entity;
 use Doctrine\DBAL\Cache\QueryCacheProfile;
 use Doctrine\DBAL\Types\Types;
 use Doctrine\ORM\Query\Expr;
 use Mautic\CampaignBundle\Entity\Result\CountResult;
 use Mautic\CampaignBundle\Executioner\ContactFinder\Limiter\ContactLimiter;
 use Mautic\CoreBundle\Entity\CommonRepository;
 class CampaignRepository extends CommonRepository
 {
     use ContactLimiterTrait;
@@ -127,21 +135,21 @@
             }
             $campaigns[$result['id']]['lists'][$result['list_id']] = [
                 'id' => $result['list_id'],
             ];
         }
         return $campaigns;
     }
     /**
      * Get array of list IDs assigned to this campaign.
      *
-     * @param int|null $id
+     * @param null $id
      *
      * @return array
      */
     public function getCampaignListIds($id = null)
     {
         $q = $this->getEntityManager()->getConnection()->createQueryBuilder()
             ->from(MAUTIC_TABLE_PREFIX.'campaign_leadlist_xref', 'cl');
         if ($id) {
             $q->select('cl.leadlist_id')
                 ->where(

--- a/app/bundles/CampaignBundle/Entity/ChannelInterface.php
+++ b/app/bundles/CampaignBundle/Entity/ChannelInterface.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Entity;
 interface ChannelInterface
 {
     /**
      * @return string
      */
     public function getChannel();
     /**
      * @param $channel
      *

--- a/app/bundles/CampaignBundle/Entity/ContactLimiterTrait.php
+++ b/app/bundles/CampaignBundle/Entity/ContactLimiterTrait.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2018 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Entity;
 use Doctrine\DBAL\Connection;
 use Doctrine\DBAL\Query\QueryBuilder as DbalQueryBuilder;
 use Doctrine\ORM\QueryBuilder as OrmQueryBuilder;
 use Mautic\CampaignBundle\Executioner\ContactFinder\Limiter\ContactLimiter;
 trait ContactLimiterTrait
 {
     /**
      * @param string $alias
      * @param bool   $isCount

--- a/app/bundles/CampaignBundle/Entity/Event.php
+++ b/app/bundles/CampaignBundle/Entity/Event.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Entity;
 use Doctrine\Common\Collections\ArrayCollection;
 use Doctrine\Common\Collections\Criteria;
 use Doctrine\ORM\Mapping as ORM;
 use Mautic\ApiBundle\Serializer\Driver\ApiMetadataDriver;
 use Mautic\CoreBundle\Doctrine\Mapping\ClassMetadataBuilder;
 use Mautic\LeadBundle\Entity\Lead as Contact;
 /**
  * Class Event.
  */

--- a/app/bundles/CampaignBundle/Entity/EventRepository.php
+++ b/app/bundles/CampaignBundle/Entity/EventRepository.php
@@ -1,21 +1,27 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Entity;
 use Mautic\CoreBundle\Entity\CommonRepository;
 class EventRepository extends CommonRepository
 {
     /**
      * Get a list of entities.
      *
-     * @param mixed[] $args
-     *
-     * @return \Doctrine\ORM\Tools\Pagination\Paginator<object>|object[]|mixed[]
+     * @return \Doctrine\ORM\Tools\Pagination\Paginator
      */
     public function getEntities(array $args = [])
     {
         $select = 'e';
         $q      = $this
             ->createQueryBuilder('e')
             ->join('e.campaign', 'c');
         if (!empty($args['campaign_id'])) {
             $q->andWhere(
                 $q->expr()->eq('IDENTITY(e.campaign)', (int) $args['campaign_id'])

--- a/app/bundles/CampaignBundle/Entity/FailedLeadEventLog.php
+++ b/app/bundles/CampaignBundle/Entity/FailedLeadEventLog.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Entity;
 use Doctrine\ORM\Mapping as ORM;
 use Mautic\ApiBundle\Serializer\Driver\ApiMetadataDriver;
 use Mautic\CoreBundle\Doctrine\Mapping\ClassMetadataBuilder;
 /**
  * Class LeadEventLog.
  */
 class FailedLeadEventLog
 {
     /**

--- a/app/bundles/CampaignBundle/Entity/FailedLeadEventLogRepository.php
+++ b/app/bundles/CampaignBundle/Entity/FailedLeadEventLogRepository.php
@@ -1,9 +1,17 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Entity;
 use Mautic\CoreBundle\Entity\CommonRepository;
 /**
  * LeadEventLogRepository.
  */
 class FailedLeadEventLogRepository extends CommonRepository
 {
 }

--- a/app/bundles/CampaignBundle/Entity/Lead.php
+++ b/app/bundles/CampaignBundle/Entity/Lead.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Entity;
 use Doctrine\ORM\Mapping as ORM;
 use Mautic\ApiBundle\Serializer\Driver\ApiMetadataDriver;
 use Mautic\CoreBundle\Doctrine\Mapping\ClassMetadataBuilder;
 /**
  * Class Lead.
  */
 class Lead
 {
     /**

--- a/app/bundles/CampaignBundle/Entity/LeadEventLog.php
+++ b/app/bundles/CampaignBundle/Entity/LeadEventLog.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Entity;
 use Doctrine\ORM\Mapping as ORM;
 use Mautic\ApiBundle\Serializer\Driver\ApiMetadataDriver;
 use Mautic\CoreBundle\Doctrine\Mapping\ClassMetadataBuilder;
 use Mautic\CoreBundle\Entity\IpAddress;
 use Mautic\LeadBundle\Entity\Lead as LeadEntity;
 class LeadEventLog implements ChannelInterface
 {
     /**
      * @var int|null

--- a/app/bundles/CampaignBundle/Entity/LeadEventLogRepository.php
+++ b/app/bundles/CampaignBundle/Entity/LeadEventLogRepository.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Entity;
 use DateTimeInterface;
 use Doctrine\Common\Collections\ArrayCollection;
 use Doctrine\DBAL\Cache\QueryCacheProfile;
 use Doctrine\DBAL\Types\Type;
 use Mautic\CampaignBundle\Executioner\ContactFinder\Limiter\ContactLimiter;
 use Mautic\CoreBundle\Entity\CommonRepository;
 use Mautic\CoreBundle\Helper\Chart\ChartQuery;
 use Mautic\LeadBundle\Entity\TimelineTrait;
 class LeadEventLogRepository extends CommonRepository

--- a/app/bundles/CampaignBundle/Entity/LeadRepository.php
+++ b/app/bundles/CampaignBundle/Entity/LeadRepository.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Entity;
 use Doctrine\DBAL\Connection;
 use Doctrine\DBAL\Query\QueryBuilder;
 use Mautic\CampaignBundle\Entity\Result\CountResult;
 use Mautic\CampaignBundle\Executioner\ContactFinder\Limiter\ContactLimiter;
 use Mautic\CoreBundle\Entity\CommonRepository;
 class LeadRepository extends CommonRepository
 {
     use ContactLimiterTrait;
     use SlaveConnectionTrait;
@@ -395,22 +403,21 @@
         $contacts = [];
         foreach ($results as $result) {
             $contacts[$result['id']] = $result['id'];
         }
         return $contacts;
     }
     /**
      * Takes an array of contact ID's and increments
      * their current rotation in a campaign by 1.
      *
-     * @param int[] $contactIds
-     * @param int   $campaignId
+     * @param int $campaignId
      *
      * @return bool
      */
     public function incrementCampaignRotationForContacts(array $contactIds, $campaignId)
     {
         $q = $this->getEntityManager()->getConnection()->createQueryBuilder();
         $q->update(MAUTIC_TABLE_PREFIX.'campaign_leads', 'cl')
             ->set('cl.rotation', 'cl.rotation + 1')
             ->where(
                 $q->expr()->andX(

--- a/app/bundles/CampaignBundle/Entity/Result/CountResult.php
+++ b/app/bundles/CampaignBundle/Entity/Result/CountResult.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2018 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Entity\Result;
 class CountResult
 {
     /**
      * @var int
      */
     private $count;
     /**
      * @var int
      */

--- a/app/bundles/CampaignBundle/Entity/SlaveConnectionTrait.php
+++ b/app/bundles/CampaignBundle/Entity/SlaveConnectionTrait.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2018 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Entity;
 use Doctrine\DBAL\Connection;
 use Doctrine\DBAL\Connections\MasterSlaveConnection;
 use Mautic\CampaignBundle\Executioner\ContactFinder\Limiter\ContactLimiter;
 /**
  * Trait SlaveConnectionTrait.
  */
 trait SlaveConnectionTrait
 {
     /**

--- a/app/bundles/CampaignBundle/Entity/Summary.php
+++ b/app/bundles/CampaignBundle/Entity/Summary.php
@@ -1,12 +1,20 @@
 <?php
 declare(strict_types=1);
+/*
+ * @copyright   2018 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Entity;
 use Doctrine\DBAL\Types\Types;
 use Doctrine\ORM\Mapping as ORM;
 use Mautic\CoreBundle\Doctrine\Mapping\ClassMetadataBuilder;
 class Summary
 {
     public const TABLE_NAME = 'campaign_summary';
     /**
      * @var int|null
      */

--- a/app/bundles/CampaignBundle/Entity/SummaryRepository.php
+++ b/app/bundles/CampaignBundle/Entity/SummaryRepository.php
@@ -1,12 +1,20 @@
 <?php
 declare(strict_types=1);
+/*
+ * @copyright   2018 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Entity;
 use DateTime;
 use DateTimeInterface;
 use Doctrine\DBAL\DBALException;
 use Mautic\CoreBundle\Entity\CommonRepository;
 use Mautic\LeadBundle\Entity\TimelineTrait;
 use PDO;
 class SummaryRepository extends CommonRepository
 {
     use TimelineTrait;

--- a/app/bundles/CampaignBundle/Event/AbstractLogCollectionEvent.php
+++ b/app/bundles/CampaignBundle/Event/AbstractLogCollectionEvent.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Event;
 use Doctrine\Common\Collections\ArrayCollection;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Mautic\CampaignBundle\EventCollector\Accessor\Event\AbstractEventAccessor;
 use Mautic\CampaignBundle\Executioner\Exception\NoContactsFoundException;
 use Mautic\LeadBundle\Entity\Lead;
 abstract class AbstractLogCollectionEvent extends \Symfony\Component\EventDispatcher\Event
 {
     /**

--- a/app/bundles/CampaignBundle/Event/CampaignBuilderEvent.php
+++ b/app/bundles/CampaignBundle/Event/CampaignBuilderEvent.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Event;
 use Mautic\CampaignBundle\Event\Exception\KeyAlreadyRegisteredException;
 use Mautic\CoreBundle\Event\ComponentValidationTrait;
 use Symfony\Component\EventDispatcher\Event;
 use Symfony\Component\Translation\TranslatorInterface;
 class CampaignBuilderEvent extends Event
 {
     use ComponentValidationTrait;
     /**
      * @var array

--- a/app/bundles/CampaignBundle/Event/CampaignDecisionEvent.php
+++ b/app/bundles/CampaignBundle/Event/CampaignDecisionEvent.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2015 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Event;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Symfony\Component\EventDispatcher\Event;
 /**
  * Class CampaignDecisionEvent.
  *
  * @deprecated 2.13.0; to be removed in 3.0
  */
 class CampaignDecisionEvent extends Event
 {

--- a/app/bundles/CampaignBundle/Event/CampaignEvent.php
+++ b/app/bundles/CampaignBundle/Event/CampaignEvent.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Event;
 use Mautic\CampaignBundle\Entity\Campaign;
 use Mautic\CoreBundle\Event\CommonEvent;
 /**
  * Class CampaignEvent.
  */
 class CampaignEvent extends CommonEvent
 {
     /**
      * @param bool $isNew

--- a/app/bundles/CampaignBundle/Event/CampaignExecutionEvent.php
+++ b/app/bundles/CampaignBundle/Event/CampaignExecutionEvent.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2015 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Event;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Mautic\LeadBundle\Entity\Lead;
 use Symfony\Component\EventDispatcher\Event;
 /**
  * Class CampaignExecutionEvent.
  *
  * @deprecated 2.13.0; to be removed in 3.0
  */
 class CampaignExecutionEvent extends Event

--- a/app/bundles/CampaignBundle/Event/CampaignLeadChangeEvent.php
+++ b/app/bundles/CampaignBundle/Event/CampaignLeadChangeEvent.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Event;
 use Mautic\CampaignBundle\Entity\Campaign;
 use Mautic\LeadBundle\Entity\Lead;
 use Symfony\Component\EventDispatcher\Event;
 /**
  * Class CampaignLeadChangeEvent.
  */
 class CampaignLeadChangeEvent extends Event
 {
     /**

--- a/app/bundles/CampaignBundle/Event/CampaignScheduledEvent.php
+++ b/app/bundles/CampaignBundle/Event/CampaignScheduledEvent.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2015 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Event;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Symfony\Component\EventDispatcher\Event;
 /**
  * Class CampaignScheduledEvent.
  *
  * @deprecated 2.13.0; to be removed in 3.0
  */
 class CampaignScheduledEvent extends Event
 {

--- a/app/bundles/CampaignBundle/Event/CampaignTriggerEvent.php
+++ b/app/bundles/CampaignBundle/Event/CampaignTriggerEvent.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Event;
 use Mautic\CampaignBundle\Entity\Campaign;
 use Symfony\Component\EventDispatcher\Event;
 class CampaignTriggerEvent extends Event
 {
     /**
      * @var Campaign
      */
     protected $campaign;
     /**

--- a/app/bundles/CampaignBundle/Event/ConditionEvent.php
+++ b/app/bundles/CampaignBundle/Event/ConditionEvent.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Event;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Mautic\CampaignBundle\EventCollector\Accessor\Event\AbstractEventAccessor;
 class ConditionEvent extends CampaignExecutionEvent
 {
     use ContextTrait;
     /**
      * @var AbstractEventAccessor
      */
     private $eventConfig;

--- a/app/bundles/CampaignBundle/Event/ContextTrait.php
+++ b/app/bundles/CampaignBundle/Event/ContextTrait.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Event;
 use Mautic\CampaignBundle\Entity\Event;
 trait ContextTrait
 {
     /**
      * Check if an event is applicable.
      *
      * @param $eventType
      *
      * @return bool

--- a/app/bundles/CampaignBundle/Event/DecisionEvent.php
+++ b/app/bundles/CampaignBundle/Event/DecisionEvent.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Event;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Mautic\CampaignBundle\EventCollector\Accessor\Event\AbstractEventAccessor;
 class DecisionEvent extends CampaignExecutionEvent
 {
     use ContextTrait;
     /**
      * @var AbstractEventAccessor
      */
     private $eventConfig;

--- a/app/bundles/CampaignBundle/Event/DecisionResultsEvent.php
+++ b/app/bundles/CampaignBundle/Event/DecisionResultsEvent.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Event;
 use Doctrine\Common\Collections\ArrayCollection;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Mautic\CampaignBundle\EventCollector\Accessor\Event\AbstractEventAccessor;
 use Mautic\CampaignBundle\Executioner\Result\EvaluatedContacts;
 use Symfony\Component\EventDispatcher\Event;
 class DecisionResultsEvent extends Event
 {
     /**
      * @var AbstractEventAccessor

--- a/app/bundles/CampaignBundle/Event/EventArrayTrait.php
+++ b/app/bundles/CampaignBundle/Event/EventArrayTrait.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Event;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Mautic\CampaignBundle\EventCollector\Accessor\Event\AbstractEventAccessor;
 /**
  * Trait EventArrayTrait.
  *
  * @deprecated 2.13.0; used for BC support. To be removed in 3.0
  */
 trait EventArrayTrait

--- a/app/bundles/CampaignBundle/Event/Exception/KeyAlreadyRegisteredException.php
+++ b/app/bundles/CampaignBundle/Event/Exception/KeyAlreadyRegisteredException.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2018 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Event\Exception;
 use Symfony\Component\Process\Exception\InvalidArgumentException;
 /**
  * Class KeyAlreadyRegisteredException.
  *
  * Extends Symfony\Component\Process\Exception\InvalidArgumentException to keep BC
  */
 class KeyAlreadyRegisteredException extends InvalidArgumentException
 {
 }

--- a/app/bundles/CampaignBundle/Event/ExecutedBatchEvent.php
+++ b/app/bundles/CampaignBundle/Event/ExecutedBatchEvent.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Event;
 use Doctrine\Common\Collections\ArrayCollection;
 class ExecutedBatchEvent extends AbstractLogCollectionEvent
 {
     /**
      * @return ArrayCollection
      */
     public function getExecuted()
     {
         return $this->logs;

--- a/app/bundles/CampaignBundle/Event/ExecutedEvent.php
+++ b/app/bundles/CampaignBundle/Event/ExecutedEvent.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Event;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Mautic\CampaignBundle\EventCollector\Accessor\Event\AbstractEventAccessor;
 class ExecutedEvent extends \Symfony\Component\EventDispatcher\Event
 {
     /**
      * @var AbstractEventAccessor
      */
     private $config;
     /**

--- a/app/bundles/CampaignBundle/Event/FailedEvent.php
+++ b/app/bundles/CampaignBundle/Event/FailedEvent.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Event;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Mautic\CampaignBundle\EventCollector\Accessor\Event\AbstractEventAccessor;
 class FailedEvent extends \Symfony\Component\EventDispatcher\Event
 {
     /**
      * @var AbstractEventAccessor
      */
     private $config;
     /**

--- a/app/bundles/CampaignBundle/Event/PendingEvent.php
+++ b/app/bundles/CampaignBundle/Event/PendingEvent.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Event;
 use Doctrine\Common\Collections\ArrayCollection;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\CampaignBundle\Entity\FailedLeadEventLog;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Mautic\CampaignBundle\EventCollector\Accessor\Event\AbstractEventAccessor;
 class PendingEvent extends AbstractLogCollectionEvent
 {
     use ContextTrait;
     /**

--- a/app/bundles/CampaignBundle/Event/ScheduledBatchEvent.php
+++ b/app/bundles/CampaignBundle/Event/ScheduledBatchEvent.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Event;
 use Doctrine\Common\Collections\ArrayCollection;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\CampaignBundle\EventCollector\Accessor\Event\AbstractEventAccessor;
 class ScheduledBatchEvent extends AbstractLogCollectionEvent
 {
     /**
      * @var bool
      */
     private $isReschedule;

--- a/app/bundles/CampaignBundle/Event/ScheduledEvent.php
+++ b/app/bundles/CampaignBundle/Event/ScheduledEvent.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Event;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Mautic\CampaignBundle\EventCollector\Accessor\Event\AbstractEventAccessor;
 class ScheduledEvent extends CampaignScheduledEvent
 {
     use ContextTrait;
     /**
      * @var AbstractEventAccessor
      */
     private $eventConfig;

--- a/app/bundles/CampaignBundle/EventCollector/Accessor/Event/AbstractEventAccessor.php
+++ b/app/bundles/CampaignBundle/EventCollector/Accessor/Event/AbstractEventAccessor.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\EventCollector\Accessor\Event;
 abstract class AbstractEventAccessor
 {
     /**
      * @var array
      */
     protected $config = [];
     /**
      * @var array
      */

--- a/app/bundles/CampaignBundle/EventCollector/Accessor/Event/ActionAccessor.php
+++ b/app/bundles/CampaignBundle/EventCollector/Accessor/Event/ActionAccessor.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\EventCollector\Accessor\Event;
 class ActionAccessor extends AbstractEventAccessor
 {
     /**
      * ActionAccessor constructor.
      */
     public function __construct(array $config)
     {
         $this->systemProperties[] = 'batchEventName';
         parent::__construct($config);

--- a/app/bundles/CampaignBundle/EventCollector/Accessor/Event/ConditionAccessor.php
+++ b/app/bundles/CampaignBundle/EventCollector/Accessor/Event/ConditionAccessor.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\EventCollector\Accessor\Event;
 /**
  * Class ConditionAccessor.
  */
 class ConditionAccessor extends AbstractEventAccessor
 {
     /**
      * ConditionAccessor constructor.
      */
     public function __construct(array $config)

--- a/app/bundles/CampaignBundle/EventCollector/Accessor/Event/DecisionAccessor.php
+++ b/app/bundles/CampaignBundle/EventCollector/Accessor/Event/DecisionAccessor.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\EventCollector\Accessor\Event;
 class DecisionAccessor extends AbstractEventAccessor
 {
     /**
      * DecisionAccessor constructor.
      */
     public function __construct(array $config)
     {
         $this->systemProperties[] = 'eventName';
         parent::__construct($config);

--- a/app/bundles/CampaignBundle/EventCollector/Accessor/EventAccessor.php
+++ b/app/bundles/CampaignBundle/EventCollector/Accessor/EventAccessor.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\EventCollector\Accessor;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\CampaignBundle\EventCollector\Accessor\Event\AbstractEventAccessor;
 use Mautic\CampaignBundle\EventCollector\Accessor\Event\ActionAccessor;
 use Mautic\CampaignBundle\EventCollector\Accessor\Event\DecisionAccessor;
 use Mautic\CampaignBundle\EventCollector\Accessor\Exception\EventNotFoundException;
 use Mautic\CampaignBundle\EventCollector\Accessor\Exception\TypeNotFoundException;
 use Mautic\CampaignBundle\EventCollector\Builder\EventBuilder;
 class EventAccessor
 {

--- a/app/bundles/CampaignBundle/EventCollector/Accessor/Exception/EventNotFoundException.php
+++ b/app/bundles/CampaignBundle/EventCollector/Accessor/Exception/EventNotFoundException.php
@@ -1,5 +1,13 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\EventCollector\Accessor\Exception;
 class EventNotFoundException extends \InvalidArgumentException
 {
 }

--- a/app/bundles/CampaignBundle/EventCollector/Accessor/Exception/TypeNotFoundException.php
+++ b/app/bundles/CampaignBundle/EventCollector/Accessor/Exception/TypeNotFoundException.php
@@ -1,5 +1,13 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\EventCollector\Accessor\Exception;
 class TypeNotFoundException extends \InvalidArgumentException
 {
 }

--- a/app/bundles/CampaignBundle/EventCollector/Builder/ConnectionBuilder.php
+++ b/app/bundles/CampaignBundle/EventCollector/Builder/ConnectionBuilder.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\EventCollector\Builder;
 use Mautic\CampaignBundle\Entity\Event;
 class ConnectionBuilder
 {
     /**
      * @var array
      */
     private static $eventTypes = [];
     /**
      * @var array

--- a/app/bundles/CampaignBundle/EventCollector/Builder/EventBuilder.php
+++ b/app/bundles/CampaignBundle/EventCollector/Builder/EventBuilder.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\EventCollector\Builder;
 use Mautic\CampaignBundle\EventCollector\Accessor\Event\ActionAccessor;
 use Mautic\CampaignBundle\EventCollector\Accessor\Event\ConditionAccessor;
 use Mautic\CampaignBundle\EventCollector\Accessor\Event\DecisionAccessor;
 class EventBuilder
 {
     /**
      * @return array
      */
     public static function buildActions(array $actions)

--- a/app/bundles/CampaignBundle/EventCollector/EventCollector.php
+++ b/app/bundles/CampaignBundle/EventCollector/EventCollector.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\EventCollector;
 use Mautic\CampaignBundle\CampaignEvents;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\CampaignBundle\Event\CampaignBuilderEvent;
 use Mautic\CampaignBundle\EventCollector\Accessor\Event\AbstractEventAccessor;
 use Mautic\CampaignBundle\EventCollector\Accessor\EventAccessor;
 use Mautic\CampaignBundle\EventCollector\Builder\ConnectionBuilder;
 use Symfony\Component\EventDispatcher\EventDispatcherInterface;
 use Symfony\Component\Translation\TranslatorInterface;
 class EventCollector

--- a/app/bundles/CampaignBundle/EventListener/CalendarSubscriber.php
+++ b/app/bundles/CampaignBundle/EventListener/CalendarSubscriber.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\EventListener;
 use Doctrine\DBAL\Connection;
 use Mautic\CalendarBundle\CalendarEvents;
 use Mautic\CalendarBundle\Event\CalendarGeneratorEvent;
 use Mautic\CoreBundle\Helper\DateTimeHelper;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 use Symfony\Component\Routing\RouterInterface;
 use Symfony\Component\Translation\TranslatorInterface;
 class CalendarSubscriber implements EventSubscriberInterface
 {

--- a/app/bundles/CampaignBundle/EventListener/CampaignActionChangeMembershipSubscriber.php
+++ b/app/bundles/CampaignBundle/EventListener/CampaignActionChangeMembershipSubscriber.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2018 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\EventListener;
 use Mautic\CampaignBundle\CampaignEvents;
 use Mautic\CampaignBundle\Entity\Campaign;
 use Mautic\CampaignBundle\Event\CampaignBuilderEvent;
 use Mautic\CampaignBundle\Event\PendingEvent;
 use Mautic\CampaignBundle\Form\Type\CampaignEventAddRemoveLeadType;
 use Mautic\CampaignBundle\Membership\MembershipManager;
 use Mautic\CampaignBundle\Model\CampaignModel;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 class CampaignActionChangeMembershipSubscriber implements EventSubscriberInterface

--- a/app/bundles/CampaignBundle/EventListener/CampaignActionJumpToEventSubscriber.php
+++ b/app/bundles/CampaignBundle/EventListener/CampaignActionJumpToEventSubscriber.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2018 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\EventListener;
 use Mautic\CampaignBundle\CampaignEvents;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\CampaignBundle\Entity\EventRepository;
 use Mautic\CampaignBundle\Entity\LeadRepository;
 use Mautic\CampaignBundle\Event\CampaignBuilderEvent;
 use Mautic\CampaignBundle\Event\CampaignEvent;
 use Mautic\CampaignBundle\Event\PendingEvent;
 use Mautic\CampaignBundle\Executioner\EventExecutioner;
 use Mautic\CampaignBundle\Form\Type\CampaignEventJumpToEventType;

--- a/app/bundles/CampaignBundle/EventListener/CampaignSubscriber.php
+++ b/app/bundles/CampaignBundle/EventListener/CampaignSubscriber.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\EventListener;
 use Mautic\CampaignBundle\CampaignEvents;
 use Mautic\CampaignBundle\Entity\Campaign;
 use Mautic\CampaignBundle\Event as Events;
 use Mautic\CampaignBundle\Service\Campaign as CampaignService;
 use Mautic\CoreBundle\Helper\IpLookupHelper;
 use Mautic\CoreBundle\Model\AuditLogModel;
 use Mautic\CoreBundle\Service\FlashBag;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 class CampaignSubscriber implements EventSubscriberInterface

--- a/app/bundles/CampaignBundle/EventListener/DashboardSubscriber.php
+++ b/app/bundles/CampaignBundle/EventListener/DashboardSubscriber.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\EventListener;
 use Mautic\CampaignBundle\Model\CampaignModel;
 use Mautic\CampaignBundle\Model\EventModel;
 use Mautic\DashboardBundle\Event\WidgetDetailEvent;
 use Mautic\DashboardBundle\EventListener\DashboardSubscriber as MainDashboardSubscriber;
 class DashboardSubscriber extends MainDashboardSubscriber
 {
     /**
      * Define the name of the bundle/category of the widget(s).
      *

--- a/app/bundles/CampaignBundle/EventListener/LeadSubscriber.php
+++ b/app/bundles/CampaignBundle/EventListener/LeadSubscriber.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\EventListener;
 use Doctrine\Common\Collections\ArrayCollection;
 use Doctrine\ORM\EntityManager;
 use Mautic\CampaignBundle\Entity\Campaign;
 use Mautic\CampaignBundle\Entity\Lead as CampaignLead;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Mautic\CampaignBundle\Entity\LeadEventLogRepository;
 use Mautic\CampaignBundle\Entity\LeadRepository;
 use Mautic\CampaignBundle\EventCollector\EventCollector;
 use Mautic\CampaignBundle\Membership\MembershipManager;

--- a/app/bundles/CampaignBundle/EventListener/PointSubscriber.php
+++ b/app/bundles/CampaignBundle/EventListener/PointSubscriber.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\EventListener;
 use Mautic\CampaignBundle\Form\Type\CampaignEventAddRemoveLeadType;
 use Mautic\PointBundle\Event\TriggerBuilderEvent;
 use Mautic\PointBundle\PointEvents;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 class PointSubscriber implements EventSubscriberInterface
 {
     /**
      * {@inheritdoc}
      */

--- a/app/bundles/CampaignBundle/EventListener/ReportSubscriber.php
+++ b/app/bundles/CampaignBundle/EventListener/ReportSubscriber.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\EventListener;
 use Mautic\CoreBundle\Helper\Chart\ChartQuery;
 use Mautic\LeadBundle\Model\CompanyReportData;
 use Mautic\ReportBundle\Event\ReportBuilderEvent;
 use Mautic\ReportBundle\Event\ReportGeneratorEvent;
 use Mautic\ReportBundle\Event\ReportGraphEvent;
 use Mautic\ReportBundle\ReportEvents;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 class ReportSubscriber implements EventSubscriberInterface
 {

--- a/app/bundles/CampaignBundle/EventListener/SearchSubscriber.php
+++ b/app/bundles/CampaignBundle/EventListener/SearchSubscriber.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\EventListener;
 use Mautic\CampaignBundle\Model\CampaignModel;
 use Mautic\CoreBundle\CoreEvents;
 use Mautic\CoreBundle\Event as MauticEvents;
 use Mautic\CoreBundle\Helper\TemplatingHelper;
 use Mautic\CoreBundle\Security\Permissions\CorePermissions;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 class SearchSubscriber implements EventSubscriberInterface
 {
     /**

--- a/app/bundles/CampaignBundle/EventListener/StatsSubscriber.php
+++ b/app/bundles/CampaignBundle/EventListener/StatsSubscriber.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\EventListener;
 use Doctrine\ORM\EntityManager;
 use Mautic\CampaignBundle\Entity\Lead;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Mautic\CoreBundle\EventListener\CommonStatsSubscriber;
 use Mautic\CoreBundle\Security\Permissions\CorePermissions;
 class StatsSubscriber extends CommonStatsSubscriber
 {
     public function __construct(CorePermissions $security, EntityManager $entityManager)
     {

--- a/app/bundles/CampaignBundle/Executioner/ContactFinder/InactiveContactFinder.php
+++ b/app/bundles/CampaignBundle/Executioner/ContactFinder/InactiveContactFinder.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\ContactFinder;
 use Doctrine\Common\Collections\ArrayCollection;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\CampaignBundle\Entity\LeadRepository as CampaignLeadRepository;
 use Mautic\CampaignBundle\Executioner\ContactFinder\Limiter\ContactLimiter;
 use Mautic\CampaignBundle\Executioner\Exception\NoContactsFoundException;
 use Mautic\LeadBundle\Entity\LeadRepository;
 use Psr\Log\LoggerInterface;
 class InactiveContactFinder
 {

--- a/app/bundles/CampaignBundle/Executioner/ContactFinder/KickoffContactFinder.php
+++ b/app/bundles/CampaignBundle/Executioner/ContactFinder/KickoffContactFinder.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\ContactFinder;
 use Doctrine\Common\Collections\ArrayCollection;
 use Mautic\CampaignBundle\Entity\CampaignRepository;
 use Mautic\CampaignBundle\Executioner\ContactFinder\Limiter\ContactLimiter;
 use Mautic\CampaignBundle\Executioner\Exception\NoContactsFoundException;
 use Mautic\LeadBundle\Entity\LeadRepository;
 use Psr\Log\LoggerInterface;
 class KickoffContactFinder
 {
     /**

--- a/app/bundles/CampaignBundle/Executioner/ContactFinder/Limiter/ContactLimiter.php
+++ b/app/bundles/CampaignBundle/Executioner/ContactFinder/Limiter/ContactLimiter.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\ContactFinder\Limiter;
 use Mautic\CampaignBundle\Executioner\Exception\NoContactsFoundException;
 /**
  * Class ContactLimiter.
  */
 class ContactLimiter
 {
     /**
      * @var int|null
      */

--- a/app/bundles/CampaignBundle/Executioner/ContactFinder/ScheduledContactFinder.php
+++ b/app/bundles/CampaignBundle/Executioner/ContactFinder/ScheduledContactFinder.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\ContactFinder;
 use Doctrine\Common\Collections\ArrayCollection;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Mautic\CampaignBundle\Executioner\Exception\NoContactsFoundException;
 use Mautic\LeadBundle\Entity\LeadRepository;
 use Psr\Log\LoggerInterface;
 class ScheduledContactFinder
 {
     /**
      * @var LeadRepository

--- a/app/bundles/CampaignBundle/Executioner/Dispatcher/ActionDispatcher.php
+++ b/app/bundles/CampaignBundle/Executioner/Dispatcher/ActionDispatcher.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2018 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Dispatcher;
 use Doctrine\Common\Collections\ArrayCollection;
 use Mautic\CampaignBundle\CampaignEvents;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Mautic\CampaignBundle\Event\ExecutedBatchEvent;
 use Mautic\CampaignBundle\Event\ExecutedEvent;
 use Mautic\CampaignBundle\Event\FailedEvent;
 use Mautic\CampaignBundle\Event\PendingEvent;
 use Mautic\CampaignBundle\EventCollector\Accessor\Event\AbstractEventAccessor;

--- a/app/bundles/CampaignBundle/Executioner/Dispatcher/ConditionDispatcher.php
+++ b/app/bundles/CampaignBundle/Executioner/Dispatcher/ConditionDispatcher.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2018 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Dispatcher;
 use Mautic\CampaignBundle\CampaignEvents;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Mautic\CampaignBundle\Event\ConditionEvent;
 use Mautic\CampaignBundle\EventCollector\Accessor\Event\ConditionAccessor;
 use Symfony\Component\EventDispatcher\EventDispatcherInterface;
 class ConditionDispatcher
 {
     /**
      * @var EventDispatcherInterface

--- a/app/bundles/CampaignBundle/Executioner/Dispatcher/DecisionDispatcher.php
+++ b/app/bundles/CampaignBundle/Executioner/Dispatcher/DecisionDispatcher.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2018 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Dispatcher;
 use Doctrine\Common\Collections\ArrayCollection;
 use Mautic\CampaignBundle\CampaignEvents;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Mautic\CampaignBundle\Event\DecisionEvent;
 use Mautic\CampaignBundle\Event\DecisionResultsEvent;
 use Mautic\CampaignBundle\EventCollector\Accessor\Event\DecisionAccessor;
 use Mautic\CampaignBundle\Executioner\Result\EvaluatedContacts;
 use Symfony\Component\EventDispatcher\EventDispatcherInterface;
 class DecisionDispatcher

--- a/app/bundles/CampaignBundle/Executioner/Dispatcher/Exception/LogNotProcessedException.php
+++ b/app/bundles/CampaignBundle/Executioner/Dispatcher/Exception/LogNotProcessedException.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Dispatcher\Exception;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 class LogNotProcessedException extends \Exception
 {
     /**
      * LogNotProcessedException constructor.
      */
     public function __construct(LeadEventLog $log)
     {
         parent::__construct("LeadEventLog ID # {$log->getId()} must be passed to either pass() or fail()", 0, null);

--- a/app/bundles/CampaignBundle/Executioner/Dispatcher/Exception/LogPassedAndFailedException.php
+++ b/app/bundles/CampaignBundle/Executioner/Dispatcher/Exception/LogPassedAndFailedException.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Dispatcher\Exception;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 class LogPassedAndFailedException extends \Exception
 {
     /**
      * LogNotProcessedException constructor.
      */
     public function __construct(LeadEventLog $log)
     {
         parent::__construct("LeadEventLog ID # {$log->getId()} was passed to both pass() or fail(). Pass or fail the log, not both.", 0, null);

--- a/app/bundles/CampaignBundle/Executioner/Dispatcher/LegacyEventDispatcher.php
+++ b/app/bundles/CampaignBundle/Executioner/Dispatcher/LegacyEventDispatcher.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Dispatcher;
 use Doctrine\Common\Collections\ArrayCollection;
 use Mautic\CampaignBundle\CampaignEvents;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Mautic\CampaignBundle\Event\CampaignDecisionEvent;
 use Mautic\CampaignBundle\Event\CampaignExecutionEvent;
 use Mautic\CampaignBundle\Event\DecisionEvent;
 use Mautic\CampaignBundle\Event\EventArrayTrait;
 use Mautic\CampaignBundle\Event\ExecutedBatchEvent;
 use Mautic\CampaignBundle\Event\ExecutedEvent;

--- a/app/bundles/CampaignBundle/Executioner/Event/ActionExecutioner.php
+++ b/app/bundles/CampaignBundle/Executioner/Event/ActionExecutioner.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2018 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Event;
 use Doctrine\Common\Collections\ArrayCollection;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Mautic\CampaignBundle\EventCollector\Accessor\Event\AbstractEventAccessor;
 use Mautic\CampaignBundle\Executioner\Dispatcher\ActionDispatcher;
 use Mautic\CampaignBundle\Executioner\Exception\CannotProcessEventException;
 use Mautic\CampaignBundle\Executioner\Logger\EventLogger;
 use Mautic\CampaignBundle\Executioner\Result\EvaluatedContacts;
 class ActionExecutioner implements EventInterface

--- a/app/bundles/CampaignBundle/Executioner/Event/ConditionExecutioner.php
+++ b/app/bundles/CampaignBundle/Executioner/Event/ConditionExecutioner.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2018 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Event;
 use Doctrine\Common\Collections\ArrayCollection;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Mautic\CampaignBundle\EventCollector\Accessor\Event\AbstractEventAccessor;
 use Mautic\CampaignBundle\EventCollector\Accessor\Event\ConditionAccessor;
 use Mautic\CampaignBundle\Executioner\Dispatcher\ConditionDispatcher;
 use Mautic\CampaignBundle\Executioner\Exception\CannotProcessEventException;
 use Mautic\CampaignBundle\Executioner\Exception\ConditionFailedException;
 use Mautic\CampaignBundle\Executioner\Result\EvaluatedContacts;

--- a/app/bundles/CampaignBundle/Executioner/Event/DecisionExecutioner.php
+++ b/app/bundles/CampaignBundle/Executioner/Event/DecisionExecutioner.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2018 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Event;
 use Doctrine\Common\Collections\ArrayCollection;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Mautic\CampaignBundle\EventCollector\Accessor\Event\AbstractEventAccessor;
 use Mautic\CampaignBundle\EventCollector\Accessor\Event\DecisionAccessor;
 use Mautic\CampaignBundle\Executioner\Dispatcher\DecisionDispatcher;
 use Mautic\CampaignBundle\Executioner\Exception\CannotProcessEventException;
 use Mautic\CampaignBundle\Executioner\Exception\DecisionNotApplicableException;
 use Mautic\CampaignBundle\Executioner\Logger\EventLogger;

--- a/app/bundles/CampaignBundle/Executioner/Event/EventInterface.php
+++ b/app/bundles/CampaignBundle/Executioner/Event/EventInterface.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Event;
 use Doctrine\Common\Collections\ArrayCollection;
 use Mautic\CampaignBundle\EventCollector\Accessor\Event\AbstractEventAccessor;
 use Mautic\CampaignBundle\Executioner\Result\EvaluatedContacts;
 interface EventInterface
 {
     /**
      * @return EvaluatedContacts
      */
     public function execute(AbstractEventAccessor $config, ArrayCollection $logs);

--- a/app/bundles/CampaignBundle/Executioner/EventExecutioner.php
+++ b/app/bundles/CampaignBundle/Executioner/EventExecutioner.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner;
 use Doctrine\Common\Collections\ArrayCollection;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\CampaignBundle\Entity\FailedLeadEventLog;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Mautic\CampaignBundle\Entity\LeadRepository;
 use Mautic\CampaignBundle\EventCollector\Accessor\Exception\TypeNotFoundException;
 use Mautic\CampaignBundle\EventCollector\EventCollector;
 use Mautic\CampaignBundle\EventListener\CampaignActionJumpToEventSubscriber;
 use Mautic\CampaignBundle\Executioner\Event\ActionExecutioner;
@@ -109,24 +117,21 @@
      */
     public function executeEventsForContact(ArrayCollection $events, Lead $contact, Responses $responses = null, Counter $counter = null)
     {
         if ($responses) {
             $this->responses = $responses;
         }
         $contacts = new ArrayCollection([$contact->getId() => $contact]);
         $this->executeEventsForContacts($events, $contacts, $counter);
     }
     /**
-     * @param ArrayCollection<int,Lead> $contacts
-     * @param bool                      $isInactiveEvent
-     *
-     * @return void
+     * @param bool $isInactiveEvent
      *
      * @throws Dispatcher\Exception\LogNotProcessedException
      * @throws Dispatcher\Exception\LogPassedAndFailedException
      * @throws Exception\CannotProcessEventException
      * @throws Scheduler\Exception\NotSchedulableException
      */
     public function executeForContacts(Event $event, ArrayCollection $contacts, Counter $counter = null, $isInactiveEvent = false)
     {
         if (!$contacts->count()) {
             $this->logger->debug('CAMPAIGN: No contacts to process for event ID '.$event->getId());

--- a/app/bundles/CampaignBundle/Executioner/Exception/CampaignNotExecutableException.php
+++ b/app/bundles/CampaignBundle/Executioner/Exception/CampaignNotExecutableException.php
@@ -1,5 +1,13 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Exception;
 class CampaignNotExecutableException extends \Exception
 {
 }

--- a/app/bundles/CampaignBundle/Executioner/Exception/CannotProcessEventException.php
+++ b/app/bundles/CampaignBundle/Executioner/Exception/CannotProcessEventException.php
@@ -1,5 +1,13 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Exception;
 class CannotProcessEventException extends \Exception
 {
 }

--- a/app/bundles/CampaignBundle/Executioner/Exception/ConditionFailedException.php
+++ b/app/bundles/CampaignBundle/Executioner/Exception/ConditionFailedException.php
@@ -1,5 +1,13 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Exception;
 class ConditionFailedException extends \Exception
 {
 }

--- a/app/bundles/CampaignBundle/Executioner/Exception/DecisionNotApplicableException.php
+++ b/app/bundles/CampaignBundle/Executioner/Exception/DecisionNotApplicableException.php
@@ -1,5 +1,13 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Exception;
 class DecisionNotApplicableException extends \Exception
 {
 }

--- a/app/bundles/CampaignBundle/Executioner/Exception/IntervalNotConfiguredException.php
+++ b/app/bundles/CampaignBundle/Executioner/Exception/IntervalNotConfiguredException.php
@@ -1,6 +1,14 @@
 <?php
 declare(strict_types=1);
+/*
+ * @copyright   2020 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Exception;
 class IntervalNotConfiguredException extends \Exception
 {
 }

--- a/app/bundles/CampaignBundle/Executioner/Exception/NoContactsFoundException.php
+++ b/app/bundles/CampaignBundle/Executioner/Exception/NoContactsFoundException.php
@@ -1,5 +1,13 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Exception;
 class NoContactsFoundException extends \Exception
 {
 }

--- a/app/bundles/CampaignBundle/Executioner/Exception/NoEventsFoundException.php
+++ b/app/bundles/CampaignBundle/Executioner/Exception/NoEventsFoundException.php
@@ -1,5 +1,13 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Exception;
 class NoEventsFoundException extends \Exception
 {
 }

--- a/app/bundles/CampaignBundle/Executioner/ExecutionerInterface.php
+++ b/app/bundles/CampaignBundle/Executioner/ExecutionerInterface.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner;
 use Mautic\CampaignBundle\Entity\Campaign;
 use Mautic\CampaignBundle\Executioner\ContactFinder\Limiter\ContactLimiter;
 use Symfony\Component\Console\Output\OutputInterface;
 interface ExecutionerInterface
 {
     /**
      * @return mixed
      */
     public function execute(Campaign $campaign, ContactLimiter $limiter, OutputInterface $output = null);

--- a/app/bundles/CampaignBundle/Executioner/Helper/InactiveHelper.php
+++ b/app/bundles/CampaignBundle/Executioner/Helper/InactiveHelper.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Helper;
 use Doctrine\Common\Collections\ArrayCollection;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\CampaignBundle\Entity\EventRepository;
 use Mautic\CampaignBundle\Entity\LeadEventLogRepository;
 use Mautic\CampaignBundle\Executioner\ContactFinder\InactiveContactFinder;
 use Mautic\CampaignBundle\Executioner\Scheduler\EventScheduler;
 use Psr\Log\LoggerInterface;
 class InactiveHelper
 {

--- a/app/bundles/CampaignBundle/Executioner/Helper/NotificationHelper.php
+++ b/app/bundles/CampaignBundle/Executioner/Helper/NotificationHelper.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2018 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Helper;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\CoreBundle\Helper\CoreParametersHelper;
 use Mautic\CoreBundle\Model\NotificationModel;
 use Mautic\LeadBundle\Entity\Lead;
 use Mautic\UserBundle\Entity\User;
 use Mautic\UserBundle\Model\UserModel;
 use Symfony\Component\Routing\Generator\UrlGeneratorInterface;
 use Symfony\Component\Routing\Router;
 use Symfony\Component\Translation\TranslatorInterface;

--- a/app/bundles/CampaignBundle/Executioner/InactiveExecutioner.php
+++ b/app/bundles/CampaignBundle/Executioner/InactiveExecutioner.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner;
 use Doctrine\Common\Collections\ArrayCollection;
 use Mautic\CampaignBundle\Entity\Campaign;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\CampaignBundle\Executioner\ContactFinder\InactiveContactFinder;
 use Mautic\CampaignBundle\Executioner\ContactFinder\Limiter\ContactLimiter;
 use Mautic\CampaignBundle\Executioner\Exception\NoContactsFoundException;
 use Mautic\CampaignBundle\Executioner\Exception\NoEventsFoundException;
 use Mautic\CampaignBundle\Executioner\Helper\InactiveHelper;
 use Mautic\CampaignBundle\Executioner\Result\Counter;

--- a/app/bundles/CampaignBundle/Executioner/KickoffExecutioner.php
+++ b/app/bundles/CampaignBundle/Executioner/KickoffExecutioner.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner;
 use Doctrine\Common\Collections\ArrayCollection;
 use Mautic\CampaignBundle\Entity\Campaign;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\CampaignBundle\Executioner\ContactFinder\KickoffContactFinder;
 use Mautic\CampaignBundle\Executioner\ContactFinder\Limiter\ContactLimiter;
 use Mautic\CampaignBundle\Executioner\Exception\NoContactsFoundException;
 use Mautic\CampaignBundle\Executioner\Exception\NoEventsFoundException;
 use Mautic\CampaignBundle\Executioner\Result\Counter;
 use Mautic\CampaignBundle\Executioner\Scheduler\EventScheduler;

--- a/app/bundles/CampaignBundle/Executioner/Logger/EventLogger.php
+++ b/app/bundles/CampaignBundle/Executioner/Logger/EventLogger.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Logger;
 use Doctrine\Common\Collections\ArrayCollection;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Mautic\CampaignBundle\Entity\LeadEventLogRepository;
 use Mautic\CampaignBundle\Entity\LeadRepository;
 use Mautic\CampaignBundle\EventCollector\Accessor\Event\AbstractEventAccessor;
 use Mautic\CampaignBundle\Helper\ChannelExtractor;
 use Mautic\CampaignBundle\Model\SummaryModel;
 use Mautic\CoreBundle\Helper\IpLookupHelper;

--- a/app/bundles/CampaignBundle/Executioner/RealTimeExecutioner.php
+++ b/app/bundles/CampaignBundle/Executioner/RealTimeExecutioner.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner;
 use Doctrine\Common\Collections\ArrayCollection;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\CampaignBundle\Entity\EventRepository;
 use Mautic\CampaignBundle\Entity\LeadRepository;
 use Mautic\CampaignBundle\EventCollector\Accessor\Event\DecisionAccessor;
 use Mautic\CampaignBundle\EventCollector\EventCollector;
 use Mautic\CampaignBundle\Executioner\Event\DecisionExecutioner as Executioner;
 use Mautic\CampaignBundle\Executioner\Exception\CampaignNotExecutableException;
 use Mautic\CampaignBundle\Executioner\Exception\DecisionNotApplicableException;

--- a/app/bundles/CampaignBundle/Executioner/Result/Counter.php
+++ b/app/bundles/CampaignBundle/Executioner/Result/Counter.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Result;
 class Counter
 {
     /**
      * @var int
      */
     private $eventCount = 0;
     /**
      * @var int
      */

--- a/app/bundles/CampaignBundle/Executioner/Result/EvaluatedContacts.php
+++ b/app/bundles/CampaignBundle/Executioner/Result/EvaluatedContacts.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Result;
 use Doctrine\Common\Collections\ArrayCollection;
 use Mautic\LeadBundle\Entity\Lead;
 class EvaluatedContacts
 {
     /**
      * @var ArrayCollection
      */
     private $passed;
     /**

--- a/app/bundles/CampaignBundle/Executioner/Result/Responses.php
+++ b/app/bundles/CampaignBundle/Executioner/Result/Responses.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Result;
 use Doctrine\Common\Collections\ArrayCollection;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 class Responses
 {
     /**
      * @var array
      */
     private $actionResponses = [];

--- a/app/bundles/CampaignBundle/Executioner/ScheduledExecutioner.php
+++ b/app/bundles/CampaignBundle/Executioner/ScheduledExecutioner.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner;
 use Doctrine\Common\Collections\ArrayCollection;
 use Mautic\CampaignBundle\Entity\Campaign;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Mautic\CampaignBundle\Entity\LeadEventLogRepository;
 use Mautic\CampaignBundle\EventListener\CampaignActionJumpToEventSubscriber;
 use Mautic\CampaignBundle\Executioner\ContactFinder\Limiter\ContactLimiter;
 use Mautic\CampaignBundle\Executioner\ContactFinder\ScheduledContactFinder;
 use Mautic\CampaignBundle\Executioner\Exception\NoContactsFoundException;

--- a/app/bundles/CampaignBundle/Executioner/Scheduler/EventScheduler.php
+++ b/app/bundles/CampaignBundle/Executioner/Scheduler/EventScheduler.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Scheduler;
 use Doctrine\Common\Collections\ArrayCollection;
 use Mautic\CampaignBundle\CampaignEvents;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Mautic\CampaignBundle\Event\ScheduledBatchEvent;
 use Mautic\CampaignBundle\Event\ScheduledEvent;
 use Mautic\CampaignBundle\EventCollector\Accessor\Event\AbstractEventAccessor;
 use Mautic\CampaignBundle\EventCollector\EventCollector;
 use Mautic\CampaignBundle\Executioner\Exception\IntervalNotConfiguredException;

--- a/app/bundles/CampaignBundle/Executioner/Scheduler/Exception/ExecutionProhibitedException.php
+++ b/app/bundles/CampaignBundle/Executioner/Scheduler/Exception/ExecutionProhibitedException.php
@@ -1,5 +1,13 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Scheduler\Exception;
 class ExecutionProhibitedException extends \Exception
 {
 }

--- a/app/bundles/CampaignBundle/Executioner/Scheduler/Exception/NotSchedulableException.php
+++ b/app/bundles/CampaignBundle/Executioner/Scheduler/Exception/NotSchedulableException.php
@@ -1,5 +1,13 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Scheduler\Exception;
 class NotSchedulableException extends \Exception
 {
 }

--- a/app/bundles/CampaignBundle/Executioner/Scheduler/Exception/NotTimeYetException.php
+++ b/app/bundles/CampaignBundle/Executioner/Scheduler/Exception/NotTimeYetException.php
@@ -1,5 +1,13 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Scheduler\Exception;
 class NotTimeYetException extends \Exception
 {
 }

--- a/app/bundles/CampaignBundle/Executioner/Scheduler/Mode/DAO/GroupExecutionDateDAO.php
+++ b/app/bundles/CampaignBundle/Executioner/Scheduler/Mode/DAO/GroupExecutionDateDAO.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2018 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Scheduler\Mode\DAO;
 use Doctrine\Common\Collections\ArrayCollection;
 use Mautic\LeadBundle\Entity\Lead;
 class GroupExecutionDateDAO
 {
     /**
      * @var \DateTime
      */
     private $executionDate;
     /**

--- a/app/bundles/CampaignBundle/Executioner/Scheduler/Mode/DateTime.php
+++ b/app/bundles/CampaignBundle/Executioner/Scheduler/Mode/DateTime.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Scheduler\Mode;
 use Mautic\CampaignBundle\Entity\Event;
 use Psr\Log\LoggerInterface;
 class DateTime implements ScheduleModeInterface
 {
     /**
      * @var LoggerInterface
      */
     private $logger;
     /**

--- a/app/bundles/CampaignBundle/Executioner/Scheduler/Mode/Interval.php
+++ b/app/bundles/CampaignBundle/Executioner/Scheduler/Mode/Interval.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Scheduler\Mode;
 use Doctrine\Common\Collections\ArrayCollection;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Mautic\CampaignBundle\Executioner\Scheduler\Exception\NotSchedulableException;
 use Mautic\CampaignBundle\Executioner\Scheduler\Mode\DAO\GroupExecutionDateDAO;
 use Mautic\CoreBundle\Helper\CoreParametersHelper;
 use Mautic\CoreBundle\Helper\DateTimeHelper;
 use Mautic\LeadBundle\Entity\Lead;
 use Psr\Log\LoggerInterface;

--- a/app/bundles/CampaignBundle/Executioner/Scheduler/Mode/ScheduleModeInterface.php
+++ b/app/bundles/CampaignBundle/Executioner/Scheduler/Mode/ScheduleModeInterface.php
@@ -1,10 +1,18 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Executioner\Scheduler\Mode;
 use Mautic\CampaignBundle\Entity\Event;
 interface ScheduleModeInterface
 {
     /**
      * @return \DateTime
      */
     public function getExecutionDateTime(Event $event, \DateTime $now, \DateTime $comparedToDateTime);
 }

--- a/app/bundles/CampaignBundle/Form/Type/CampaignEventAddRemoveLeadType.php
+++ b/app/bundles/CampaignBundle/Form/Type/CampaignEventAddRemoveLeadType.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Form\Type;
 use Symfony\Component\Form\AbstractType;
 use Symfony\Component\Form\FormBuilderInterface;
 use Symfony\Component\OptionsResolver\OptionsResolver;
 /**
  * Class CampaignEventAddRemoveLeadType.
  */
 class CampaignEventAddRemoveLeadType extends AbstractType
 {
     public function buildForm(FormBuilderInterface $builder, array $options)

--- a/app/bundles/CampaignBundle/Form/Type/CampaignEventJumpToEventType.php
+++ b/app/bundles/CampaignBundle/Form/Type/CampaignEventJumpToEventType.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Form\Type;
 use Symfony\Component\Form\AbstractType;
 use Symfony\Component\Form\Extension\Core\Type\ChoiceType;
 use Symfony\Component\Form\FormBuilderInterface;
 use Symfony\Component\Validator\Constraints\NotBlank;
 /**
  * Class CampaignEventJumpToEventType.
  */
 class CampaignEventJumpToEventType extends AbstractType
 {

--- a/app/bundles/CampaignBundle/Form/Type/CampaignEventLeadChangeType.php
+++ b/app/bundles/CampaignBundle/Form/Type/CampaignEventLeadChangeType.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Form\Type;
 use Mautic\CoreBundle\Form\Type\ButtonGroupType;
 use Symfony\Component\Form\AbstractType;
 use Symfony\Component\Form\FormBuilderInterface;
 /**
  * Class CampaignEventLeadChangeType.
  */
 class CampaignEventLeadChangeType extends AbstractType
 {
     public function buildForm(FormBuilderInterface $builder, array $options)

--- a/app/bundles/CampaignBundle/Form/Type/CampaignLeadSourceType.php
+++ b/app/bundles/CampaignBundle/Form/Type/CampaignLeadSourceType.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Form\Type;
 use Mautic\CoreBundle\Form\Type\FormButtonsType;
 use Symfony\Component\Form\AbstractType;
 use Symfony\Component\Form\Extension\Core\Type\ChoiceType;
 use Symfony\Component\Form\Extension\Core\Type\HiddenType;
 use Symfony\Component\Form\FormBuilderInterface;
 use Symfony\Component\OptionsResolver\OptionsResolver;
 use Symfony\Component\Validator\Constraints\NotBlank;
 /**
  * Class CampaignLeadSourceType.

--- a/app/bundles/CampaignBundle/Form/Type/CampaignListType.php
+++ b/app/bundles/CampaignBundle/Form/Type/CampaignListType.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Form\Type;
 use Mautic\CampaignBundle\Model\CampaignModel;
 use Mautic\CoreBundle\Security\Permissions\CorePermissions;
 use Symfony\Component\Form\AbstractType;
 use Symfony\Component\Form\Extension\Core\Type\ChoiceType;
 use Symfony\Component\OptionsResolver\Options;
 use Symfony\Component\OptionsResolver\OptionsResolver;
 use Symfony\Component\Translation\TranslatorInterface;
 /**
  * Class CampaignListType.

--- a/app/bundles/CampaignBundle/Form/Type/CampaignType.php
+++ b/app/bundles/CampaignBundle/Form/Type/CampaignType.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Form\Type;
 use Mautic\CategoryBundle\Form\Type\CategoryListType;
 use Mautic\CoreBundle\Form\EventListener\CleanFormSubscriber;
 use Mautic\CoreBundle\Form\EventListener\FormExitSubscriber;
 use Mautic\CoreBundle\Form\Type\FormButtonsType;
 use Mautic\CoreBundle\Form\Type\YesNoButtonGroupType;
 use Mautic\CoreBundle\Security\Permissions\CorePermissions;
 use Symfony\Component\Form\AbstractType;
 use Symfony\Component\Form\Extension\Core\Type\DateTimeType;
 use Symfony\Component\Form\Extension\Core\Type\HiddenType;

--- a/app/bundles/CampaignBundle/Form/Type/ConfigType.php
+++ b/app/bundles/CampaignBundle/Form/Type/ConfigType.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Form\Type;
 use Mautic\CoreBundle\Form\Type\YesNoButtonGroupType;
 use Symfony\Component\Form\AbstractType;
 use Symfony\Component\Form\Extension\Core\Type\ChoiceType;
 use Symfony\Component\Form\FormBuilderInterface;
 class ConfigType extends AbstractType
 {
     public function buildForm(FormBuilderInterface $builder, array $options): void
     {
         $builder->add(

--- a/app/bundles/CampaignBundle/Form/Type/EventCanvasSettingsType.php
+++ b/app/bundles/CampaignBundle/Form/Type/EventCanvasSettingsType.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Form\Type;
 use Symfony\Component\Form\AbstractType;
 use Symfony\Component\Form\Extension\Core\Type\HiddenType;
 use Symfony\Component\Form\FormBuilderInterface;
 /**
  * Class EventCanvasSettingsType.
  */
 class EventCanvasSettingsType extends AbstractType
 {
     public function buildForm(FormBuilderInterface $builder, array $options)

--- a/app/bundles/CampaignBundle/Form/Type/EventType.php
+++ b/app/bundles/CampaignBundle/Form/Type/EventType.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Form\Type;
 use Mautic\CoreBundle\Form\EventListener\CleanFormSubscriber;
 use Mautic\CoreBundle\Form\Type\ButtonGroupType;
 use Mautic\CoreBundle\Form\Type\FormButtonsType;
 use Mautic\CoreBundle\Form\Type\PropertiesTrait;
 use Symfony\Component\Form\AbstractType;
 use Symfony\Component\Form\Extension\Core\Type\ChoiceType;
 use Symfony\Component\Form\Extension\Core\Type\DateTimeType;
 use Symfony\Component\Form\Extension\Core\Type\HiddenType;
 use Symfony\Component\Form\Extension\Core\Type\NumberType;

--- a/app/bundles/CampaignBundle/Helper/CampaignEventHelper.php
+++ b/app/bundles/CampaignBundle/Helper/CampaignEventHelper.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Helper;
 use Mautic\CampaignBundle\Event\CampaignLeadChangeEvent;
 class CampaignEventHelper
 {
     /**
      * Determine if this campaign applies.
      *
      * @param CampaignLeadChangeEvent $eventDetails
      *
      * @return bool

--- a/app/bundles/CampaignBundle/Helper/ChannelExtractor.php
+++ b/app/bundles/CampaignBundle/Helper/ChannelExtractor.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Helper;
 use Mautic\CampaignBundle\Entity\ChannelInterface;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\CampaignBundle\EventCollector\Accessor\Event\AbstractEventAccessor;
 class ChannelExtractor
 {
     public static function setChannel(ChannelInterface $entity, Event $event, AbstractEventAccessor $eventConfig)
     {
         $isSelf = $entity === $event;
         if (!$isSelf && $entity->getChannel()) {

--- a/app/bundles/CampaignBundle/Helper/RemovedContactTracker.php
+++ b/app/bundles/CampaignBundle/Helper/RemovedContactTracker.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2017 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Helper;
 class RemovedContactTracker
 {
     /**
      * @var array
      */
     private $removedContacts = [];
     /**
      * @param int $campaignId
      * @param int $contactId

--- a/app/bundles/CampaignBundle/MauticCampaignBundle.php
+++ b/app/bundles/CampaignBundle/MauticCampaignBundle.php
@@ -1,9 +1,17 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle;
 use Symfony\Component\HttpKernel\Bundle\Bundle;
 /**
  * Class MauticCampaignBundle.
  */
 class MauticCampaignBundle extends Bundle
 {
 }

--- a/app/bundles/CampaignBundle/Membership/Action/Adder.php
+++ b/app/bundles/CampaignBundle/Membership/Action/Adder.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2018 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Membership\Action;
 use Mautic\CampaignBundle\Entity\Campaign;
 use Mautic\CampaignBundle\Entity\Lead as CampaignMember;
 use Mautic\CampaignBundle\Entity\LeadEventLogRepository;
 use Mautic\CampaignBundle\Entity\LeadRepository;
 use Mautic\CampaignBundle\Membership\Exception\ContactCannotBeAddedToCampaignException;
 use Mautic\LeadBundle\Entity\Lead;
 class Adder
 {
     const NAME = 'added';

--- a/app/bundles/CampaignBundle/Membership/Action/Remover.php
+++ b/app/bundles/CampaignBundle/Membership/Action/Remover.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2018 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Membership\Action;
 use Mautic\CampaignBundle\Entity\Lead as CampaignMember;
 use Mautic\CampaignBundle\Entity\LeadEventLogRepository;
 use Mautic\CampaignBundle\Entity\LeadRepository;
 use Mautic\CampaignBundle\Membership\Exception\ContactAlreadyRemovedFromCampaignException;
 use Mautic\CoreBundle\Templating\Helper\DateHelper;
 use Symfony\Component\Translation\TranslatorInterface;
 class Remover
 {
     const NAME = 'removed';

--- a/app/bundles/CampaignBundle/Membership/EventDispatcher.php
+++ b/app/bundles/CampaignBundle/Membership/EventDispatcher.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2018 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Membership;
 use Mautic\CampaignBundle\CampaignEvents;
 use Mautic\CampaignBundle\Entity\Campaign;
 use Mautic\CampaignBundle\Event\CampaignLeadChangeEvent;
 use Mautic\LeadBundle\Entity\Lead;
 use Symfony\Component\EventDispatcher\EventDispatcherInterface;
 class EventDispatcher
 {
     /**
      * @var EventDispatcherInterface

--- a/app/bundles/CampaignBundle/Membership/Exception/ContactAlreadyRemovedFromCampaignException.php
+++ b/app/bundles/CampaignBundle/Membership/Exception/ContactAlreadyRemovedFromCampaignException.php
@@ -1,5 +1,13 @@
 <?php
+/*
+ * @copyright   2018 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Membership\Exception;
 class ContactAlreadyRemovedFromCampaignException extends \Exception
 {
 }

--- a/app/bundles/CampaignBundle/Membership/Exception/ContactCannotBeAddedToCampaignException.php
+++ b/app/bundles/CampaignBundle/Membership/Exception/ContactCannotBeAddedToCampaignException.php
@@ -1,5 +1,13 @@
 <?php
+/*
+ * @copyright   2018 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Membership\Exception;
 class ContactCannotBeAddedToCampaignException extends \Exception
 {
 }

--- a/app/bundles/CampaignBundle/Membership/Exception/RunLimitReachedException.php
+++ b/app/bundles/CampaignBundle/Membership/Exception/RunLimitReachedException.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2018 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Membership\Exception;
 class RunLimitReachedException extends \Exception
 {
     /**
      * @var int
      */
     private $contactsProcessed;
     /**
      * MaxContactsReachedException constructor.
      *

--- a/app/bundles/CampaignBundle/Membership/MembershipBuilder.php
+++ b/app/bundles/CampaignBundle/Membership/MembershipBuilder.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2018 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Membership;
 use Mautic\CampaignBundle\Entity\Campaign;
 use Mautic\CampaignBundle\Entity\LeadRepository as CampaignMemberRepository;
 use Mautic\CampaignBundle\Executioner\ContactFinder\Limiter\ContactLimiter;
 use Mautic\CampaignBundle\Membership\Exception\RunLimitReachedException;
 use Mautic\CoreBundle\Helper\ProgressBarHelper;
 use Mautic\LeadBundle\Entity\LeadRepository;
 use Symfony\Component\Console\Helper\ProgressBar;
 use Symfony\Component\Console\Output\OutputInterface;
 use Symfony\Component\Translation\TranslatorInterface;

--- a/app/bundles/CampaignBundle/Membership/MembershipManager.php
+++ b/app/bundles/CampaignBundle/Membership/MembershipManager.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2018 Mautic Contributors. All rights reserved
+ * @author      Mautic, Inc.
+ *
+ * @link        https://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Membership;
 use Doctrine\Common\Collections\ArrayCollection;
 use Mautic\CampaignBundle\Entity\Campaign;
 use Mautic\CampaignBundle\Entity\Lead as CampaignMember;
 use Mautic\CampaignBundle\Entity\LeadRepository;
 use Mautic\CampaignBundle\Membership\Action\Adder;
 use Mautic\CampaignBundle\Membership\Action\Remover;
 use Mautic\CampaignBundle\Membership\Exception\ContactAlreadyRemovedFromCampaignException;
 use Mautic\CampaignBundle\Membership\Exception\ContactCannotBeAddedToCampaignException;
 use Mautic\LeadBundle\Entity\Lead;

--- a/app/bundles/CampaignBundle/Model/CampaignModel.php
+++ b/app/bundles/CampaignBundle/Model/CampaignModel.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Model;
 use Doctrine\ORM\PersistentCollection;
 use Mautic\CampaignBundle\CampaignEvents;
 use Mautic\CampaignBundle\Entity\Campaign;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\CampaignBundle\Entity\Lead as CampaignLead;
 use Mautic\CampaignBundle\Event as Events;
 use Mautic\CampaignBundle\EventCollector\EventCollector;
 use Mautic\CampaignBundle\Executioner\ContactFinder\Limiter\ContactLimiter;
 use Mautic\CampaignBundle\Form\Type\CampaignType;

--- a/app/bundles/CampaignBundle/Model/EventLogModel.php
+++ b/app/bundles/CampaignBundle/Model/EventLogModel.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2016 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Model;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Mautic\CampaignBundle\Executioner\Scheduler\EventScheduler;
 use Mautic\CoreBundle\Helper\InputHelper;
 use Mautic\CoreBundle\Helper\IpLookupHelper;
 use Mautic\CoreBundle\Model\AbstractCommonModel;
 use Mautic\LeadBundle\Entity\Lead;
 class EventLogModel extends AbstractCommonModel
 {

--- a/app/bundles/CampaignBundle/Model/EventModel.php
+++ b/app/bundles/CampaignBundle/Model/EventModel.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Model;
 use Mautic\CampaignBundle\Entity\Campaign;
 use Mautic\CampaignBundle\Entity\Event;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Mautic\CampaignBundle\Entity\LeadEventLogRepository;
 use Mautic\CoreBundle\Helper\Chart\ChartQuery;
 use Mautic\CoreBundle\Helper\Chart\LineChart;
 use Mautic\CoreBundle\Model\FormModel;
 class EventModel extends FormModel
 {

--- a/app/bundles/CampaignBundle/Model/SummaryModel.php
+++ b/app/bundles/CampaignBundle/Model/SummaryModel.php
@@ -1,12 +1,20 @@
 <?php
 declare(strict_types=1);
+/*
+ * @copyright   2018 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Model;
 use DateInterval;
 use DateTime;
 use Doctrine\DBAL\DBALException;
 use Mautic\CampaignBundle\Entity\LeadEventLog;
 use Mautic\CampaignBundle\Entity\LeadEventLogRepository;
 use Mautic\CampaignBundle\Entity\Summary;
 use Mautic\CampaignBundle\Entity\SummaryRepository;
 use Mautic\CoreBundle\Helper\ProgressBarHelper;
 use Mautic\CoreBundle\Model\AbstractCommonModel;

--- a/app/bundles/CampaignBundle/Security/Permissions/CampaignPermissions.php
+++ b/app/bundles/CampaignBundle/Security/Permissions/CampaignPermissions.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2014 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Security\Permissions;
 use Mautic\CoreBundle\Security\Permissions\AbstractPermissions;
 use Symfony\Component\Form\FormBuilderInterface;
 /**
  * Class CampaignPermissions.
  */
 class CampaignPermissions extends AbstractPermissions
 {
     /**
      * {@inheritdoc}

--- a/app/bundles/CampaignBundle/Service/Campaign.php
+++ b/app/bundles/CampaignBundle/Service/Campaign.php
@@ -1,11 +1,19 @@
 <?php
+/*
+ * @copyright   2018 Mautic Contributors. All rights reserved
+ * @author      Mautic
+ *
+ * @link        http://mautic.org
+ *
+ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
+ */
 namespace Mautic\CampaignBundle\Service;
 use Mautic\CampaignBundle\Entity\CampaignRepository;
 use Mautic\EmailBundle\Entity\EmailRepository;
 class Campaign
 {
     /**
      * @var CampaignRepository
      */
     private $campaignRepository;
     /**
