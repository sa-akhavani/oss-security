--- a/ajax/adblock/update_blocklist.php
+++ b/ajax/adblock/update_blocklist.php
@@ -1,15 +1,13 @@
 <?php
 require '../../includes/csrf.php';
 require_once '../../includes/config.php';
-require_once '../../src/RaspAP/Auth/HTTPAuth.php';
-require_once '../../includes/authenticate.php';
 if (isset($_POST['blocklist_id'])) {
     $blocklist_id = escapeshellcmd($_POST['blocklist_id']);
     switch ($blocklist_id) {
     case "StevenBlack/hosts \(default\)":
         $list_url = "https://raw.githubusercontent.com/StevenBlack/hosts/master/hosts";
         $dest_file = "hostnames.txt";
         break;
     case "badmojr/1Hosts \(Mini\)":
         $list_url = "https://badmojr.github.io/1Hosts/mini/hosts.txt";
         $dest_file = "hostnames.txt";

--- a/ajax/bandwidth/get_bandwidth.php
+++ b/ajax/bandwidth/get_bandwidth.php
@@ -1,24 +1,22 @@
 <?php
 require '../../includes/csrf.php';
 require_once '../../includes/config.php';
-require_once '../../src/RaspAP/Auth/HTTPAuth.php';
-require_once '../../includes/authenticate.php';
 $interface = filter_input(INPUT_GET, 'inet', FILTER_SANITIZE_SPECIAL_CHARS);
 if (empty($interface)) {
     exec("ip -o link show | awk -F ': ' '{print $2}' | grep -v lo ", $interfacesWlo);
     if (count($interfacesWlo) > 0) {
         $interface = $interfacesWlo[0];
     } else {
         exit('No network interfaces found.');
     }
-}
+} 
 define('IFNAMSIZ', 16);
 if (strlen($interface) > IFNAMSIZ) {
     exit('Interface name too long.');
 } elseif(!preg_match('/^[a-zA-Z0-9]+$/', $interface)) {
     exit('Invalid interface name.');
 }
 require_once './get_bandwidth_hourly.php';
 exec(
     sprintf('vnstat -i %s --json ', escapeshellarg($interface)), $jsonstdoutvnstat,
     $exitcodedaily
@@ -53,18 +51,18 @@
         );
     }
     if ($firstelm) {
         $firstelm = false;
     } else {
         echo ',';
     }
     $datasend = round($jsonData[$i]['tx'] / $dsu_factor, 0);
     $datareceived = round($jsonData[$i]['rx'] / $dsu_factor, 0);
     if ($timeunits === 'm') {
-        echo '{ "date": "' , $dt->format('Y-m') , '", "rx": "' , $datareceived ,
+        echo '{ "date": "' , $dt->format('Y-m') , '", "rx": "' , $datareceived , 
         '", "tx": "' , $datasend , '" }';
     } else {
-        echo '{ "date": "' , $dt->format('Y-m-d') , '", "rx": "' , $datareceived ,
+        echo '{ "date": "' , $dt->format('Y-m-d') , '", "rx": "' , $datareceived , 
         '", "tx": "' , $datasend , '" }';
     }
 }
 echo ' ]';

--- a/ajax/bandwidth/get_bandwidth_hourly.php
+++ b/ajax/bandwidth/get_bandwidth_hourly.php
@@ -1,15 +1,12 @@
-<?php
+<?php 
 require '../../includes/csrf.php';
-require_once '../../includes/config.php';
-require_once '../../src/RaspAP/Auth/HTTPAuth.php';
-require_once '../../includes/authenticate.php';
 if (filter_input(INPUT_GET, 'tu') == 'h') {
     header('X-Content-Type-Options: nosniff');
     header('Content-Type: application/json');
     $data_template = array(
     0     => array('date' => '00:00', 'rx' => 0, 'tx' => 0),
     1     => array('date' => '01:00', 'rx' => 0, 'tx' => 0),
     2     => array('date' => '02:00', 'rx' => 0, 'tx' => 0),
     3     => array('date' => '03:00', 'rx' => 0, 'tx' => 0),
     4     => array('date' => '04:00', 'rx' => 0, 'tx' => 0),
     5     => array('date' => '05:00', 'rx' => 0, 'tx' => 0),

--- a/ajax/logging/clearlog.php
+++ b/ajax/logging/clearlog.php
@@ -1,16 +1,9 @@
 <?php
 require '../../includes/csrf.php';
 require_once '../../includes/config.php';
-require_once '../../src/RaspAP/Auth/HTTPAuth.php';
-require_once '../../includes/authenticate.php';
 require_once '../../includes/functions.php';
 if (isset($_POST['logfile'])) {
-    $logfile = escapeshellarg($_POST['logfile']);
-    $valid = '/(\/var\/log|\/tmp)/';
-    if (preg_match($valid, $logfile)) {
-        exec("sudo truncate -s 0 $logfile", $return);
-    } else {
-        $return = 1;
-    }
+    $logfile = escapeshellcmd($_POST['logfile']);
+    exec("sudo truncate -s 0 $logfile", $return);
     echo json_encode($return);
 }

--- a/ajax/networking/do_sys_reset.php
+++ b/ajax/networking/do_sys_reset.php
@@ -1,14 +1,12 @@
 <?php
 require_once '../../includes/config.php';
-require_once '../../src/RaspAP/Auth/HTTPAuth.php';
-require_once '../../includes/authenticate.php';
 require_once '../../includes/session.php';
 require_once '../../includes/functions.php';
 if (isset($_POST['csrf_token'])) {
     if (csrfValidateRequest() && !CSRFValidate()) {
         handleInvalidCSRFToken();
     }
     $return = 0;
     $path = "../../config";
     $configs = array(
         array("src" => $path .'/hostapd.conf', "tmp" => "/tmp/hostapddata", "dest" => RASPI_HOSTAPD_CONFIG),

--- a/ajax/networking/get_all_interfaces.php
+++ b/ajax/networking/get_all_interfaces.php
@@ -1,7 +1,4 @@
 <?php
 require '../../includes/csrf.php';
-require_once '../../includes/config.php';
-require_once '../../src/RaspAP/Auth/HTTPAuth.php';
-require_once '../../includes/authenticate.php';
 exec("ls /sys/class/net | grep -v lo", $interfaces);
 echo json_encode($interfaces);

--- a/ajax/networking/get_channel.php
+++ b/ajax/networking/get_channel.php
@@ -1,15 +1,13 @@
 <?php
 require '../../includes/csrf.php';
 require_once '../../includes/config.php';
-require_once '../../src/RaspAP/Auth/HTTPAuth.php';
-require_once '../../includes/authenticate.php';
 exec('cat '. RASPI_HOSTAPD_CONFIG, $hostapdconfig);
 $arrConfig = array();
 foreach ($hostapdconfig as $hostapdconfigline) {
     if (strlen($hostapdconfigline) === 0) {
         continue;
     }
     $arrLine = explode("=", $hostapdconfigline);
     $arrConfig[$arrLine[0]]=$arrLine[1];
 };
 $channel = intval($arrConfig['channel']);

--- a/ajax/networking/get_frequencies.php
+++ b/ajax/networking/get_frequencies.php
@@ -1,12 +1,9 @@
 <?php
 require '../../includes/csrf.php';
-require_once '../../includes/config.php';
-require_once '../../src/RaspAP/Auth/HTTPAuth.php';
-require_once '../../src/RaspAP/Parsers/IwParser.php';
-require_once '../../includes/authenticate.php';
+require '../../src/RaspAP/Parsers/IwParser.php';
 if (isset($_POST['interface'])) {
     $iface = escapeshellcmd($_POST['interface']);
     $parser = new \RaspAP\Parsers\IwParser($iface);
     $supportedFrequencies = $parser->parseIwInfo($iface);
     echo json_encode($supportedFrequencies);
 }

--- a/ajax/networking/get_ip_summary.php
+++ b/ajax/networking/get_ip_summary.php
@@ -1,16 +1,13 @@
 <?php
 require '../../includes/csrf.php';
 require_once '../../includes/functions.php';
-require_once '../../includes/config.php';
-require_once '../../src/RaspAP/Auth/HTTPAuth.php';
-require_once '../../includes/authenticate.php';
 if (isset($_POST['interface'])) {
     $int = preg_replace('/[^a-z0-9]/', '', $_POST['interface']);
     exec('ip a s '.$int, $intOutput, $intResult);
     $intOutput = array_map('htmlentities', $intOutput);
     $jsonData = ['return'=>$intResult,'output'=>$intOutput];
     echo json_encode($jsonData);
 } else {
     $jsonData = ['return'=>2,'output'=>['Error getting data']];
     echo json_encode($jsonData);
 }

--- a/ajax/networking/get_netcfg.php
+++ b/ajax/networking/get_netcfg.php
@@ -1,16 +1,14 @@
 <?php
 require '../../includes/csrf.php';
 require_once '../../includes/config.php';
-require_once '../../src/RaspAP/Auth/HTTPAuth.php';
-require_once '../../includes/authenticate.php';
-$interface = $_POST['iface'];
+$interface = $_GET['iface'];
 if (isset($interface)) {
     exec('cat '. escapeshellarg(RASPI_DNSMASQ_PREFIX.$interface.'.conf'), $return);
     $conf = ParseConfig($return);
     $dhcpdata['DHCPEnabled'] = empty($conf) ? false : true;
     if (is_string($conf['dhcp-range'])) {
         $arrRange = explode(",", $conf['dhcp-range']);
     } else {
         $arrRange = explode(",", $conf['dhcp-range'][0]);
     }
     $dhcpdata['RangeStart'] = $arrRange[0];

--- a/ajax/networking/get_nl80211_band.php
+++ b/ajax/networking/get_nl80211_band.php
@@ -1,22 +1,17 @@
 <?php
 require '../../includes/csrf.php';
 require_once '../../includes/config.php';
-require_once '../../src/RaspAP/Auth/HTTPAuth.php';
-require_once '../../includes/authenticate.php';
 require_once '../../includes/locale.php';
 if (isset($_POST['interface'])) {
     define( 'NL80211_BAND_24GHZ', 0x1 );
     define( 'NL80211_BAND_5GHZ', 0x2 );
-    if(!preg_match('/^[a-zA-Z0-9]+$/', $_POST['interface'])) {
-      exit('Invalid interface name.');
-    }
     $iface = escapeshellcmd($_POST['interface']);
     $flags = 0;
     exec("iw dev | awk -v iface=".$iface." '/^phy#/ { phy = $0 } $1 == \"Interface\" { interface = $2 } interface == iface { print phy }'", $return);
     $phy = $return[0];
     exec('iw '.$phy.' info | sed -rn "s/^.*\*\s([0-9]{4})\sMHz.*/\1/p"', $frequencies);
     if (count(preg_grep('/^24[0-9]{2}/i', $frequencies)) >0) {
         $flags += NL80211_BAND_24GHZ;
     }
     if (count(preg_grep('/^5[0-9]{3}/i', $frequencies)) >0) {
         $flags += NL80211_BAND_5GHZ;

--- a/ajax/networking/get_wgcfg.php
+++ b/ajax/networking/get_wgcfg.php
@@ -1,7 +1,5 @@
 <?php
 require '../../includes/csrf.php';
 require_once '../../includes/config.php';
-require_once '../../src/RaspAP/Auth/HTTPAuth.php';
-require_once '../../includes/authenticate.php';
 exec('sudo cat '. RASPI_WIREGUARD_PATH.'client.conf', $return);
 echo implode(PHP_EOL,$return);

--- a/ajax/networking/get_wgkey.php
+++ b/ajax/networking/get_wgkey.php
@@ -1,15 +1,13 @@
 <?php
 require '../../includes/csrf.php';
 require_once '../../includes/config.php';
-require_once '../../src/RaspAP/Auth/HTTPAuth.php';
-require_once '../../includes/authenticate.php';
 $entity = escapeshellcmd($_POST['entity']);
 if (isset($entity)) {
     $pubkey = RASPI_WIREGUARD_PATH.$entity.'-public.key';
     $privkey = RASPI_WIREGUARD_PATH.$entity.'-private.key';
     $pubkey_tmp = '/tmp/'.$entity.'-public.key';
     $privkey_tmp = '/tmp/'.$entity.'-private.key';
     exec("sudo wg genkey | tee $privkey_tmp | wg pubkey > $pubkey_tmp", $return);
     $wgdata['pubkey'] = str_replace("\n",'',file_get_contents($pubkey_tmp));
     exec("sudo mv $privkey_tmp $privkey", $return);
     exec("sudo mv $pubkey_tmp $pubkey", $return);

--- a/ajax/networking/wifi_stations.php
+++ b/ajax/networking/wifi_stations.php
@@ -1,20 +1,18 @@
 <?php
 require '../../includes/csrf.php';
 require_once '../../includes/config.php';
-require_once '../../src/RaspAP/Auth/HTTPAuth.php';
-require_once '../../includes/authenticate.php';
 require_once '../../includes/defaults.php';
 require_once '../../includes/functions.php';
 require_once '../../includes/wifi_functions.php';
 $networks = [];
 $network  = null;
 $ssid     = null;
 knownWifiStations($networks);
 nearbyWifiStations($networks, !isset($_REQUEST["refresh"]));
 connectedWifiStations($networks);
 sortNetworksByRSSI($networks);
-foreach ($networks as $ssid => $network) $networks[$ssid]["ssidutf8"] = ssid2utf8( $ssid );
+foreach ($networks as $ssid => $network) $networks[$ssid]["ssidutf8"] = ssid2utf8( $ssid ); 
 $connected = array_filter($networks, function($n) { return $n['connected']; } );
 $known     = array_filter($networks, function($n) { return !$n['connected'] && $n['configured']; } );
 $nearby    = array_filter($networks, function($n) { return !$n['configured']; } );
 echo renderTemplate('wifi_stations', compact('networks', 'connected', 'known', 'nearby'), true);

--- a/ajax/openvpn/activate_ovpncfg.php
+++ b/ajax/openvpn/activate_ovpncfg.php
@@ -1,15 +1,13 @@
 <?php
 require '../../includes/csrf.php';
 require_once '../../includes/config.php';
-require_once '../../src/RaspAP/Auth/HTTPAuth.php';
-require_once '../../includes/authenticate.php';
 require_once '../../includes/functions.php';
 if (isset($_POST['cfg_id'])) {
     $ovpncfg_id = escapeshellcmd($_POST['cfg_id']);
     $ovpncfg_client = RASPI_OPENVPN_CLIENT_PATH.$ovpncfg_id.'_client.conf';
     $ovpncfg_login = RASPI_OPENVPN_CLIENT_PATH.$ovpncfg_id.'_login.conf';
     system("sudo rm ".RASPI_OPENVPN_CLIENT_CONFIG, $return);
     system("sudo ln -s $ovpncfg_client ".RASPI_OPENVPN_CLIENT_CONFIG, $return);
     system("sudo rm ".RASPI_OPENVPN_CLIENT_LOGIN, $return);
     system("sudo ln -s $ovpncfg_login ".RASPI_OPENVPN_CLIENT_LOGIN, $return);
     exec("sudo /bin/systemctl stop openvpn-client@client", $return);

--- a/ajax/openvpn/del_ovpncfg.php
+++ b/ajax/openvpn/del_ovpncfg.php
@@ -1,13 +1,11 @@
 <?php
 require '../../includes/csrf.php';
 require_once '../../includes/config.php';
-require_once '../../src/RaspAP/Auth/HTTPAuth.php';
-require_once '../../includes/authenticate.php';
 require_once '../../includes/functions.php';
 if (isset($_POST['cfg_id'])) {
     $ovpncfg_id = escapeshellcmd($_POST['cfg_id']);
     $ovpncfg_files = pathinfo(RASPI_OPENVPN_CLIENT_LOGIN, PATHINFO_DIRNAME).'/'.$ovpncfg_id.'_*.conf';
     exec("sudo rm $ovpncfg_files", $return);
     $jsonData = ['return'=>$return];
     echo json_encode($jsonData);
 }

--- a/ajax/system/sys_actions.php
+++ b/ajax/system/sys_actions.php
@@ -1,15 +1,12 @@
 <?php
 require '../../includes/csrf.php';
-require_once '../../includes/config.php';
-require_once '../../src/RaspAP/Auth/HTTPAuth.php';
-require_once '../../includes/authenticate.php';
 $action = escapeshellcmd($_POST['a']);
 if (isset($action)) {
     switch($action) {
     case "reboot":
         $response = shell_exec("sudo /sbin/reboot");
         break;
     case "shutdown":
         $response = shell_exec("sudo /sbin/shutdown -h now");
         break;
     default:

--- a/ajax/system/sys_debug.php
+++ b/ajax/system/sys_debug.php
@@ -1,15 +1,13 @@
 <?php
 require '../../includes/csrf.php';
 require_once '../../includes/config.php';
-require_once '../../src/RaspAP/Auth/HTTPAuth.php';
-require_once '../../includes/authenticate.php';
 if (isset($_POST['csrf_token'])) {
     if (csrfValidateRequest() && !CSRFValidate()) {
         handleInvalidCSRFToken();
     }
     $root = getenv("DOCUMENT_ROOT");
     exec('sudo '.RASPI_CONFIG.'/system/debuglog.sh -i '.$root, $return);
     $logOutput = implode(PHP_EOL, $return);
     $tempDir = sys_get_temp_dir();
     $filePath = $tempDir . DIRECTORY_SEPARATOR . RASPI_DEBUG_LOG;
     $handle = fopen($filePath, "w");

--- a/ajax/system/sys_get_logfile.php
+++ b/ajax/system/sys_get_logfile.php
@@ -1,15 +1,13 @@
-<?php
+<?php 
 require '../../includes/csrf.php';
 require_once '../../includes/config.php';
-require_once '../../src/RaspAP/Auth/HTTPAuth.php';
-require_once '../../includes/authenticate.php';
 $tempDir = sys_get_temp_dir();
 $filePath = $tempDir . DIRECTORY_SEPARATOR . RASPI_DEBUG_LOG;
 if (isset($filePath)) {
     header('Content-Type: application/octet-stream');
     header('Content-Disposition: attachment; filename='.basename($filePath));
     header('Expires: 0');
     header('Cache-Control: must-revalidate');
     header('Pragma: public');
     header('Content-Length: '.filesize($filePath));
     readfile($filePath);

--- a/ajax/system/sys_perform_update.php
+++ b/ajax/system/sys_perform_update.php
@@ -1,15 +1,12 @@
 <?php
 require '../../includes/csrf.php';
-require_once '../../includes/config.php';
-require_once '../../src/RaspAP/Auth/HTTPAuth.php';
-require_once '../../includes/authenticate.php';
 if (isset($_POST['csrf_token'])) {
     if (csrfValidateRequest() && !CSRFValidate()) {
         handleInvalidCSRFToken();
     }
     $path = getenv("DOCUMENT_ROOT");
     $opts = " --update --yes --path $path";
     $installer = "sudo /etc/raspap/system/raspbian.sh";
     $execUpdate = $installer.$opts;
     $response = shell_exec($execUpdate);
     echo json_encode($response);

--- a/ajax/system/sys_read_logfile.php
+++ b/ajax/system/sys_read_logfile.php
@@ -1,14 +1,11 @@
 <?php
-require_once '../../includes/config.php';
-require_once '../../src/RaspAP/Auth/HTTPAuth.php';
-require_once '../../includes/authenticate.php';
 $logFile = '/tmp/raspap_install.log';
 $searchStrings = [
     'Configure update' => 1,
     'Updating sources' => 2,
     'Installing required packages' => 3,
     'Cloning latest files' => 4,
     'Installing application' => 5,
     'Installation completed' => 6,
     'error' => 7
 ];

--- a/api/auth.py
+++ b//dev/null
@@ -1,18 +0,0 @@
-import os
-from fastapi.security.api_key import APIKeyHeader
-from fastapi import Security, HTTPException
-from starlette.status import HTTP_403_FORBIDDEN
-from dotenv import load_dotenv
-load_dotenv()
-apikey=os.getenv('RASPAP_API_KEY')
-if apikey == None:
-    apikey = "insecure"
-print(apikey)
-api_key_header = APIKeyHeader(name="access_token", auto_error=False)
-async def get_api_key(api_key_header: str = Security(api_key_header)):
-    if api_key_header ==apikey:
-        return api_key_header   
-    else:
-        raise HTTPException(
-            status_code=HTTP_403_FORBIDDEN, detail="403: Unauthorized"
-        )

--- a/api/main.py
+++ b//dev/null
@@ -1,136 +0,0 @@
-from fastapi import FastAPI, Depends
-from fastapi.security.api_key import APIKey
-import auth
-import json
-import modules.system as system
-import modules.ap as ap
-import modules.client as client
-import modules.dns as dns
-import modules.dhcp as dhcp
-import modules.ddns as ddns
-import modules.firewall as firewall
-import modules.networking as networking
-import modules.openvpn as openvpn
-import modules.wireguard as wireguard
-tags_metadata = [
-]
-app = FastAPI(
-    title="API for RaspAP",
-    openapi_tags=tags_metadata,
-    version="0.0.1",
-    license_info={
-    "name": "Apache 2.0",
-    "url": "https://www.apache.org/licenses/LICENSE-2.0.html",
-    }
-)
-@app.get("/system", tags=["system"])
-async def get_system(api_key: APIKey = Depends(auth.get_api_key)):
-    return{
-'hostname': system.hostname(),
-'uptime': system.uptime(),
-'systime': system.systime(),
-'usedMemory': system.usedMemory(),
-'processorCount': system.processorCount(),
-'LoadAvg1Min': system.LoadAvg1Min(),
-'systemLoadPercentage': system.systemLoadPercentage(),
-'systemTemperature': system.systemTemperature(),
-'hostapdStatus': system.hostapdStatus(),
-'operatingSystem': system.operatingSystem(),
-'kernelVersion': system.kernelVersion(),
-'rpiRevision': system.rpiRevision()
-}
-@app.get("/ap", tags=["accesspoint/hotspot"])
-async def get_ap(api_key: APIKey = Depends(auth.get_api_key)):
-    return{
-'driver': ap.driver(),
-'ctrl_interface': ap.ctrl_interface(),
-'ctrl_interface_group': ap.ctrl_interface_group(),
-'auth_algs': ap.auth_algs(),
-'wpa_key_mgmt': ap.wpa_key_mgmt(),
-'beacon_int': ap.beacon_int(),
-'ssid': ap.ssid(),
-'channel': ap.channel(),
-'hw_mode': ap.hw_mode(),
-'ieee80211n': ap.ieee80211n(),
-'wpa_passphrase': ap.wpa_passphrase(),
-'interface': ap.interface(),
-'wpa': ap.wpa(),
-'wpa_pairwise': ap.wpa_pairwise(),
-'country_code': ap.country_code(),
-'ignore_broadcast_ssid': ap.ignore_broadcast_ssid()
-}
-@app.get("/clients/{wireless_interface}", tags=["Clients"]) 
-async def get_clients(wireless_interface, api_key: APIKey = Depends(auth.get_api_key)):
-    return{
-'active_clients_amount': client.get_active_clients_amount(wireless_interface),
-'active_clients': json.loads(client.get_active_clients(wireless_interface))
-}
-@app.get("/dhcp", tags=["DHCP"])
-async def get_dhcp(api_key: APIKey = Depends(auth.get_api_key)):
-    return{
-'range_start': dhcp.range_start(),
-'range_end': dhcp.range_end(),
-'range_subnet_mask': dhcp.range_subnet_mask(),
-'range_lease_time': dhcp.range_lease_time(),
-'range_gateway': dhcp.range_gateway(),
-'range_nameservers': dhcp.range_nameservers()
-}
-@app.get("/dns/domains", tags=["DNS"])
-async def get_domains(api_key: APIKey = Depends(auth.get_api_key)):
-    return{
-'domains': json.loads(dns.adblockdomains())
-}
-@app.get("/dns/hostnames", tags=["DNS"])
-async def get_hostnames(api_key: APIKey = Depends(auth.get_api_key)):
-    return{
-'hostnames': json.loads(dns.adblockhostnames())
-}
-@app.get("/dns/upstream", tags=["DNS"]) 
-async def get_upstream(api_key: APIKey = Depends(auth.get_api_key)):
-    return{
-'upstream_nameserver': dns.upstream_nameserver()
-}
-@app.get("/dns/logs", tags=["DNS"]) 
-async def get_dnsmasq_logs(api_key: APIKey = Depends(auth.get_api_key)):
-    return(dns.dnsmasq_logs())
-@app.get("/ddns", tags=["DDNS"]) 
-async def get_ddns(api_key: APIKey = Depends(auth.get_api_key)):
-    return{
-'use': ddns.use(),
-'method': ddns.method(),
-'protocol': ddns.protocol(),
-'server': ddns.server(),
-'login': ddns.login(),
-'password': ddns.password(),
-'domain': ddns.domain()
-}
-@app.get("/firewall", tags=["Firewall"]) 
-async def get_firewall(api_key: APIKey = Depends(auth.get_api_key)):
-    return json.loads(firewall.firewall_rules())
-@app.get("/networking", tags=["Networking"]) 
-async def get_networking(api_key: APIKey = Depends(auth.get_api_key)):
-    return{
-'interfaces': json.loads(networking.interfaces()),
-'throughput': json.loads(networking.throughput())
-}
-@app.get("/openvpn", tags=["OpenVPN"]) 
-async def get_openvpn(api_key: APIKey = Depends(auth.get_api_key)):
-    return{
-'client_configs': openvpn.client_configs(),
-'client_config_names': openvpn.client_config_names(),
-'client_config_active': openvpn.client_config_active(),
-'client_login_names': openvpn.client_login_names(),
-'client_login_active': openvpn.client_login_active()
-}
-@app.get("/openvpn/{config}", tags=["OpenVPN"]) 
-async def client_config_list(config, api_key: APIKey = Depends(auth.get_api_key)):
-    return{
-'client_config': openvpn.client_config_list(config)
-}
-@app.get("/wireguard", tags=["WireGuard"]) 
-async def get_wireguard(api_key: APIKey = Depends(auth.get_api_key)):
-    return{
-'client_configs': wireguard.configs(),
-'client_config_names': wireguard.client_config_names(),
-'client_config_active': wireguard.client_config_active()
-}

--- a/api/modules/ap.py
+++ b//dev/null
@@ -1,45 +0,0 @@
-import subprocess
-import json
-def driver():
-    return subprocess.run("cat /etc/hostapd/hostapd.conf | grep driver= | cut -d'=' -f2", shell=True, capture_output=True, text=True).stdout.strip()
-def ctrl_interface():
-    return subprocess.run("cat /etc/hostapd/hostapd.conf | grep ctrl_interface= | cut -d'=' -f2 | head -1", shell=True, capture_output=True, text=True).stdout.strip()
-def ctrl_interface_group():
-    return subprocess.run("cat /etc/hostapd/hostapd.conf | grep ctrl_interface_group= | cut -d'=' -f2", shell=True, capture_output=True, text=True).stdout.strip()
-def auth_algs():
-    return subprocess.run("cat /etc/hostapd/hostapd.conf | grep auth_algs= | cut -d'=' -f2", shell=True, capture_output=True, text=True).stdout.strip()
-def wpa_key_mgmt():
-    return subprocess.run("cat /etc/hostapd/hostapd.conf | grep wpa_key_mgmt= | cut -d'=' -f2", shell=True, capture_output=True, text=True).stdout.strip()
-def beacon_int():
-    return subprocess.run("cat /etc/hostapd/hostapd.conf | grep beacon_int= | cut -d'=' -f2", shell=True, capture_output=True, text=True).stdout.strip()
-def ssid():
-    return subprocess.run("cat /etc/hostapd/hostapd.conf | grep ssid= | cut -d'=' -f2 | head -1", shell=True, capture_output=True, text=True).stdout.strip()
-def channel():
-    return subprocess.run("cat /etc/hostapd/hostapd.conf | grep channel= | cut -d'=' -f2", shell=True, capture_output=True, text=True).stdout.strip()
-def hw_mode():
-    return subprocess.run("cat /etc/hostapd/hostapd.conf | grep hw_mode= | cut -d'=' -f2", shell=True, capture_output=True, text=True).stdout.strip()
-def ieee80211n():
-    return subprocess.run("cat /etc/hostapd/hostapd.conf | grep ieee80211n= | cut -d'=' -f2", shell=True, capture_output=True, text=True).stdout.strip()
-def wpa_passphrase():
-    return subprocess.run("cat /etc/hostapd/hostapd.conf | grep wpa_passphrase= | cut -d'=' -f2", shell=True, capture_output=True, text=True).stdout.strip()
-def interface():
-    return subprocess.run("cat /etc/hostapd/hostapd.conf | grep interface= | cut -d'=' -f2 | head -1", shell=True, capture_output=True, text=True).stdout.strip()
-def wpa():
-    return subprocess.run("cat /etc/hostapd/hostapd.conf | grep wpa= | cut -d'=' -f2", shell=True, capture_output=True, text=True).stdout.strip()
-def wpa_pairwise():
-    return subprocess.run("cat /etc/hostapd/hostapd.conf | grep wpa_pairwise= | cut -d'=' -f2", shell=True, capture_output=True, text=True).stdout.strip()
-def country_code():
-    return subprocess.run("cat /etc/hostapd/hostapd.conf | grep country_code= | cut -d'=' -f2", shell=True, capture_output=True, text=True).stdout.strip()
-def ignore_broadcast_ssid():
-    return subprocess.run("cat /etc/hostapd/hostapd.conf | grep ignore_broadcast_ssid= | cut -d'=' -f2", shell=True, capture_output=True, text=True).stdout.strip()
-def logging():
-    log_output = subprocess.run(f"cat /tmp/hostapd.log", shell=True, capture_output=True, text=True).stdout.strip()
-    logs = {}
-    for line in log_output.split('\n'):
-        parts = line.split(': ')
-        if len(parts) >= 2:
-            interface, message = parts[0], parts[1]
-            if interface not in logs:
-                logs[interface] = []
-            logs[interface].append(message)
-    return json.dumps(logs, indent=2)

--- a/api/modules/client.py
+++ b//dev/null
@@ -1,30 +0,0 @@
-import subprocess
-import json
-def get_active_clients_amount(interface):
-    arp_output = subprocess.run(['arp', '-i', interface], capture_output=True, text=True)
-    mac_addresses = arp_output.stdout.splitlines()
-    if mac_addresses:
-        grep_pattern = '|'.join(mac_addresses)
-        output = subprocess.run(['grep', '-iwE', grep_pattern, '/var/lib/misc/dnsmasq.leases'], capture_output=True, text=True)
-        return len(output.stdout.splitlines())
-    else:
-        return 0
-def get_active_clients(interface):
-    arp_output = subprocess.run(['arp', '-i', interface], capture_output=True, text=True)
-    arp_mac_addresses = set(line.split()[2] for line in arp_output.stdout.splitlines()[1:])
-    dnsmasq_output = subprocess.run(['cat', '/var/lib/misc/dnsmasq.leases'], capture_output=True, text=True)
-    active_clients = []
-    for line in dnsmasq_output.stdout.splitlines():
-        fields = line.split()
-        mac_address = fields[1]
-        if mac_address in arp_mac_addresses:
-            client_data = {
-                "timestamp": int(fields[0]),
-                "mac_address": fields[1],
-                "ip_address": fields[2],
-                "hostname": fields[3],
-                "client_id": fields[4],
-            }
-            active_clients.append(client_data)
-    json_output = json.dumps(active_clients, indent=2)
-    return json_output

--- a/api/modules/ddns.py
+++ b//dev/null
@@ -1,15 +0,0 @@
-import subprocess
-def use():
-    return subprocess.run("cat /etc/ddclient.conf | grep use= | cut -d'=' -f2", shell=True, capture_output=True, text=True).stdout.strip()
-def method():
-    return subprocess.run("awk '/^use=/ {getline; print}' /etc/ddclient.conf | cut -d'=' -f2", shell=True, capture_output=True, text=True).stdout.strip()
-def protocol():
-    return subprocess.run("cat /etc/ddclient.conf | grep protocol= | cut -d'=' -f2", shell=True, capture_output=True, text=True).stdout.strip()
-def server():
-    return subprocess.run("cat /etc/ddclient.conf | grep server= | cut -d'=' -f2", shell=True, capture_output=True, text=True).stdout.strip()
-def login():
-    return subprocess.run("cat /etc/ddclient.conf | grep login= | cut -d'=' -f2", shell=True, capture_output=True, text=True).stdout.strip()
-def password():
-    return subprocess.run("cat /etc/ddclient.conf | grep password= | cut -d'=' -f2", shell=True, capture_output=True, text=True).stdout.strip()
-def domain():
-    return subprocess.run("awk '/^password=/ {getline; print}' /etc/ddclient.conf", shell=True, capture_output=True, text=True).stdout.strip()

--- a/api/modules/dhcp.py
+++ b//dev/null
@@ -1,21 +0,0 @@
-import subprocess
-import json
-def range_start():
-    return subprocess.run("cat /etc/dnsmasq.d/090_wlan0.conf |grep dhcp-range= |cut -d'=' -f2| cut -d',' -f1", shell=True, capture_output=True, text=True).stdout.strip()
-def range_end():
-    return subprocess.run("cat /etc/dnsmasq.d/090_wlan0.conf |grep dhcp-range= |cut -d'=' -f2| cut -d',' -f2", shell=True, capture_output=True, text=True).stdout.strip()
-def range_subnet_mask():
-    return subprocess.run("cat /etc/dnsmasq.d/090_wlan0.conf |grep dhcp-range= |cut -d'=' -f2| cut -d',' -f3", shell=True, capture_output=True, text=True).stdout.strip()
-def range_lease_time():
-    return subprocess.run("cat /etc/dnsmasq.d/090_wlan0.conf |grep dhcp-range= |cut -d'=' -f2| cut -d',' -f4", shell=True, capture_output=True, text=True).stdout.strip()
-def range_gateway():
-    return subprocess.run("cat /etc/dhcpcd.conf | grep routers | cut -d'=' -f2", shell=True, capture_output=True, text=True).stdout.strip()
-def range_nameservers():
-    output = subprocess.run("cat /etc/dhcpcd.conf", shell=True, capture_output=True, text=True).stdout.strip()
-    nameservers = []
-    lines = output.split('\n')
-    for line in lines:
-        if "static domain_name_server" in line:
-            servers = line.split('=')[1].strip().split()
-            nameservers.extend(servers)
-    return nameservers

--- a/api/modules/dns.py
+++ b//dev/null
@@ -1,34 +0,0 @@
-import subprocess
-import json
-def adblockdomains():
-    output = subprocess.run("cat /etc/raspap/adblock/domains.txt", shell=True, capture_output=True, text=True).stdout.strip()
-    domains =output.split('\n')
-    domainlist=[]
-    for domain in domains:
-        if domain.startswith('#') or domain=="":
-            continue
-        domainlist.append(domain.split('=/')[1])
-    return domainlist
-def adblockhostnames():
-    output = subprocess.run("cat /etc/raspap/adblock/hostnames.txt", shell=True, capture_output=True, text=True).stdout.strip()
-    hostnames = output.split('\n')
-    hostnamelist=[]
-    for hostname in hostnames:
-        if hostname.startswith('#') or hostname=="":
-            continue
-        hostnamelist.append(hostname.replace('0.0.0.0 ',''))
-    return hostnamelist
-def upstream_nameserver():
-    return subprocess.run("awk '/nameserver/ {print $2}' /run/dnsmasq/resolv.conf", shell=True, capture_output=True, text=True).stdout.strip()
-def dnsmasq_logs():
-    output = subprocess.run("cat /var/log/dnsmasq.log", shell=True, capture_output=True, text=True).stdout.strip()
-    log_entries = []
-    for line in output.split("\n"):
-        fields = line.split(" ")
-        log_dict = {
-                'timestamp': ' '.join(fields[:3]),
-                'process': fields[3][:-1],  # Remove the trailing colon
-                'message': ' '.join(fields[4:]),
-            }
-        log_entries.append(log_dict)
-    return log_entries

--- a/api/modules/firewall.py
+++ b//dev/null
@@ -1,3 +0,0 @@
-import subprocess
-def firewall_rules():
-    return subprocess.run("cat /etc/raspap/networking/firewall/iptables_rules.json", shell=True, capture_output=True, text=True).stdout.strip()

--- a/api/modules/networking.py
+++ b//dev/null
@@ -1,45 +0,0 @@
-import psutil
-import json
-def throughput():
-    interface_info = {}
-    interfaces = psutil.net_if_stats()
-    for interface, stats in interfaces.items():
-        if interface.startswith("lo") or interface.startswith("docker"):
-            continue
-        try:
-            traffic_stats = psutil.net_io_counters(pernic=True)[interface]
-            rx_packets = traffic_stats[1]
-            rx_bytes = traffic_stats[0]
-            tx_packets = traffic_stats[3]
-            tx_bytes = traffic_stats[4]
-            interface_info[interface] = {
-                "RX_packets": rx_packets,
-                "RX_bytes": rx_bytes,
-                "TX_packets": tx_packets,
-                "TX_bytes": tx_bytes
-            }
-        except KeyError:
-            pass
-    return json.dumps(interface_info, indent=2)
-def interfaces():
-    interface_info = {}
-    interfaces = psutil.net_if_addrs()
-    for interface, addrs in interfaces.items():
-        if interface.startswith("lo") or interface.startswith("docker"):
-            continue
-        ip_address = None
-        netmask = None
-        mac_address = None
-        for addr in addrs:
-            if addr.family == 2:  # AF_INET corresponds to the integer value 2
-                ip_address = addr.address
-                netmask = addr.netmask
-        for addr in psutil.net_if_addrs().get(interface, []):
-            if addr.family == psutil.AF_LINK:
-                mac_address = addr.address
-        interface_info[interface] = {
-            "IP_address": ip_address,
-            "Netmask": netmask,
-            "MAC_address": mac_address
-        }
-    return json.dumps(interface_info, indent=2)

--- a/api/modules/openvpn.py
+++ b//dev/null
@@ -1,32 +0,0 @@
-import subprocess
-def client_configs():
-    return subprocess.run("find /etc/openvpn/client/ -type f | wc -l", shell=True, capture_output=True, text=True).stdout.strip()
-def client_config_names():
-    config_names_list = []
-    output = subprocess.run('''ls /etc/openvpn/client/ | grep -v "^client.conf$"''', shell=True, capture_output=True, text=True).stdout.strip()
-    lines = output.split("\n")
-    for client in lines:
-        if "_client" in client:
-            config_names_dict ={'config':client}
-            config_names_list.append(config_names_dict)
-    return config_names_list
-def client_login_names():
-    config_names_list = []
-    output = subprocess.run('''ls /etc/openvpn/client/ | grep -v "^client.conf$"''', shell=True, capture_output=True, text=True).stdout.strip()
-    lines = output.split("\n")
-    for client in lines:
-        if "_login" in client:
-            config_names_dict ={'login':client}
-            config_names_list.append(config_names_dict)
-    return config_names_list
-def client_config_active():
-    output = subprocess.run('''ls -al  /etc/openvpn/client/ | grep "client.conf -"''', shell=True, capture_output=True, text=True).stdout.strip()
-    active_config = output.split("/etc/openvpn/client/")
-    return(active_config[1])
-def client_login_active():
-    output = subprocess.run('''ls -al  /etc/openvpn/client/ | grep "login.conf -"''', shell=True, capture_output=True, text=True).stdout.strip()
-    active_config = output.split("/etc/openvpn/client/")
-    return(active_config[1])
-def client_config_list(client_config):
-    output = subprocess.run(["cat", f"/etc/openvpn/client/{client_config}"], capture_output=True, text=True).stdout.strip()
-    return output.split('\n')

--- a/api/modules/system.py
+++ b//dev/null
@@ -1,73 +0,0 @@
-import subprocess
-revisions = {
-    '0002': 'Model B Revision 1.0',
-    '0003': 'Model B Revision 1.0 + ECN0001',
-    '0004': 'Model B Revision 2.0 (256 MB)',
-    '0005': 'Model B Revision 2.0 (256 MB)',
-    '0006': 'Model B Revision 2.0 (256 MB)',
-    '0007': 'Model A',
-    '0008': 'Model A',
-    '0009': 'Model A',
-    '000d': 'Model B Revision 2.0 (512 MB)',
-    '000e': 'Model B Revision 2.0 (512 MB)',
-    '000f': 'Model B Revision 2.0 (512 MB)',
-    '0010': 'Model B+',
-    '0013': 'Model B+',
-    '0011': 'Compute Module',
-    '0012': 'Model A+',
-    'a01041': 'a01041',
-    'a21041': 'a21041',
-    '900092': 'PiZero 1.2',
-    '900093': 'PiZero 1.3',
-    '9000c1': 'PiZero W',
-    'a02082': 'Pi 3 Model B',
-    'a22082': 'Pi 3 Model B',
-    'a32082': 'Pi 3 Model B',
-    'a52082': 'Pi 3 Model B',
-    'a020d3': 'Pi 3 Model B+',
-    'a220a0': 'Compute Module 3',
-    'a020a0': 'Compute Module 3',
-    'a02100': 'Compute Module 3+',
-    'a03111': 'Model 4B Revision 1.1 (1 GB)',
-    'b03111': 'Model 4B Revision 1.1 (2 GB)',
-    'c03111': 'Model 4B Revision 1.1 (4 GB)',
-    'c03111': 'Model 4B Revision 1.1 (4 GB)',
-    'a03140': 'Compute Module 4 (1 GB)',
-    'b03140': 'Compute Module 4 (2 GB)',
-    'c03140': 'Compute Module 4 (4 GB)',
-    'd03140': 'Compute Module 4 (8 GB)',
-    'c04170': 'Pi 5 (4 GB)',
-    'd04170': 'Pi 5 (8 GB)'
-}
-def hostname():
-    return subprocess.run("hostname", shell=True, capture_output=True, text=True).stdout.strip()
-def uptime():
-    return subprocess.run("uptime -p", shell=True, capture_output=True, text=True).stdout.strip()
-def systime():
-    return subprocess.run("date", shell=True, capture_output=True, text=True).stdout.strip()
-def usedMemory():
-    return round(float(subprocess.run("free -m | awk 'NR==2{total=$2 ; used=$3 } END { print used/total*100}'", shell=True, capture_output=True, text=True).stdout.strip()),2)
-def processorCount():
-    return int(subprocess.run("nproc --all", shell=True, capture_output=True, text=True).stdout.strip())
-def LoadAvg1Min():
-    return round(float(subprocess.run("awk '{print $1}' /proc/loadavg", shell=True, capture_output=True, text=True).stdout.strip()),2)
-def systemLoadPercentage():
-    return round((float(LoadAvg1Min())*100)/float(processorCount()),2)
-def systemTemperature():
-    try:
-        output = subprocess.run("cat /sys/class/thermal/thermal_zone0/temp", shell=True, capture_output=True, text=True).stdout.strip()
-        return round(float(output)/1000,2)
-    except ValueError:
-        return 0
-def hostapdStatus():
-    return int(subprocess.run("pidof hostapd | wc -l", shell=True, capture_output=True, text=True).stdout.strip())
-def operatingSystem():
-    return subprocess.run('''grep PRETTY_NAME /etc/os-release | cut -d= -f2- | sed 's/"//g' ''', shell=True, capture_output=True, text=True).stdout.strip()
-def kernelVersion():
-    return subprocess.run("uname -r", shell=True, capture_output=True, text=True).stdout.strip()
-def rpiRevision():
-    output = subprocess.run("grep Revision /proc/cpuinfo | awk '{print $3}'", shell=True, capture_output=True, text=True).stdout.strip()
-    try:
-        return revisions[output]
-    except KeyError:
-        return 'Unknown Device'

--- a/api/modules/wireguard.py
+++ b//dev/null
@@ -1,16 +0,0 @@
-import subprocess
-import re
-def configs():
-    return subprocess.run("find /etc/wireguard/ -type f | wc -l", shell=True, capture_output=True, text=True).stdout.strip()
-def client_config_names():
-    config_names_list = []
-    output = subprocess.run('''ls /etc/wireguard/ | grep -v "^wg0.conf$"''', shell=True, capture_output=True, text=True).stdout.strip()
-    lines = output.split("\n")
-    for client in lines:
-        config_names_dict ={'config':client}
-        config_names_list.append(config_names_dict)
-    return config_names_list
-def client_config_active():
-    output = subprocess.run('''ls -al  /etc/wireguard/ | grep "wg0.conf -"''', shell=True, capture_output=True, text=True).stdout.strip()
-    active_config = output.split("/etc/wireguard/")
-    return(active_config[1])

--- a/app/js/custom.js
+++ b/app/js/custom.js
@@ -95,23 +95,20 @@
 $(document).on("change", ".js-field-preset", function(e) {
     var selector = this.getAttribute("data-field-preset-target")
     var value = "" + this.value
     var syncValue = function(el) { el.value = value }
     if (value.trim() === "") { return }
     document.querySelectorAll(selector).forEach(syncValue)
 });
 $(document).on("click", "#gen_wpa_passphrase", function(e) {
     $('#txtwpapassphrase').val(genPassword(63));
 });
-$(document).on("click", "#gen_apikey", function(e) {
-    $('#txtapikey').val(genPassword(32).toLowerCase());
-});
 $(document).on("click", "#js-clearhostapd-log", function(e) {
     var csrfToken = $('meta[name=csrf_token]').attr('content');
     $.post('ajax/logging/clearlog.php?',{'logfile':'/tmp/hostapd.log', 'csrf_token': csrfToken},function(data){
         jsonData = JSON.parse(data);
         $("#hostapd-log").val("");
     });
 });
 $(document).on("click", "#js-cleardnsmasq-log", function(e) {
     var csrfToken = $('meta[name=csrf_token]').attr('content');
     $.post('ajax/logging/clearlog.php?',{'logfile':'/var/log/dnsmasq.log', 'csrf_token': csrfToken},function(data){
@@ -177,22 +174,21 @@
             .load('ajax/networking/wifi_stations.php'+qs, complete);
     };
 }
 $(".js-reload-wifi-stations").on("click", loadWifiStations(true));
 /*
 Populates the DHCP server form fields
 Option toggles are set dynamically depending on the loaded configuration
 */
 function loadInterfaceDHCPSelect() {
     var strInterface = $('#cbxdhcpiface').val();
-    var csrfToken = $('meta[name=csrf_token]').attr('content');
-    $.post('ajax/networking/get_netcfg.php', {'iface' : strInterface, 'csrf_token': csrfToken}, function(data){
+    $.get('ajax/networking/get_netcfg.php?iface='+strInterface,function(data){
         jsonData = JSON.parse(data);
         $('#dhcp-iface')[0].checked = jsonData.DHCPEnabled;
         $('#txtipaddress').val(jsonData.StaticIP);
         $('#txtsubnetmask').val(jsonData.SubnetMask);
         $('#txtgateway').val(jsonData.StaticRouters);
         $('#chkfallback')[0].checked = jsonData.FallbackEnabled;
         $('#default-route').prop('checked', jsonData.DefaultRoute);
         if (strInterface.startsWith("wl")) {
             $('#nohook-wpa-supplicant').parent().parent().parent().show()
             $('#nohook-wpa-supplicant').prop('checked', jsonData.NoHookWPASupplicant);

--- a/config/config.php
+++ b/config/config.php
@@ -1,16 +1,15 @@
 <?php
 define('RASPI_BRAND_TEXT', 'RaspAP');
 define('RASPI_CONFIG', '/etc/raspap');
 define('RASPI_CONFIG_NETWORK', RASPI_CONFIG.'/networking/defaults.json');
 define('RASPI_CONFIG_PROVIDERS', 'config/vpn-providers.json');
-define('RASPI_CONFIG_API', RASPI_CONFIG.'/api');
 define('RASPI_ADMIN_DETAILS', RASPI_CONFIG.'/raspap.auth');
 define('RASPI_WIFI_AP_INTERFACE', 'wlan0');
 define('RASPI_CACHE_PATH', sys_get_temp_dir() . '/raspap');
 define('RASPI_ERROR_LOG', sys_get_temp_dir() . '/raspap_error.log');
 define('RASPI_DEBUG_LOG', 'raspap_debug.log');
 define('RASPI_LOG_SIZE_LIMIT', 64);
 define('RASPI_DNSMASQ_LEASES', '/var/lib/misc/dnsmasq.leases');
 define('RASPI_DNSMASQ_PREFIX', '/etc/dnsmasq.d/090_');
 define('RASPI_ADBLOCK_LISTPATH', '/etc/raspap/adblock/');
 define('RASPI_ADBLOCK_CONFIG', RASPI_DNSMASQ_PREFIX.'adblock.conf');
@@ -41,13 +40,12 @@
 define('RASPI_ADBLOCK_ENABLED', false);
 define('RASPI_OPENVPN_ENABLED', false);
 define('RASPI_VPN_PROVIDER_ENABLED', false);
 define('RASPI_WIREGUARD_ENABLED', false);
 define('RASPI_TORPROXY_ENABLED', false);
 define('RASPI_CONFAUTH_ENABLED', true);
 define('RASPI_CHANGETHEME_ENABLED', true);
 define('RASPI_VNSTAT_ENABLED', true);
 define('RASPI_SYSTEM_ENABLED', true);
 define('RASPI_MONITOR_ENABLED', false);
-define('RASPI_RESTAPI_ENABLED', false);
 define('LOCALE_ROOT', 'locale');
 define('LOCALE_DOMAIN', 'messages');

--- a/includes/defaults.php
+++ b/includes/defaults.php
@@ -1,20 +1,19 @@
 <?php
 if (!defined('RASPI_CONFIG')) {
     define('RASPI_CONFIG', '/etc/raspap');
 }
 $defaults = [
   'RASPI_BRAND_TEXT' => 'RaspAP',
-  'RASPI_VERSION' => '3.1.0',
+  'RASPI_VERSION' => '3.0.9',
   'RASPI_CONFIG_NETWORK' => RASPI_CONFIG.'/networking/defaults.json',
   'RASPI_CONFIG_PROVIDERS' => 'config/vpn-providers.json',
-  'RASPI_CONFIG_API' => RASPI_CONFIG.'/api',
   'RASPI_ADMIN_DETAILS' => RASPI_CONFIG.'/raspap.auth',
   'RASPI_WIFI_AP_INTERFACE' => 'wlan0',
   'RASPI_CACHE_PATH' => sys_get_temp_dir() . '/raspap',
   'RASPI_ERROR_LOG' => sys_get_temp_dir() . '/raspap_error.log',
   'RASPI_DEBUG_LOG' => 'raspap_debug.log',
   'RASPI_LOG_SIZE_LIMIT' =>  64,
   'RASPI_DNSMASQ_LEASES' => '/var/lib/misc/dnsmasq.leases',
   'RASPI_DNSMASQ_PREFIX' => '/etc/dnsmasq.d/090_',
   'RASPI_ADBLOCK_LISTPATH' => '/etc/raspap/adblock/',
   'RASPI_ADBLOCK_CONFIG' =>  RASPI_DNSMASQ_PREFIX.'adblock.conf',

--- a/includes/page_actions.php
+++ b/includes/page_actions.php
@@ -37,20 +37,17 @@
             break;
         case "/save_hostapd_conf":
             SaveTORAndVPNConfig();
             break;
         case "/data_use":
             DisplayDataUsage($extraFooterScripts);
             break;
         case "/system_info":
             DisplaySystem($extraFooterScripts);
             break;
-        case "/restapi_conf":
-            DisplayRestAPI();
-            break;
         case "/about":
             DisplayAbout();
             break;
         default:
             DisplayDashboard($extraFooterScripts);
         }
       ?>

--- a/includes/provider.php
+++ b/includes/provider.php
@@ -29,21 +29,21 @@
         $serviceStatus = getProviderStatus($id, $binPath);
         $statusDisplay = $serviceStatus == "down" ? "inactive" : "active";
         $providerLog = getProviderLog($id, $binPath, $country);
         $accountInfo = getAccountInfo($id, $binPath, $providerName);
         $accountLink = getProviderValue($id, "account_page");
         $countries = getCountries($id, $binPath);
     }
     if (!RASPI_MONITOR_ENABLED) {
         if (isset($_POST['SaveProviderSettings'])) {
             if (isset($_POST['country'])) {
-                $country = escapeshellarg(trim($_POST['country']));
+                $country = trim($_POST['country']);
                 if (strlen($country) == 0) {
                     $status->addMessage('Select a country from the server location list', 'danger');
                 } else {
                     $return = saveProviderConfig($status, $binPath, $country, $id);
                 }
             }
         } elseif (isset($_POST['StartProviderVPN'])) {
             $status->addMessage('Attempting to connect VPN provider', 'info');
             $cmd = getCliOverride($id, 'cmd_overrides', 'connect');
             exec("sudo $binPath $cmd", $return);

--- a/includes/restapi.php
+++ b//dev/null
@@ -1,79 +0,0 @@
-<?php
-require_once 'includes/functions.php';
-require_once 'config.php';
-/**
- * Handler for RestAPI settings
- */
-function DisplayRestAPI()
-{
-    $status = new \RaspAP\Messages\StatusMessage;
-    $dotenv = new \RaspAP\DotEnv\DotEnv;
-    $dotenv->load();
-    $apiKey = $_ENV['RASPAP_API_KEY'];
-    if (!RASPI_MONITOR_ENABLED) {
-        if (isset($_POST['SaveAPIsettings'])) {
-            if (isset($_POST['txtapikey'])) {
-                $apiKey = trim($_POST['txtapikey']);
-                if (strlen($apiKey) == 0) {
-                    $status->addMessage('Please enter a valid API key', 'danger');
-                } else {
-                    $return = saveAPISettings($status, $apiKey, $dotenv);
-                    $status->addMessage('Restarting restapi.service', 'info');
-                    exec('sudo /bin/systemctl stop restapi.service', $return);
-                    sleep(1);
-                    exec('sudo /bin/systemctl start restapi.service', $return);
-                }
-            }
-        } elseif (isset($_POST['StartRestAPIservice'])) {
-            $status->addMessage('Attempting to start restapi.service', 'info');
-            exec('sudo /bin/systemctl start restapi.service', $return);
-            foreach ($return as $line) {
-                $status->addMessage($line, 'info');
-            }
-        } elseif (isset($_POST['StopRestAPIservice'])) {
-            $status->addMessage('Attempting to stop restapi.service', 'info');
-            exec('sudo /bin/systemctl stop restapi.service', $return);
-            foreach ($return as $line) {
-                $status->addMessage($line, 'info');
-            }
-        }
-    }
-    exec("ps aux | grep -v grep | grep uvicorn", $output, $return);
-    $serviceStatus = !empty($output) ? "up" : "down";
-    exec("sudo systemctl status restapi.service", $output, $return);
-    array_shift($output);
-    $serviceLog = implode("\n", $output);
-    if ($serviceStatus == "up") {
-        $docUrl = getDocUrl();
-        $faicon = "<i class=\"text-gray-500 fas fa-external-link-alt ml-1\"></i>"; 
-        $docMsg = sprintf(_("RestAPI docs are accessible <a href=\"%s\" target=\"_blank\">here%s</a>"),$docUrl, $faicon);
-    }
-    echo renderTemplate("restapi", compact(
-        "status",
-        "apiKey",
-        "serviceStatus",
-        "serviceLog",
-        "docMsg"
-    ));
-}
-/**
- * Saves RestAPI settings
- *
- * @param object status
- * @param object dotenv
- * @param string $apiKey
- */
-function saveAPISettings($status, $apiKey, $dotenv)
-{
-    $status->addMessage('Saving API key', 'info');
-    $dotenv->set('RASPAP_API_KEY', $apiKey);
-    return $status;
-}
-function getDocUrl()
-{
-    $protocol = isset($_SERVER['HTTPS']) && $_SERVER['HTTPS'] === 'on' ? 'https://' : 'http://';
-    $server_name = $_SERVER['SERVER_NAME'];
-    $port = 8081;
-    $url = $protocol . $server_name .':'. $port . '/docs';
-    return $url;
-}

--- a/includes/sidebar.php
+++ b/includes/sidebar.php
@@ -73,30 +73,25 @@
         <?php if (RASPI_CONFAUTH_ENABLED) : ?>
         <li class="nav-item">
           <a class="nav-link" href="auth_conf"><i class="fas fa-user-lock fa-fw mr-2"></i><span class="nav-label"><?php echo _("Authentication"); ?></a>
         </li>
         <?php endif; ?>
         <?php if (RASPI_VNSTAT_ENABLED) : ?>
         <li class="nav-item">
           <a class="nav-link" href="data_use"><i class="fas fa-chart-bar fa-fw mr-2"></i><span class="nav-label"><?php echo _("Data usage"); ?></a>
         </li>
         <?php endif; ?>
-        <?php if (RASPI_RESTAPI_ENABLED) : ?>
-        <li class="nav-item">
-          <a class="nav-link" href="restapi_conf"><i class="fas fa-puzzle-piece mr-2"></i><span class="nav-label"><?php echo _("RestAPI"); ?></a>
-        </li>
-        <?php endif; ?>
         <?php if (RASPI_SYSTEM_ENABLED) : ?>
         <li class="nav-item">
           <a class="nav-link" href="system_info"><i class="fas fa-cube fa-fw mr-2"></i><span class="nav-label"><?php echo _("System"); ?></a>
         </li>
         <?php endif; ?>
-        <li class="nav-item">
+         <li class="nav-item">
           <a class="nav-link" href="about"><i class="fas fa-info-circle fa-fw mr-2"></i><span class="nav-label"><?php echo _("About RaspAP"); ?></a>
         </li>
         <!-- Divider -->
         <hr class="sidebar-divider d-none d-md-block">
         <!-- Sidebar Toggler (Sidebar) -->
         <div class="text-center d-none d-md-block">
           <button class="rounded-circle border-0" id="sidebarToggle"></button>
         </div>
     </ul>

--- a/index.php
+++ b/index.php
@@ -6,21 +6,21 @@
  * Enables use of simple web interface rather than SSH to control WiFi and related services on the Raspberry Pi.
  * Recommended distribution is Raspberry Pi OS (64-bit) Lite. Specific instructions to install the supported software are
  * in the README and original post by @SirLagz. For a quick run through, the packages required for the WebGUI are:
  * lighttpd (version 1.4.69 installed via apt)
  * php-cgi (version 8.2.7 installed via apt)
  * along with their supporting packages, php7.4 will also need to be enabled.
  *
  * @author  Lawrence Yau <sirlagz@gmail.com>
  * @author  Bill Zimmerman <billzimmerman@gmail.com>
  * @license GNU General Public License, version 3 (GPL-3.0)
- * @version 3.1.0
+ * @version 3.0.9
  * @link    https://github.com/RaspAP/raspap-webgui/
  * @link    https://raspap.com/
  * @see     http://sirlagz.net/2013/02/08/raspap-webgui/
  *
  * You are not obligated to bundle the LICENSE file with your RaspAP projects as long
  * as you leave these references intact in the header comments of your source files.
  */
 require 'includes/csrf.php';
 ensureCSRFSessionToken();
 require_once 'includes/exceptions.php';
@@ -37,21 +37,20 @@
 require_once 'includes/adblock.php';
 require_once 'includes/system.php';
 require_once 'includes/sysstats.php';
 require_once 'includes/configure_client.php';
 require_once 'includes/networking.php';
 require_once 'includes/data_usage.php';
 require_once 'includes/about.php';
 require_once 'includes/openvpn.php';
 require_once 'includes/wireguard.php';
 require_once 'includes/provider.php';
-require_once 'includes/restapi.php';
 require_once 'includes/torproxy.php';
 initializeApp();
 ?>
 <!DOCTYPE html>
 <html lang="en">
   <head>
     <meta charset="utf-8">
     <?php echo CSRFMetaTag() ?>
     <meta http-equiv="X-UA-Compatible" content="IE=edge">
     <meta name="viewport" content="width=device-width, initial-scale=1">

--- a/installers/common.sh
+++ b/installers/common.sh
@@ -30,21 +30,20 @@
     _optimize_php
     _download_latest_files
     _change_file_ownership
     _create_hostapd_scripts
     _create_lighttpd_scripts
     _install_lighttpd_configs
     _default_configuration
     _configure_networking
     _prompt_install_adblock
     _prompt_install_openvpn
-    _prompt_install_restapi
     _install_extra_features
     _prompt_install_wireguard
     _prompt_install_vpn_providers
     _patch_system_files
     _install_complete
 }
 function _update_raspap() {
     _display_welcome
     _config_installation
     _update_system_packages
@@ -389,36 +388,20 @@
             _install_status 0 "(Skipped)"
         else
             _install_openvpn
         fi
     elif [ "$ovpn_option" == 1 ]; then
         _install_openvpn
     else
         echo "(Skipped)"
     fi
 }
-function _prompt_install_restapi() {
-    _install_log "Configure RestAPI"
-    echo -n "Install and enable RestAPI? [Y/n]: "
-    if [ "$assume_yes" == 0 ]; then
-        read answer < /dev/tty
-        if [ "$answer" != "${answer#[Nn]}" ]; then
-            _install_status 0 "(Skipped)"
-        else
-            _install_restapi
-        fi
-    elif [ "$restapi_option" == 1 ]; then
-        _install_restapi
-    else
-        echo "(Skipped)"
-    fi
-}
 function _prompt_install_wireguard() {
     _install_log "Configure WireGuard support"
     echo -n "Install WireGuard and enable VPN tunnel configuration? [Y/n]: "
     if [ "$assume_yes" == 0 ]; then
         read answer < /dev/tty
         if [ "$answer" != "${answer#[Nn]}" ]; then
             _install_status 0 "(Skipped)"
         else
             _install_wireguard
         fi
@@ -451,41 +434,20 @@
     sudo systemctl enable openvpn-client@client || _install_status 1 "Unable to enable openvpn-client daemon"
     _create_openvpn_scripts || _install_status 1 "Unable to create openvpn control scripts"
 }
 function _create_openvpn_scripts() {
     _install_log "Creating OpenVPN control scripts"
     sudo mkdir $raspap_dir/openvpn || _install_status 1 "Unable to create directory '$raspap_dir/openvpn'"
     sudo cp "$webroot_dir/installers/"configauth.sh "$raspap_dir/openvpn" || _install_status 1 "Unable to move auth control script"
     sudo cp "$webroot_dir/installers/"openvpnlog.sh "$raspap_dir/openvpn" || _install_status 1 "Unable to move logging script"
     sudo chown -c root:root "$raspap_dir/openvpn/"*.sh || _install_status 1 "Unable change owner and/or group"
     sudo chmod 750 "$raspap_dir/openvpn/"*.sh || _install_status 1 "Unable to change file permissions"
-    _install_status 0
-}
-function _install_restapi() {
-    _install_log "Installing and enabling RestAPI"
-    sudo mv "$webroot_dir/api" "$raspap_dir/api"  || _install_status 1 "Unable to move api folder"
-    if ! command -v python3 &> /dev/null; then
-        echo "Python is not installed. Installing Python..."
-        sudo apt update
-        sudo apt install -y python3 python3-pip
-        echo "Python installed successfully."
-    else
-        echo "Python is already installed."
-        sudo apt install python3-pip -y
-    fi
-    python3 -m pip install -r "$raspap_dir/api/requirements.txt" --break-system-packages || _install_status 1 " Unable to install pip modules"
-    echo "Moving restapi systemd unit control file to /lib/systemd/system/"
-    sudo mv $webroot_dir/installers/restapi.service /lib/systemd/system/ || _install_status 1 "Unable to move restapi.service file"
-    sudo systemctl daemon-reload
-    sudo systemctl enable restapi.service || _install_status 1 "Failed to enable restapi.service"
-    echo "Enabling RestAPI management option"
-    sudo sed -i "s/\('RASPI_RESTAPI_ENABLED', \)false/\1true/g" "$webroot_dir/includes/config.php" || _install_status 1 "Unable to modify config.php"
     _install_status 0
 }
 function _download_latest_files() {
     _install_log "Cloning latest files from GitHub"
     source_dir="/tmp/raspap-webgui"
     if [ -d "$source_dir" ]; then
         echo "Temporary download destination $source_dir exists. Removing..."
         rm -r "$source_dir"
     fi
     if [ "$repo" == "RaspAP/raspap-insiders" ]; then

--- a/installers/raspbian.sh
+++ b/installers/raspbian.sh
@@ -1,19 +1,18 @@
 function _usage() {
     cat << EOF
 Usage: raspbian.sh [options]
 Installs an instance of RaspAP or a helper component.
 OPTIONS:
 -y, --yes, --assume-yes             Assumes "yes" as an answer to all prompts
 -c, --cert, --certificate           Installs an SSL certificate for lighttpd
 -o, --openvpn <flag>                Used with -y, --yes, sets OpenVPN install option (0=no install)
--s, --rest, --restapi <flag>        Used with -y, --yes, sets RestAPI install option (0=no install)
 -a, --adblock <flag>                Used with -y, --yes, sets Adblock install option (0=no install)
 -w, --wireguard <flag>              Used with -y, --yes, sets WireGuard install option (0=no install)
 -e, --provider <value>              Used with -y, --yes, sets the VPN provider install option
 -r, --repo, --repository <name>     Overrides the default GitHub repo (RaspAP/raspap-webgui)
 -b, --branch <name>                 Overrides the default git branch (latest release)
 -t, --token <accesstoken>           Specify a GitHub token to access a private repository
 -n, --name <username>               Specify a GitHub username to access a private repository
 -u, --upgrade                       Upgrades an existing installation to the latest release version
 -d, --update                        Updates an existing installation to the latest release version
 -p, --path <path>                   Used with -d, --update, sets the existing install path
@@ -43,39 +42,34 @@
     _parse_params "$@"
     _setup_colors
     _log_output
     _load_installer
 }
 function _parse_params() {
     assume_yes=0
     upgrade=0
     update=0
     ovpn_option=1
-    restapi_option=1
     adblock_option=1
     wg_option=1
     insiders=0
     minwrite=0
     acctoken=""
     path=""
     while :; do
         case "${1-}" in
             -y|--yes|--assume-yes)
             assume_yes=1
             apt_option="-y"
             ;;
             -o|--openvpn)
             ovpn_option="$2"
-            shift
-            ;;
-            -s|--rest|--restapi)
-            restapi_option="$2"
             shift
             ;;
             -a|--adblock)
             adblock_option="$2"
             shift
             ;;
             -w|--wireguard)
             wg_option="$2"
             shift
             ;;

--- a/src/RaspAP/DotEnv/DotEnv.php
+++ b//dev/null
@@ -1,75 +0,0 @@
-<?php
-/**
- * DotEnv parser/writer class
- *
- * @description Reads and sets key/value pairs to .env
- * @author      Bill Zimmerman <billzimmerman@gmail.com>
- * @license     https://github.com/raspap/raspap-webgui/blob/master/LICENSE
- */
-declare(strict_types=1);
-namespace RaspAP\DotEnv;
-class DotEnv
-{
-    protected $envFile;
-    protected $data = [];
-    public function __construct($envFile = RASPI_CONFIG_API. '/.env')
-    {
-        $this->envFile = $envFile;
-    }
-    public function load()
-    {
-        if (!file_exists($this->envFile)) {
-            $this->createEnv();
-        }
-        if (file_exists($this->envFile)) {
-            $this->data = parse_ini_file($this->envFile);
-            foreach ($this->data as $key => $value) {
-                if (!getenv($key)) {
-                    putenv("$key=$value");
-                    $_ENV[$key] = $value;
-                }
-            }
-        } else {
-            throw new Exception(".env file '{$this->envFile}' not found.");
-        }
-    }
-    public function set($key, $value)
-    {
-        $this->data[$key] = $value;
-        putenv("$key=$value");
-        $this->store($key, $value);
-    }
-    public function get($key)
-    {
-        return getenv($key);
-    }
-    public function getAll()
-    {
-        return $this->data;
-    }
-    public function unset($key)
-    {
-        unset($_ENV[$key]);
-        return $this;
-    }
-    private function store($key, $value)
-    {
-        $content = file_get_contents($this->envFile);
-        $content = preg_replace("/^$key=.*/m", "$key=$value", $content, 1, $count);
-        if ($count === 0) {
-            $content .= "$key=$value\n";
-        }
-        file_put_contents("/tmp/.env", $content);
-        system('sudo mv /tmp/.env '.$this->envFile, $result);
-        if ($result !== 0) {
-            throw new Exception("Unable to move .env file: ". $this->envFile);
-        }
-    }
-    protected function createEnv()
-    {
-        exec('sudo touch '. escapeshellarg($this->envFile), $output, $result);
-        if ($result !== 0) {
-            throw new Exception("Unable to create .env file: ". $this->envFile);
-        }
-    }
-}

--- a/templates/restapi.php
+++ b//dev/null
@@ -1,47 +0,0 @@
-  <?php ob_start() ?>
-    <?php if (!RASPI_MONITOR_ENABLED) : ?>
-    <input type="submit" class="btn btn-outline btn-primary" name="SaveAPIsettings" value="<?php echo _("Save settings"); ?>" />
-        <?php if ($serviceStatus == 'down') : ?>
-        <input type="submit" class="btn btn-success" name="StartRestAPIservice" value="<?php echo _("Start RestAPI service"); ?>" />
-        <?php else : ?>
-        <input type="submit" class="btn btn-warning" name="StopRestAPIservice" value="<?php echo _("Stop RestAPI service"); ?>" />
-        <?php endif; ?>
-    <?php endif ?>
-  <?php $buttons = ob_get_clean(); ob_end_clean() ?>
-  <div class="row">
-    <div class="col-lg-12">
-      <div class="card">
-        <div class="card-header">
-          <div class="row">
-            <div class="col">
-              <i class="fas fa-puzzle-piece mr-2"></i><?php echo _("RestAPI"); ?>
-            </div>
-            <div class="col">
-              <button class="btn btn-light btn-icon-split btn-sm service-status float-right">
-                <span class="icon text-gray-600"><i class="fas fa-circle service-status-<?php echo $serviceStatus ?>"></i></span>
-                <span class="text service-status">restapi.service <?php echo _($serviceStatus) ?></span>
-              </button>
-            </div>
-          </div><!-- /.row -->
-        </div><!-- /.card-header -->
-        <div class="card-body">
-        <?php $status->showMessages(); ?>
-          <form role="form" action="restapi_conf" method="POST" class="needs-validation" novalidate>
-            <?php echo CSRFTokenFieldTag() ?>
-            <!-- Nav tabs -->
-            <ul class="nav nav-tabs">
-                <li class="nav-item"><a class="nav-link active" id="restapisettingstab" href="#restapisettings" data-toggle="tab"><?php echo _("Settings"); ?></a></li>
-                <li class="nav-item"><a class="nav-link" id="restapistatustab" href="#restapistatus" data-toggle="tab"><?php echo _("Status"); ?></a></li>
-            </ul>
-            <!-- Tab panes -->
-            <div class="tab-content">
-              <?php echo renderTemplate("restapi/general", $__template_data) ?>
-              <?php echo renderTemplate("restapi/status", $__template_data) ?>
-            </div><!-- /.tab-content -->
-            <?php echo $buttons ?>
-          </form>
-        </div><!-- /.card-body -->
-      <div class="card-footer"></div>
-    </div><!-- /.card -->
-  </div><!-- /.col-lg-12 -->
-</div><!-- /.row -->

--- a/templates/restapi/general.php
+++ b//dev/null
@@ -1,26 +0,0 @@
-<div class="tab-pane active" id="restapisettings">
-  <h4 class="mt-3"><?php echo ("RestAPI settings") ;?></h4>
-  <div class="row">
-    <div class="form-group col-lg-12 mt-2">
-      <div class="row">
-        <div class="col-md-6">
-          <?php echo $docMsg; ?>
-        </div>
-      </div>
-      <div class="row mt-3">
-        <div class="form-group col-md-6" required>
-          <label for="txtapikey"><?php echo _("API Key"); ?></label>
-          <div class="input-group">
-              <input type="text" class="form-control" id="txtapikey" name="txtapikey" value="<?php echo htmlspecialchars($apiKey, ENT_QUOTES); ?>" required />
-              <div class="input-group-append">
-                <button class="btn btn-outline-secondary" type="button" id="gen_apikey"><i class="fas fa-magic"></i></button>
-              </div>
-              <div class="invalid-feedback">
-                <?php echo _("Please provide a valid API key."); ?>
-              </div>
-          </div>
-        </div>
-      </div>
-    </div>
-  </div>
-</div><!-- /.tab-pane | general tab -->

--- a/templates/restapi/status.php
+++ b//dev/null
@@ -1,10 +0,0 @@
-<!-- status tab -->
-<div class="tab-pane fade" id="restapistatus">
-  <h4 class="mt-3 mb-3"><?php echo _("RestAPI status") ;?></h4>
-  <p><?php echo _("Current <code>restapi.service</code> status is displayed below."); ?></p>
-  <div class="row">
-    <div class="form-group col-md-8 mt-2">
-      <textarea class="logoutput"><?php echo htmlspecialchars($serviceLog, ENT_QUOTES); ?></textarea>
-    </div>
-  </div>
-</div><!-- /.tab-pane -->
