# ====================================================================
# FILE: src/fitnesse/junit/JUnitXMLPerPageRunListener.java
# Total hunks: 1
# ====================================================================
# --- HUNK 1: Lines 69-109 ---
    69|     long executionTime = getExecutionTime();
    70|     if (throwable instanceof AssertionError) {
    71|       testResultRecorder.recordTestResult(testName, 0, 1, 0, throwable, executionTime);
    72|     } else {
    73|       testResultRecorder.recordTestResult(testName, 0, 0, 1, throwable, executionTime);
    74|     }
    75|   }
    76|   @Override
    77|   public void testIgnored(Description description) throws Exception {
    78|     super.testIgnored(description);
    79|     if (!timeMeasurement.isStopped()) {
    80|       testResultRecorder.recordTestResult(getTestName(description), 1, 0, 0, null, getExecutionTime());
    81|     }
    82|   }
    83|   /**
    84|    * @return test execution time in milliseconds
    85|    */
    86|   protected long getExecutionTime() {
    87|     long executionTime = 0;
    88|     if (timeMeasurement != null) {
    89|       executionTime = timeMeasurement.elapsed();
    90|       if (!timeMeasurement.isStopped()) {
    91|         timeMeasurement.stop();
    92|       }
    93|     }
    94|     return executionTime;
    95|   }
    96|   /**
    97|    * @return directory to store test XMLs in
    98|    */
    99|   protected String getOutputPath() {
   100|     return OUTPUT_PATH;
   101|   }
   102|   /**
   103|    * @param description JUnit description of test executed
   104|    * @return name to use in report
   105|    */
   106|   protected String getTestName(Description description) {
   107|     return description.getMethodName();
   108|   }
   109| }

