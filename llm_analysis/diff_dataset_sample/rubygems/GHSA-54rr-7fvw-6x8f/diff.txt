--- a/lib/rack.rb
+++ b/lib/rack.rb
@@ -1,16 +1,16 @@
 module Rack
   VERSION = [1,3]
   def self.version
     VERSION.join(".")
   end
-  RELEASE = "2.0.9.4"
+  RELEASE = "2.0.9.3"
   def self.release
     RELEASE
   end
   HTTP_HOST         = 'HTTP_HOST'.freeze
   HTTP_VERSION      = 'HTTP_VERSION'.freeze
   HTTPS             = 'HTTPS'.freeze
   PATH_INFO         = 'PATH_INFO'.freeze
   REQUEST_METHOD    = 'REQUEST_METHOD'.freeze
   REQUEST_PATH      = 'REQUEST_PATH'.freeze
   SCRIPT_NAME       = 'SCRIPT_NAME'.freeze

--- a/lib/rack/utils.rb
+++ b/lib/rack/utils.rb
@@ -91,22 +91,22 @@
         }.reject(&:empty?).join('&')
       when nil
         prefix
       else
         raise ArgumentError, "value must be a Hash" if prefix.nil?
         "#{prefix}=#{escape(value)}"
       end
     end
     module_function :build_nested_query
     def q_values(q_value_header)
-      q_value_header.to_s.split(',').map do |part|
-        value, parameters = part.split(';', 2).map(&:strip)
+      q_value_header.to_s.split(/\s*,\s*/).map do |part|
+        value, parameters = part.split(/\s*;\s*/, 2)
         quality = 1.0
         if md = /\Aq=([\d.]+)/.match(parameters)
           quality = md[1].to_f
         end
         [value, quality]
       end
     end
     module_function :q_values
     def best_q_match(q_value_header, available_mimes)
       values = q_values(q_value_header)
