# ====================================================================
# FILE: lzma/reader.go
# Total hunks: 1
# ====================================================================
# --- HUNK 1: Lines 1-32 ---
     1| package lzma
     2| import (
     3| 	"errors"
     4| 	"fmt"
     5| 	"io"
     6| )
     7| type ReaderConfig struct {
     8| 	DictCap int
     9| }
    10| func (c *ReaderConfig) fill() {
    11| 	if c.DictCap == 0 {
    12| 		c.DictCap = 1 << 31
    13| 	}
    14| }
    15| func (c *ReaderConfig) Verify() error {
    16| 	c.fill()
    17| 	if !(MinDictCap <= c.DictCap && int64(c.DictCap) <= MaxDictCap) {
    18| 		return errors.New("lzma: dictionary capacity is out of range")
    19| 	}
    20| 	return nil
    21| }
    22| type Reader struct {
    23| 	lzma   io.Reader
    24| 	header Header
    25| 	headerOrig Header
    26| 	d          *decoder
    27| }
    28| func NewReader(lzma io.Reader) (r *Reader, err error) {
    29| 	return ReaderConfig{}.NewReader(lzma)
    30| }
    31| type ErrDictSize struct {
    32| 	ConfigDictCap  int

